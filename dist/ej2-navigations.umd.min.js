/*!
*  filename: ej2-navigations.umd.min.js
*  version : 15.4.23
*  Copyright Syncfusion Inc. 2001 - 2017. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@syncfusion/ej2-base"),require("@syncfusion/ej2-popups"),require("@syncfusion/ej2-buttons"),require("@syncfusion/ej2-lists"),require("@syncfusion/ej2-data"),require("@syncfusion/ej2-inputs")):"function"==typeof define&&define.amd?define(["exports","@syncfusion/ej2-base","@syncfusion/ej2-popups","@syncfusion/ej2-buttons","@syncfusion/ej2-lists","@syncfusion/ej2-data","@syncfusion/ej2-inputs"],t):t(e.ej={},e.ej2Base,e.ej2Popups,e.ej2Buttons,e.ej2Lists,e.ej2Data,e.ej2Inputs)}(this,function(e,t,i,s,n,o,r){"use strict";var l=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),a=function(e,t,i,s){var n,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(r=(o<3?n(r):o>3?n(t,i,r):n(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},d="e-rtl",c="e-overlay",h="e-nav-arrow",p="e-nav-right-arrow",u="e-nav-left-arrow",f="e-scroll-nav",m="e-scroll-right-nav",v="e-scroll-left-nav",y=function(e){function i(t,i){return e.call(this,t,i)||this}return l(i,e),i.prototype.preRender=function(){this.browser=t.Browser.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=t.Browser.isDevice;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=t.getUniqueID("hscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add(d)},i.prototype.render=function(){this.touchModule=new t.Touch(this.element,{scroll:this.touchHandler.bind(this)}),this.isDevice?this.element.classList.add("e-scroll-device"):(this.createNavIcon(this.element),t.EventHandler.add(this.scrollEle,"scroll",this.scrollHandler,this))},i.prototype.initialize=function(){var e=t.createElement("div",{className:"e-hscroll-content"}),i=t.createElement("div",{className:"e-hscroll-bar"});i.setAttribute("tabindex","-1");for(var s=this.element,n=0,o=[].slice.call(s.children);n<o.length;n++){var r=o[n];e.appendChild(r)}i.appendChild(e),s.appendChild(i),i.style.overflowX="hidden",this.scrollEle=i,this.scrollItems=e},i.prototype.getPersistData=function(){return this.addOnPersist(["scrollStep"])},i.prototype.getModuleName=function(){return"hScroll"},i.prototype.destroy=function(){var i=this.element;i.style.display="",i.classList.remove("e-hscroll");for(var s=t.selectAll("#"+i.id+"_nav.e-"+i.id+"_nav"),n=0,o=[].slice.call(this.scrollItems.children);n<o.length;n++){var r=o[n];i.appendChild(r)}this.uniqueId&&this.element.removeAttribute("id"),t.detach(this.scrollEle),s.length>0&&(t.detach(s[0]),t.detach(s[1])),t.EventHandler.remove(this.scrollEle,"scroll",this.scrollHandler),this.touchModule.destroy(),this.touchModule=null,e.prototype.destroy.call(this)},i.prototype.createNavIcon=function(e){var i=e.id.concat("_nav"),s="e-"+e.id.concat("_nav "+f+" "+m),n=t.createElement("div",{id:i,className:s});n.setAttribute("aria-disabled","false");var o=t.createElement("div",{className:p+" "+h+" e-icons"}),r="e-"+e.id.concat("_nav "+f+" "+v),l=t.createElement("div",{id:i,className:r+" "+c});l.setAttribute("aria-disabled","true");var a=t.createElement("div",{className:u+" "+h+" e-icons"});l.appendChild(a),n.appendChild(o),n.setAttribute("tabindex","0"),e.appendChild(n),e.insertBefore(l,e.firstChild),this.ieCheck&&(n.classList.add("e-ie-align"),l.classList.add("e-ie-align")),this.eventBinding([n,l])},i.prototype.onKeyPress=function(e){var t=this;if("Enter"===e.key){this.keyTimer=window.setTimeout(function(){t.keyTimeout=!0,t.eleScrolling(10,e.target)},100)}},i.prototype.onKeyUp=function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},i.prototype.eventBinding=function(e){var i=this;e.forEach(function(e){new t.Touch(e,{tapHold:i.tabHoldHandler.bind(i),tapHoldThreshold:500}),e.addEventListener("keydown",i.onKeyPress.bind(i)),e.addEventListener("keyup",i.onKeyUp.bind(i)),e.addEventListener("mouseup",i.repeatScroll.bind(i)),e.addEventListener("touchend",i.repeatScroll.bind(i)),e.addEventListener("contextmenu",function(e){e.preventDefault()}),t.EventHandler.add(e,"click",i.clickEventHandler,i)})},i.prototype.repeatScroll=function(){clearInterval(this.timeout)},i.prototype.tabHoldHandler=function(e){var t=this,i=e.originalEvent.target;i=this.contains(i,f)?i.firstElementChild:i;this.timeout=window.setInterval(function(){t.eleScrolling(10,i)},50)},i.prototype.contains=function(e,t){return e.classList.contains(t)},i.prototype.eleScrolling=function(e,t){var i=this.scrollEle,s=this.element,n=t.classList;n.contains(f)&&(n=t.querySelector("."+h).classList),this.contains(s,d)&&this.browserCheck&&(e=-e);var o=i.scrollLeft;!this.contains(s,d)||this.browserCheck||this.ieCheck?n.contains(p)?i.scrollLeft=o+e:i.scrollLeft=o-e:n.contains(u)?i.scrollLeft=o+e:i.scrollLeft=o-e},i.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target)},i.prototype.touchHandler=function(e){var t,i=this.scrollEle;t=e.distanceX,this.ieCheck&&this.contains(this.element,d)&&(t=-t),"Left"===e.scrollDirection?i.scrollLeft=i.scrollLeft+t:"Right"===e.scrollDirection&&(i.scrollLeft=i.scrollLeft-t)},i.prototype.arrowDisabling=function(e,t){e.classList.add(c),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),clearInterval(this.timeout),t.classList.remove(c),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0"),this.repeatScroll()},i.prototype.scrollHandler=function(e){var t=e.target,i=t.offsetWidth,s=this.element,n=this.element.querySelector("."+v),o=this.element.querySelector("."+m),r=t.scrollLeft;if(r<=0&&(r=-r),0===r)!this.contains(s,d)||this.browserCheck||this.ieCheck?this.arrowDisabling(n,o):this.arrowDisabling(o,n);else if(Math.ceil(i+r+.1)>=t.scrollWidth)!this.contains(s,d)||this.browserCheck||this.ieCheck?this.arrowDisabling(o,n):this.arrowDisabling(n,o);else{var l=this.element.querySelector("."+c);l&&(l.classList.remove(c),l.setAttribute("aria-disabled","false"),l.setAttribute("tabindex","0"))}},i.prototype.onPropertyChanged=function(e,t){for(var i=0,s=Object.keys(e);i<s.length;i++){switch(s[i]){case"scrollStep":break;case"enableRtl":e.enableRtl?this.element.classList.add(d):this.element.classList.remove(d)}}},a([t.Property(40)],i.prototype,"scrollStep",void 0),i=a([t.NotifyPropertyChanges],i)}(t.Component),g=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),b=function(e,t,i,s){var n,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(r=(o<3?n(r):o>3?n(t,i,r):n(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},E="e-toolbar-items",C="e-toolbar-item",N="e-rtl",x="e-separator",O="e-popup-up-icon",w="e-popup-down-icon",L="e-overlay",A="e-toolbar-text",I="e-popup-text",k="e-overflow-show",S="e-overflow-hide",P="e-hor-nav",H="e-toolbar-center",U="e-tbar-pos",D="e-toolbar-pop",M="e-toolbar-popup",B="e-nav-active",T="e-ignore",R=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return g(i,e),b([t.Property("")],i.prototype,"id",void 0),b([t.Property("")],i.prototype,"text",void 0),b([t.Property("auto")],i.prototype,"width",void 0),b([t.Property("")],i.prototype,"cssClass",void 0),b([t.Property("")],i.prototype,"prefixIcon",void 0),b([t.Property("")],i.prototype,"suffixIcon",void 0),b([t.Property("None")],i.prototype,"overflow",void 0),b([t.Property("")],i.prototype,"template",void 0),b([t.Property("Button")],i.prototype,"type",void 0),b([t.Property("Both")],i.prototype,"showTextOn",void 0),b([t.Property(null)],i.prototype,"htmlAttributes",void 0),b([t.Property("")],i.prototype,"tooltipText",void 0),b([t.Property("left")],i.prototype,"align",void 0),i}(t.ChildProperty),j=function(e){function n(t,i){var s=e.call(this,t,i)||this;return s.keyConfigs={moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow",popupOpen:"enter",popupClose:"escape",tab:"tab",home:"home",end:"end"},s}return g(n,e),n.prototype.destroy=function(){var t=this,i=this.element;for(e.prototype.destroy.call(this),this.unwireEvents();i.firstChild;)i.removeChild(i.firstChild);this.trgtEle&&i.appendChild(this.ctrlTem),this.clearProperty(),this.popObj=null,this.tbarAlign=null,this.remove(this.element,"e-toolpop"),i.removeAttribute("style"),["aria-disabled","aria-orientation","aria-haspopup","role"].forEach(function(e){t.element.removeAttribute(e)})},n.prototype.preRender=function(){this.trigger("beforeCreate"),this.scrollModule=null,this.popObj=null,this.tbarItemsCol=this.items,this.enableRtl&&this.add(this.element,N)},n.prototype.wireEvents=function(){t.EventHandler.add(this.element,"click",this.clickHandler,this),window.addEventListener("resize",this.resize.bind(this)),this.keyModule=new t.KeyboardEvents(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs}),t.EventHandler.add(this.element,"keydown",this.docKeyDown,this),this.element.setAttribute("tabIndex","0")},n.prototype.docKeyDown=function(e){9===e.keyCode&&!0===e.target.classList.contains("e-hor-nav")&&t.isVisible(this.popObj.element)&&this.popObj.hide({name:"SlideUp",duration:100});(40===e.keyCode||38===e.keyCode||35===e.keyCode||36===e.keyCode)&&e.preventDefault()},n.prototype.unwireEvents=function(){t.EventHandler.remove(this.element,"click",this.clickHandler),this.destroyHScroll(),this.keyModule.destroy(),t.EventHandler.remove(document,"scroll",this.docEvent),t.EventHandler.remove(this.element,"keydown",this.docKeyDown),t.EventHandler.remove(document,"click",this.docEvent)},n.prototype.clearProperty=function(){this.tbarEle=[],this.tbarAlgEle={lefts:[],centers:[],rights:[]}},n.prototype.docEvent=function(e){var i=t.closest(e.target,".e-popup");this.popObj&&t.isVisible(this.popObj.element)&&!i&&this.popObj.hide({name:"SlideUp",duration:100})},n.prototype.destroyHScroll=function(){this.scrollModule&&(this.tbarAlign&&this.add(this.scrollModule.element,U),this.scrollModule.destroy(),this.scrollModule=null)},n.prototype.destroyItems=function(){[].slice.call(this.element.querySelectorAll("."+C)).forEach(function(e){t.detach(e)});var e=this.element.querySelector("."+E);this.tbarAlign&&([].slice.call(e.children).forEach(function(e){t.detach(e)}),this.tbarAlign=!1,this.remove(e,U)),this.clearProperty()},n.prototype.destroyMode=function(){this.scrollModule&&(this.remove(this.scrollModule.element,N),this.destroyHScroll()),this.popObj&&this.popupRefresh(this.popObj.element,!0)},n.prototype.add=function(e,t){e.classList.add(t)},n.prototype.remove=function(e,t){e.classList.remove(t)},n.prototype.elementFocus=function(e){var t=e.firstElementChild;t?(t.focus(),this.activeEleSwitch(e)):e.focus()},n.prototype.clstElement=function(e,i){return e&&this.popObj&&t.isVisible(this.popObj.element)?this.popObj.element.querySelector("."+C):this.element===i||e?this.element.querySelector("."+C):t.closest(i,"."+C)},n.prototype.keyHandling=function(e,i,s,n,o){var r=this.popObj,l=this.element,a={name:"SlideUp",duration:100};switch(i.action){case"moveRight":l===s?this.elementFocus(e):n||this.eleFocus(e,"next");break;case"moveLeft":n||this.eleFocus(e,"previous");break;case"home":case"end":var d=void 0,c=void 0;if(e){var h=t.closest(e,".e-popup");h?t.isVisible(this.popObj.element)&&(c=h.children,d="home"===i.action?c[0]:c[c.length-1]):(c=this.element.querySelectorAll("."+E+" ."+C),d="home"===i.action?c[0]:c[c.length-1]),d&&this.elementFocus(d)}break;case"moveUp":case"moveDown":var p="moveUp"===i.action?"previous":"next";if(r&&t.closest(s,".e-popup")){var u=r.element,f=u.firstElementChild;if("previous"===p&&f===e||"next"===p&&u.lastElementChild===e)return;this.eleFocus(e,p)}else"moveDown"===i.action&&r&&t.isVisible(r.element)&&this.elementFocus(e);break;case"tab":if(!o&&!n){var m=e.firstElementChild;l===s&&(this.activeEle?this.activeEle.focus():(this.activeEleRemove(m),m.focus()),this.element.removeAttribute("tabindex"))}break;case"popupClose":r&&r.hide(a);break;case"popupOpen":if(!n)return;r&&!t.isVisible(r.element)?(r.element.style.top=l.offsetHeight+"px",r.show({name:"SlideDown",duration:100})):r.hide(a)}},n.prototype.keyActionHandler=function(e){e.preventDefault();var t,i=e.target,s=i.classList.contains(P),n=i.classList.contains("e-scroll-nav");((t=this.clstElement(s,i))||n)&&this.keyHandling(t,e,i,s,n)},n.prototype.eleFocus=function(e,i){var s=Object(e)[i+"ElementSibling"],n=function(e){return e.classList.contains(x)||e.classList.contains(L)};if(s){var o=n(s);if(o&&Object(s)[i+"Sibling"]&&(s=Object(s)[i+"Sibling"],o=n(s)))return void this.eleFocus(s,i);this.elementFocus(s)}else if(this.tbarAlign){var r=Object(e.parentElement)[i+"ElementSibling"];if(t.isNullOrUndefined(r)||0!==r.children.length||(r=Object(r)[i+"ElementSibling"]),!t.isNullOrUndefined(r)&&r.children.length>0)if("next"===i){n(l=r.querySelector("."+C))?this.eleFocus(l,i):(l.firstElementChild.focus(),this.activeEleSwitch(l))}else{var l;n(l=r.lastElementChild)?this.eleFocus(l,i):this.elementFocus(l)}}},n.prototype.clickHandler=function(e){var i=e.target,s=i.classList,n=this.element,o=!t.isNullOrUndefined(t.closest(i,"."+D)),r=t.closest(i,"."+P);r||(r=i),!n.children[0].classList.contains("e-hscroll")&&s.contains(P)&&(s=i.querySelector(".e-icons").classList),(s.contains(O)||s.contains(w))&&this.popupClickHandler(n,r,N);var l,a=t.closest(e.target,"."+C);if(!t.isNullOrUndefined(a)&&!a.classList.contains(L)||r.classList.contains(P)){a&&(l=this.items[this.tbarEle.indexOf(a)]);var d={originalEvent:e,item:l};this.trigger("clicked",d),o&&!d.cancel&&this.popObj.hide({name:"SlideUp",duration:100})}},n.prototype.popupClickHandler=function(e,i,s){var n=this.popObj;t.isVisible(n.element)?(i.classList.remove(B),n.hide({name:"SlideUp",duration:100})):(e.classList.contains(s)&&(n.enableRtl=!0,n.position={X:"left",Y:"top"}),0!==n.offsetX||e.classList.contains(s)||(n.enableRtl=!1,n.position={X:"right",Y:"top"}),n.dataBind(),n.element.style.top=this.element.offsetHeight+"px",i.classList.add(B),n.show({name:"SlideDown",duration:100}))},n.prototype.render=function(){this.initialize(),this.renderControl(),this.wireEvents()},n.prototype.initialize=function(){var e=t.formatUnit(this.width),i=t.formatUnit(this.height);"msie"===t.Browser.info.name&&"auto"===this.height||t.setStyleAttribute(this.element,{height:i}),t.setStyleAttribute(this.element,{width:e});t.attributes(this.element,{role:"toolbar","aria-disabled":"false","aria-haspopup":"false","aria-orientation":"horizontal"})},n.prototype.renderControl=function(){this.trgtEle=this.element.children.length>0?this.element.querySelector("div"):null,this.tbarAlgEle={lefts:[],centers:[],rights:[]},this.renderItems(),this.renderOverflowMode(),this.tbarAlign&&this.itemPositioning(),this.popObj&&this.popObj.element.childElementCount>1&&this.checkPopupRefresh(this.element,this.popObj.element)&&this.popupRefresh(this.popObj.element,!1)},n.prototype.initHScroll=function(e,i){!this.scrollModule&&this.checkOverflow(e,i[0])&&(this.tbarAlign&&this.element.querySelector("."+E+" ."+H).removeAttribute("style"),this.scrollModule=new y({scrollStep:50,enableRtl:this.enableRtl},i[0]),this.remove(this.scrollModule.element,U),t.setStyleAttribute(this.element,{overflow:"hidden"}))},n.prototype.itemWidthCal=function(e){var i=0;return[].slice.call(t.selectAll("."+C,e)).forEach(function(e){t.isVisible(e)&&(i+=e.offsetWidth+parseFloat(window.getComputedStyle(e).marginRight))}),i},n.prototype.checkOverflow=function(e,i){if(t.isNullOrUndefined(e)||t.isNullOrUndefined(i)||!t.isVisible(e))return!1;var s,n=e.offsetWidth;s=this.tbarAlign||this.scrollModule?this.itemWidthCal(this.scrollModule?i.querySelector(".e-hscroll-content"):i):i.offsetWidth;var o=e.querySelector("."+P),r=e.querySelector(".e-scroll-nav");return s>n-(o?o.offsetWidth:r?2*r.offsetWidth:0)},n.prototype.refreshOverflow=function(){this.resize()},n.prototype.renderOverflowMode=function(){var e=this.element,i=e.querySelector("."+E);if(e&&e.children.length>0)switch(this.offsetWid=e.offsetWidth,this.remove(this.element,"e-toolpop"),this.overflowMode){case"Scrollable":this.destroyHScroll(),this.initHScroll(e,e.getElementsByClassName(E));break;case"Popup":this.add(this.element,"e-toolpop"),this.tbarAlign&&this.removePositioning(),this.checkOverflow(e,i)&&(this.createPopupEle(e,[].slice.call(t.selectAll("."+E+" ."+C,e))),this.element.querySelector("."+P).setAttribute("tabIndex","0")),this.tbarAlign&&(this.add(i,U),this.itemPositioning())}},n.prototype.createPopupEle=function(e,i){var s=e.querySelector("."+P);s||this.createPopupIcon(e),s=e.querySelector("."+P);var n=e.offsetWidth-s.offsetWidth;this.element.classList.remove("e-rtl"),t.setStyleAttribute(this.element,{direction:"initial"}),this.checkPriority(e,i,n,!0),this.enableRtl&&this.element.classList.add("e-rtl"),this.element.style.removeProperty("direction"),this.createPopup()},n.prototype.pushingPoppedEle=function(e,i,s,n){var o=e.element,r=t.selectAll("."+k,s),l=0,a=0;[].slice.call(t.selectAll("."+M,o.querySelector("."+E))).forEach(function(o,d){r=t.selectAll("."+k,s),o.classList.contains(k)&&r.length>0?e.tbResize&&r.length>d?(s.insertBefore(o,r[d]),++a):(s.insertBefore(o,s.children[r.length]),++a):o.classList.contains(k)?(s.insertBefore(o,s.firstChild),++a):e.tbResize&&o.classList.contains(S)&&s.children.length>0&&0===r.length?(s.insertBefore(o,s.firstChild),++a):o.classList.contains(S)?i.push(o):e.tbResize?(s.insertBefore(o,s.childNodes[l+a]),++l):s.appendChild(o),t.setStyleAttribute(o,{display:"",height:n+"px"})}),i.forEach(function(e){s.appendChild(e)});for(var d=t.selectAll("."+C,o.querySelector("."+E)),c=d.length-1;c>=0;c--){var h=d[c];if(!h.classList.contains(x))break;t.setStyleAttribute(h,{display:"none"})}},n.prototype.createPopup=function(){var e,i,s=this.element;i=s.querySelector("."+C+":not(."+x+" ):not(."+M+" )"),e="auto"===s.style.height||""===s.style.height?null:i.offsetHeight;var n;n=s.querySelector("#"+s.id+"_popup."+D)?s.querySelector("#"+s.id+"_popup."+D):t.createElement("div",{id:s.id+"_popup",className:D}),this.pushingPoppedEle(this,[],n,e),this.popupInit(s,n)},n.prototype.popupInit=function(e,s){if(this.popObj){var n=this.popObj.element;t.setStyleAttribute(n,{maxHeight:"",display:"block"}),t.setStyleAttribute(n,{maxHeight:n.offsetHeight+"px",display:""})}else{e.appendChild(s),t.setStyleAttribute(this.element,{overflow:""});var o=new i.Popup(null,{relateTo:this.element,offsetY:e.offsetHeight,enableRtl:this.enableRtl,open:this.popupOpen.bind(this),close:this.popupClose,position:this.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"}});o.appendTo(s),t.EventHandler.add(document,"scroll",this.docEvent.bind(this)),t.EventHandler.add(document,"click ",this.docEvent.bind(this)),o.element.style.maxHeight=o.element.offsetHeight+"px",o.hide(),this.popObj=o,this.element.setAttribute("aria-haspopup","true")}},n.prototype.popupOpen=function(e){var s=this.popObj,n=this.popObj.element,o=this.popObj.element.parentElement,r=o.querySelector("."+P);t.setStyleAttribute(s.element,{height:"auto",maxHeight:""}),s.element.style.maxHeight=s.element.offsetHeight+"px";var l=n.offsetTop+n.offsetHeight+i.calculatePosition(o).top,a=r.firstElementChild;r.classList.add(B),t.classList(a,[O],[w]);var d=t.isNullOrUndefined(window.scrollY)?0:window.scrollY;if(window.innerHeight+d<l){var c=n.offsetHeight-(l-window.innerHeight-d+5);s.height=c+"px",t.setStyleAttribute(s.element,{maxHeight:c+"px"})}},n.prototype.popupClose=function(e){var i=this.element.parentElement.querySelector("."+P),s=i.firstElementChild;i.classList.remove(B),t.classList(s,[w],[O])},n.prototype.checkPriority=function(e,i,s,n){for(var o=s,r=0,l=0,a=0,d=function(e,t){var i=!1;return t.forEach(function(t){e.classList.contains(t)&&(i=!0)}),i},c=i.length-1;c>=0;c--){var h=parseFloat(window.getComputedStyle(i[c]).marginRight);h+=parseFloat(window.getComputedStyle(i[c]).marginLeft);var p=i[c]===this.tbarEle[0];p&&(this.tbarEleMrgn=h);var u=p?i[c].offsetWidth+h:i[c].offsetWidth;if(i[c].offsetLeft+i[c].offsetWidth+h>s){if(i[c].classList.contains(x)){if(r>0&&l===a){var f=i[c+l+(r-1)];d(f,[x,T])&&t.setStyleAttribute(f,{display:"none"})}r++,l=0,a=0}else l++;i[c].classList.contains(k)&&n?s-=i[c].offsetWidth+h:d(i[c],[x,T])?s-=i[c].offsetWidth+h:(i[c].classList.add(M),t.setStyleAttribute(i[c],{display:"none",minWidth:u+"px"}),a++)}}if(n){var m=t.selectAll("."+C+":not(."+M+")",this.element);this.checkPriority(e,m,o,!1)}},n.prototype.createPopupIcon=function(e){var i=e.id.concat("_nav"),s="e-"+e.id.concat("_nav e-hor-nav"),n=t.createElement("div",{id:i,className:s});"msie"!==t.Browser.info.name&&"edge"!==t.Browser.info.name||n.classList.add("e-ie-align");var o=t.createElement("div",{className:w+" e-icons"});n.appendChild(o),n.setAttribute("tabindex","0"),e.appendChild(n)},n.prototype.tbarPriRef=function(e,i,s,n,o,r,l,a){var d=a,c=this.popObj.element,h=t.selectAll("."+M+":not(."+k+")",c).length,p=function(e,t){return e.classList.contains(t)};if(0===t.selectAll(".e-toolbar-item:not(.e-separator):not(.e-overflow-show)",e).length){var u=e.children[i-(i-s)-1],f=!t.isNullOrUndefined(u)&&p(u,T);if(!t.isNullOrUndefined(u)&&p(u,x)&&!t.isVisible(u)||f){u.style.display="inherit";var m=u.offsetWidth+2*parseFloat(window.getComputedStyle(u).marginRight),v=u.previousElementSibling;r+m<l||o?(e.insertBefore(n,e.children[i+d-(i-s)]),t.isNullOrUndefined(v)||(v.style.display="")):v.classList.contains(x)&&(v.style.display="none"),u.style.display=""}else e.insertBefore(n,e.children[i+d-(i-s)])}else e.insertBefore(n,e.children[i+d-h])},n.prototype.popupRefresh=function(e,i){var s=this.element,n=s.querySelector("."+P),o=s.querySelector("."+E);if(!t.isNullOrUndefined(n)){o.removeAttribute("style"),e.style.display="block";var r=s.offsetWidth-(n.offsetWidth+o.offsetWidth);this.popupEleRefresh(r,e,i),e.style.display="",0===e.children.length&&n&&this.popObj&&(t.detach(n),n=null,this.popObj.destroy(),t.detach(this.popObj.element),this.popObj=null,s.setAttribute("aria-haspopup","false"),s.classList.remove("e-toolpop"))}},n.prototype.ignoreEleFetch=function(e,t){var i=[].slice.call(t.querySelectorAll("."+T)),s=[],n=0;return i.length>0?(i.forEach(function(e){s.push([].slice.call(t.children).indexOf(e))}),s.forEach(function(t){t<=e&&n++}),n):0},n.prototype.checkPopupRefresh=function(e,t){t.style.display="block";var i=this.popupEleWidth(t.firstElementChild);t.firstElementChild.style.removeProperty("Position");var s=e.offsetWidth-e.querySelector("."+P).offsetWidth,n=e.querySelector("."+E).offsetWidth;return t.style.removeProperty("display"),s>i+n},n.prototype.popupEleWidth=function(e){e.style.position="absolute";var i=e.offsetWidth,s=e.querySelector(".e-tbar-btn-text");if(e.classList.contains("e-tbtn-align")||e.classList.contains(I)){var n=e.children[0];!t.isNullOrUndefined(s)&&e.classList.contains(I)?s.style.display="none":!t.isNullOrUndefined(s)&&e.classList.contains(A)&&(s.style.display="block"),n.style.minWidth="0%",i=e.offsetWidth,n.style.minWidth="",t.isNullOrUndefined(s)||(s.style.display="")}return i},n.prototype.popupEleRefresh=function(e,i,s){for(var n,o,r=this.tbarEle,l=this.element.querySelector("."+E),a=0,d=function(i){var d=c.popupEleWidth(i);if(i===c.tbarEle[0]&&(d+=c.tbarEleMrgn),i.style.position="",!(d<e||s))return"break";if(i.style.minWidth="",i.classList.contains(S)||i.classList.remove(M),o=c.tbarEle.indexOf(i),c.tbarAlign){var h=c.items[o].align;o=c.tbarAlgEle[h+"s"].indexOf(i),r=c.tbarAlgEle[h+"s"],l=c.element.querySelector("."+E+" .e-toolbar-"+h)}var p=0;r.slice(0,o).forEach(function(t){(t.classList.contains(k)||t.classList.contains(x))&&(t.classList.contains(x)&&(t.style.display="",e-=t.offsetWidth),p++)}),a=c.ignoreEleFetch(o,l),i.classList.contains(k)?(c.tbarPriRef(l,o,p,i,s,d,e,a),e-=i.offsetWidth):0===o?(l.insertBefore(i,l.firstChild),e-=i.offsetWidth):(n=t.selectAll("."+k,c.popObj.element).length,l.insertBefore(i,l.children[o+a-n]),e-=i.offsetWidth),i.style.height=""},c=this,h=0,p=[].slice.call(i.children);h<p.length;h++){if("break"===d(p[h]))break}this.checkOverflow(this.element,this.element.getElementsByClassName(E)[0])&&!s&&this.renderOverflowMode()},n.prototype.removePositioning=function(){var e=this.element.querySelector("."+E);if(!t.isNullOrUndefined(e)&&e.classList.contains(U)){this.remove(e,U);var i=[].slice.call(e.childNodes);i[1].removeAttribute("style"),i[2].removeAttribute("style")}},n.prototype.refreshPositioning=function(){var e=this.element.querySelector("."+E);this.add(e,U),this.itemPositioning()},n.prototype.itemPositioning=function(){var e=this.element.querySelector("."+E);if(!t.isNullOrUndefined(e)&&e.classList.contains(U)){var i,s=this.element.querySelector("."+P),n=(i=this.scrollModule?[].slice.call(e.querySelector(".e-hscroll-content").children):[].slice.call(e.childNodes))[0].offsetWidth+i[2].offsetWidth,o=this.element.offsetWidth;if(s){o-=s.offsetWidth;var r=s.offsetWidth+"px";i[2].removeAttribute("style"),this.enableRtl?i[2].style.left=r:i[2].style.right=r}if(!(o<=n)){var l=(o-n-i[1].offsetWidth)/2;i[1].removeAttribute("style");var a=i[0].offsetWidth+l+"px";this.enableRtl?i[1].style.marginRight=a:i[1].style.marginLeft=a}}},n.prototype.tbarItemAlign=function(e,i,s){var n=this,o=[];if(o.push(t.createElement("div",{className:"e-toolbar-left"})),o.push(t.createElement("div",{className:H})),o.push(t.createElement("div",{className:"e-toolbar-right"})),0===s&&"left"!==e.align)o.forEach(function(e){i.appendChild(e)}),this.tbarAlign=!0,this.add(i,U);else if("left"!==e.align){var r=i.childNodes,l=o[0];[].slice.call(r).forEach(function(e){n.tbarAlgEle.lefts.push(e),l.appendChild(e)}),i.appendChild(l),i.appendChild(o[1]),i.appendChild(o[2]),this.tbarAlign=!0,this.add(i,U)}},n.prototype.ctrlTemplate=function(){var e=this;this.ctrlTem=this.trgtEle.cloneNode(!0),this.add(this.trgtEle,E),this.tbarEle=[];[].slice.call(this.trgtEle.children).forEach(function(t){"DIV"===t.tagName&&(e.tbarEle.push(t),t.setAttribute("aria-disabled","false"),e.add(t,C))})},n.prototype.renderItems=function(){var e,i,s,n=this.element,o=this.items;if(n&&n.children.length>0&&(e=n.querySelector("."+E)),null!=this.trgtEle)this.ctrlTemplate();else if(n&&o.length>0){e||(e=t.createElement("div",{className:E}));for(var r=0;r<o.length;r++)i=this.renderSubComponent(o[r]),-1===this.tbarEle.indexOf(i)&&this.tbarEle.push(i),this.tbarAlign||this.tbarItemAlign(o[r],e,r),(s=e.querySelector(".e-toolbar-"+o[r].align.toLowerCase()))?(this.tbarAlgEle[o[r].align+"s"].push(i),s.appendChild(i)):e.appendChild(i);n.appendChild(e)}},n.prototype.setAttr=function(e,t){for(var i,s=Object.keys(e),n=0;n<s.length;n++)"class"===(i=s[n])?this.add(t,e[i]):t.setAttribute(i,e[i])},n.prototype.enableItems=function(e,i){var s=e,n=s.length;t.isNullOrUndefined(i)&&(i=!0);var o=function(e,t){e?(t.classList.remove(L),t.setAttribute("aria-disabled","false")):(t.classList.add(L),t.setAttribute("aria-disabled","true"))};if(n&&n>1){for(var r=0,l=[].slice.call(s);r<l.length;r++){o(i,l[r])}i?t.removeClass(s,L):t.addClass(s,L)}else{o(i,n&&1===n?s[0]:e)}},n.prototype.addItems=function(e,i){var s,n,o=this.element.querySelector("."+E),r="left";t.isNullOrUndefined(i)&&(i=0),e.forEach(function(e){t.isNullOrUndefined(e.align)||"left"===e.align||"left"!==r||(r=e.align)});for(var l=0,a=e;l<a.length;l++){var d=a[l];if(t.isNullOrUndefined(d.type)&&(d.type="Button"),s=t.selectAll("."+C,this.element),d.align=r,n=this.renderSubComponent(d),this.tbarEle.length>=i&&s.length>0){this.destroyMode();var c="l"===d.align[0]?0:"c"===d.align[0]?1:2,h=void 0;this.tbarAlign||"left"===r?this.tbarAlign?((h=t.closest(s[0],"."+E).children[c]).insertBefore(n,h.children[i]),this.tbarAlgEle[d.align+"s"].splice(i,0,n),this.refreshPositioning()):s[0].parentNode.insertBefore(n,s[i]):(this.tbarItemAlign(d,o,1),this.tbarAlign=!0,(h=t.closest(s[0],"."+E).children[c]).appendChild(n),this.tbarAlgEle[d.align+"s"].push(n),this.refreshPositioning()),this.items.splice(i,0,d),this.tbarEle.splice(i,0,n),i++,this.offsetWid=o.offsetWidth}}o.style.width="",this.renderOverflowMode()},n.prototype.removeItems=function(e){var i,s=e,n=[].slice.call(t.selectAll("."+C,this.element));if("number"==typeof s)i=parseInt(e.toString(),10),this.removeItemByIndex(i,n);else if(s&&s.length>1)for(var o=0,r=[].slice.call(s);o<r.length;o++){var l=r[o];i=this.tbarEle.indexOf(l),this.removeItemByIndex(i,n),n=t.selectAll("."+C,this.element)}else{l=s&&s.length&&1===s.length?s[0]:e;i=n.indexOf(l),this.removeItemByIndex(i,n)}this.resize()},n.prototype.removeItemByIndex=function(e,i){if(this.tbarEle[e]&&i[e]){var s=this.tbarEle.indexOf(i[e]);if(this.tbarAlign){var n=this.tbarAlgEle[this.items[s].align+"s"].indexOf(this.tbarEle[s]);this.tbarAlgEle[this.items[s].align+"s"].splice(n,1)}t.detach(i[e]),this.items.splice(s,1),this.tbarEle.splice(s,1)}},n.prototype.templateRender=function(e,i,s){var n,o=s.type,r=e;if("object"==typeof e&&(n="function"==typeof r.appendTo),"string"!=typeof e&&n){if("Input"===o){d=t.createElement("input");s.id?d.id=s.id:d.id=t.getUniqueID("tbr-ipt"),i.appendChild(d),r.appendTo(d)}}else{var l=void 0,a=e;a="string"==typeof e?e.trim():e;try{if(document.querySelectorAll(a).length){var d,c=(d=document.querySelector(a)).outerHTML.trim();l=t.compile(c),t.detach(d)}}catch(e){l=t.compile(a)}var h=void 0;t.isNullOrUndefined(l)||(h=l({},this,"template")),!t.isNullOrUndefined(h)&&h.length>0&&[].slice.call(h).forEach(function(e){t.isNullOrUndefined(e.tagName)||(e.style.display=""),i.appendChild(e)})}this.add(i,"e-template"),this.tbarEle.push(i)},n.prototype.buttonRendering=function(e,i){var n=t.createElement("button",{className:"e-tbar-btn"});n.setAttribute("type","button");var o,r,l=e.text;e.id?n.id=e.id:n.id=t.getUniqueID("e-tbr-btn");var a=t.createElement("div",{className:"e-tbar-btn-text"});return l?(a.innerHTML=l,n.appendChild(a),n.classList.add("e-tbtn-txt")):this.add(i,"e-tbtn-align"),(e.prefixIcon||e.suffixIcon)&&(e.prefixIcon&&e.suffixIcon||e.prefixIcon?(o=e.prefixIcon+" e-icons",r="left"):(o=e.suffixIcon+" e-icons",r="right")),new s.Button({iconCss:o,iconPosition:r},n),e.width&&t.setStyleAttribute(n,{width:t.formatUnit(e.width)}),n},n.prototype.renderSubComponent=function(e){var i,s;if((i=t.createElement("div",{className:C})).setAttribute("aria-disabled","false"),this.tbarEle||(this.tbarEle=[]),e.htmlAttributes&&this.setAttr(e.htmlAttributes,i),e.tooltipText&&i.setAttribute("title",e.tooltipText),e.cssClass&&(i.className=i.className+" "+e.cssClass),e.template)this.templateRender(e.template,i,e);else switch(e.type){case"Button":(s=this.buttonRendering(e,i)).setAttribute("tabindex","-1"),i.appendChild(s),i.addEventListener("click",this.itemClick.bind(this));break;case"Separator":this.add(i,x)}if(e.showTextOn){var n=e.showTextOn;"Toolbar"===n?(this.add(i,A),this.add(i,"e-tbtn-align")):"Overflow"===n&&this.add(i,I)}if(e.overflow){var o=e.overflow;"Show"===o?this.add(i,k):"Hide"===o&&(i.classList.contains(x)||this.add(i,S))}return i},n.prototype.itemClick=function(e){this.activeEleSwitch(e.currentTarget)},n.prototype.activeEleSwitch=function(e){this.activeEleRemove(e.firstElementChild),this.activeEle.focus()},n.prototype.activeEleRemove=function(e){t.isNullOrUndefined(this.activeEle)||this.activeEle.setAttribute("tabindex","-1"),this.activeEle=e,t.isNullOrUndefined(this.trgtEle)&&!e.parentElement.classList.contains("e-template")?e.removeAttribute("tabindex"):this.activeEle.setAttribute("tabindex","0")},n.prototype.getPersistData=function(){return this.addOnPersist([])},n.prototype.getModuleName=function(){return"toolbar"},n.prototype.itemsRerender=function(e){this.items=this.tbarItemsCol,this.destroyMode(),this.destroyItems(),this.items=e,this.tbarItemsCol=this.items,this.renderItems(),this.renderOverflowMode()},n.prototype.resize=function(){var e=this.element;this.tbResize=!0,this.tbarAlign&&this.itemPositioning(),this.popObj&&this.popObj.hide();var t=this.checkOverflow(e,e.getElementsByClassName(E)[0]);t||this.destroyHScroll(),t&&this.scrollModule&&this.offsetWid===e.offsetWidth||((this.offsetWid>e.offsetWidth||t)&&this.renderOverflowMode(),this.popObj&&(this.tbarAlign&&this.removePositioning(),this.popupRefresh(this.popObj.element,!1),this.tbarAlign&&this.refreshPositioning()),this.offsetWid=e.offsetWidth,this.tbResize=!1)},n.prototype.onPropertyChanged=function(e,i){for(var s=this.element,n=0,o=Object.keys(e);n<o.length;n++){switch(o[n]){case"items":if(e.items instanceof Array&&i.items instanceof Array)this.itemsRerender(e.items);else for(var r=Object.keys(e.items),l=0;l<r.length;l++){var a=parseInt(Object.keys(e.items)[l],10),d=Object.keys(e.items[a])[0];Object(i.items[a])[d],Object(e.items[a])[d];if(this.tbarAlign||"align"===d){this.refresh();break}this.destroyMode();var c=[].slice.call(t.selectAll("."+E+" ."+C,s));t.detach(c[a]),this.tbarEle.splice(a,1),this.addItems([this.items[a]],a),this.items.splice(a,1),this.items[a].template&&this.tbarEle.splice(this.items.length,1)}break;case"width":var h=s.offsetWidth;t.setStyleAttribute(s,{width:t.formatUnit(e.width)}),this.renderOverflowMode(),this.popObj&&h<s.offsetWidth&&this.popupRefresh(this.popObj.element,!1);break;case"height":t.setStyleAttribute(this.element,{height:t.formatUnit(e.height)});break;case"overflowMode":this.destroyMode(),this.renderOverflowMode(),this.enableRtl&&this.add(s,N),this.refreshOverflow();break;case"enableRtl":e.enableRtl?this.add(s,N):this.remove(s,N),t.isNullOrUndefined(this.scrollModule)||(e.enableRtl?this.add(this.scrollModule.element,N):this.remove(this.scrollModule.element,N)),t.isNullOrUndefined(this.popObj)||(e.enableRtl?this.add(this.popObj.element,N):this.remove(this.popObj.element,N)),this.tbarAlign&&this.itemPositioning()}}},b([t.Collection([],R)],n.prototype,"items",void 0),b([t.Property("auto")],n.prototype,"width",void 0),b([t.Property("auto")],n.prototype,"height",void 0),b([t.Property("Scrollable")],n.prototype,"overflowMode",void 0),b([t.Property(!1)],n.prototype,"enableRtl",void 0),b([t.Event()],n.prototype,"clicked",void 0),b([t.Event()],n.prototype,"created",void 0),b([t.Event()],n.prototype,"destroyed",void 0),b([t.Event()],n.prototype,"beforeCreate",void 0),n=b([t.NotifyPropertyChanges],n)}(t.Component),W=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),F=function(e,t,i,s){var n,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(r=(o<3?n(r):o>3?n(t,i,r):n(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},q="e-acrdn-root",_="e-accordion",V="e-acrdn-item",z="e-acrdn-header",K="e-acrdn-header-content",G="e-acrdn-panel",Y="e-content",X="e-toggle-icon",Q="e-expand-icon",J="e-content-hide",Z="e-select",$="e-selected",ee="e-active",te="e-overlay",ie="e-toggle-animation",se="e-expand-state",ne=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return W(i,e),F([t.Property("SlideDown")],i.prototype,"effect",void 0),F([t.Property(400)],i.prototype,"duration",void 0),F([t.Property("linear")],i.prototype,"easing",void 0),i}(t.ChildProperty),oe=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return W(i,e),F([t.Complex({effect:"SlideUp",duration:400,easing:"linear"},ne)],i.prototype,"collapse",void 0),F([t.Complex({effect:"SlideDown",duration:400,easing:"linear"},ne)],i.prototype,"expand",void 0),i}(t.ChildProperty),re=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return W(i,e),F([t.Property(void 0)],i.prototype,"content",void 0),F([t.Property(void 0)],i.prototype,"header",void 0),F([t.Property(void 0)],i.prototype,"cssClass",void 0),F([t.Property(void 0)],i.prototype,"iconCss",void 0),F([t.Property(!1)],i.prototype,"expanded",void 0),i}(t.ChildProperty),le=function(e){function i(t,i){var s=e.call(this,t,i)||this;return s.keyConfigs={moveUp:"uparrow",moveDown:"downarrow",enter:"enter",space:"space",home:"home",end:"end"},s}return W(i,e),i.prototype.destroy=function(){var t=this,i=this.element;for(e.prototype.destroy.call(this),this.unwireEvents(),this.isDestroy=!0;i.firstChild;)i.removeChild(i.firstChild);if(this.trgtEle)for(;this.ctrlTem.firstChild;)i.appendChild(this.ctrlTem.firstChild);i.removeAttribute("style"),["aria-disabled","aria-multiselectable","role"].forEach(function(e){t.element.removeAttribute(e)})},i.prototype.preRender=function(){var e=t.closest(this.element,"."+G);this.isNested=!1,this.isDestroy||(this.isDestroy=!1),t.isNullOrUndefined(e)?this.element.classList.add(q):(e.classList.add("e-nested"),this.isNested=!0),this.enableRtl&&this.add(this.element,"e-rtl"),this.enablePersistence&&!t.isNullOrUndefined(this.expandedItems)||(this.expandedItems=[])},i.prototype.add=function(e,t){e.classList.add(t)},i.prototype.remove=function(e,t){e.classList.remove(t)},i.prototype.render=function(){this.initialize(),this.renderControl(),this.wireEvents()},i.prototype.initialize=function(){var e=t.formatUnit(this.width),i=t.formatUnit(this.height);t.setStyleAttribute(this.element,{width:e,height:i});this.expandedItems.length>0&&(this.initExpand=this.expandedItems),t.attributes(this.element,{"aria-disabled":"false",role:"presentation","aria-multiselectable":"true"}),"Single"===this.expandMode&&this.element.setAttribute("aria-multiselectable","false")},i.prototype.renderControl=function(){this.trgtEle=this.element.children.length>0?t.select("div",this.element):null,this.renderItems(),this.initItemExpand()},i.prototype.unwireEvents=function(){t.EventHandler.remove(this.element,"click",this.clickHandler),t.isNullOrUndefined(this.keyModule)||this.keyModule.destroy()},i.prototype.wireEvents=function(){t.EventHandler.add(this.element,"click",this.clickHandler,this),this.isNested||this.isDestroy||t.rippleEffect(this.element,{selector:"."+z}),this.isNested||(this.keyModule=new t.KeyboardEvents(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}))},i.prototype.focusIn=function(e){e.target.parentElement.classList.add("e-item-focus")},i.prototype.focusOut=function(e){e.target.parentElement.classList.remove("e-item-focus")},i.prototype.ctrlTemplate=function(){var e=this;this.ctrlTem=this.element.cloneNode(!0);var i,s=this.element.children;t.addClass(s,[V]),[].slice.call(s).forEach(function(n){if(n.id=t.getUniqueID("acrdn_item"),n.children.length>0){e.add(n.children[0],z);var o=n.children[0];t.attributes(o,{tabindex:"0",role:"heading","aria-level":s.length.toString()}),o.id=t.getUniqueID("acrdn_header"),t.EventHandler.add(o,"focus",e.focusIn,e),t.EventHandler.add(o,"blur",e.focusOut,e);var r=o.firstElementChild;r&&r.classList.add(K),(i=n.children[1])&&(i.id=t.getUniqueID("acrdn_panel"),o.setAttribute("aria-controls",i.id),i.style.display="",n.classList.add(Z),n.children[0].appendChild(e.toggleIconGenerate()),t.classList(i,[G,J],[]),t.attributes(i,{"aria-labelledby":o.id,"aria-hidden":"true"}),(i=i.firstElementChild)&&(i.classList.add(Y),i.style.display=""))}})},i.prototype.toggleIconGenerate=function(){var e=t.createElement("div",{className:X}),i=t.createElement("span",{className:"e-tgl-collapse-icon e-icons"});return e.appendChild(i),e},i.prototype.initItemExpand=function(){var e=this.initExpand.length;if(0!==e)if("Single"===this.expandMode)this.expandItem(!0,this.initExpand[e-1]);else for(var t=0;t<e;t++)this.expandItem(!0,this.initExpand[t])},i.prototype.renderItems=function(){var e,i=this,s=this.element;t.isNullOrUndefined(this.initExpand)&&(this.initExpand=[]);var n=this.items;t.isNullOrUndefined(this.trgtEle)?s&&n.length>0&&n.forEach(function(n,o){e=i.renderInnerItem(n,o),s.appendChild(e),e.childElementCount>0&&(t.EventHandler.add(e.querySelector("."+z),"focus",i.focusIn,i),t.EventHandler.add(e.querySelector("."+z),"blur",i.focusOut,i))}):this.ctrlTemplate()},i.prototype.clickHandler=function(e){var i,s,n=this,o=e.target,r={};if(t.closest(o,"."+_)===this.element){o.classList.add("e-target");var l=t.closest(o,"."+V),a=t.closest(o,"."+z),d=t.closest(o,"."+G);l&&(t.isNullOrUndefined(a)||t.isNullOrUndefined(d))&&(a=l.children[0],d=l.children[1]),a&&(s=t.select("."+X,a));var c;d&&(c=t.closest(d,"."+V));var h=[];i=this.getIndexByItem(l),c&&(r.item=this.items[this.getIndexByItem(c)]),r.originalEvent=e;!(!t.isNullOrUndefined(s)&&t.isNullOrUndefined(this.trgtEle)&&l.childElementCount<=1)||!t.isNullOrUndefined(d)&&t.isNullOrUndefined(t.select("."+z+" ."+X,c))||(l.appendChild(this.contentRendering(i)),this.ariaAttrUpdate(l)),this.trigger("clicked",r);var p=d&&!t.isNullOrUndefined(t.select(".e-target",d));if(p=p&&(t.isNullOrUndefined(t.select("."+_,d))||!(t.closest(o,"."+_)===this.element)),o.classList.remove("e-target"),!(o.classList.contains(G)||o.classList.contains(Y)||p)){[].slice.call(this.element.children).forEach(function(e){e.classList.contains(ee)&&h.push(e)});var u=[].slice.call(this.element.querySelectorAll("."+V+" [e-animate]"));if(u.length>0)for(var f=0,m=u;f<m.length;f++){var v=m[f];h.push(v.parentElement)}var y=-1!==h.indexOf(c)&&"true"===d.getAttribute("e-animate"),g=!1;if(!t.isNullOrUndefined(l)&&!t.isNullOrUndefined(a)){var b=t.select("."+G,l),E=t.closest(l,"."+q).querySelector("."+se);if(t.isNullOrUndefined(b))return;g=E===l,!t.isVisible(b)||y&&!c.classList.contains($)?(h.length>0&&"Single"===this.expandMode&&!y&&h.forEach(function(e){n.collapse(t.select("."+G,e)),e.classList.remove(se)}),this.expand(b)):this.collapse(b),t.isNullOrUndefined(E)||g||E.classList.remove(se)}}}},i.prototype.eleMoveFocus=function(e,i,s){var n,o=t.closest(s,"."+V);s===i?n=("moveUp"===e?s.lastElementChild:s).querySelector("."+z):s.classList.contains(z)&&(o="moveUp"===e?o.previousElementSibling:o.nextElementSibling)&&(n=t.select("."+z,o)),n&&n.focus()},i.prototype.keyActionHandler=function(e){e.preventDefault();var i,s=this.element,n=e.target;switch(e.action){case"moveUp":case"moveDown":this.eleMoveFocus(e.action,s,n);break;case"space":case"enter":i=n.nextElementSibling,!t.isNullOrUndefined(i)&&i.classList.contains(G)?"true"!==i.getAttribute("e-animate")&&n.click():n.click();break;case"home":case"end":("home"===e.action?s.firstElementChild.children[0]:s.lastElementChild.children[0]).focus()}},i.prototype.headerEleGenerate=function(){var e=t.createElement("div",{className:z,id:t.getUniqueID("acrdn_header")}),i={tabindex:"0",role:"heading","aria-expanded":"false","aria-selected":"false","aria-disabled":"false","aria-level":this.items.length.toString()};return t.attributes(e,i),e},i.prototype.renderInnerItem=function(e,i){var s;if(s=t.createElement("div",{className:V}),s.id=t.getUniqueID("acrdn_item"),e.header){var n=this.headerEleGenerate(),o=t.createElement("div",{className:K});n.appendChild(o),n.appendChild(this.fetchElement(o,e.header,i,!0)),s.appendChild(n)}var r=t.select("."+z,s);if(!e.expanded||t.isNullOrUndefined(i)||this.enablePersistence||-1===this.initExpand.indexOf(i)&&this.initExpand.push(i),e.cssClass&&s.classList.add(e.cssClass),e.iconCss){var l=t.createElement("div",{className:"e-acrdn-header-icon"}),a=t.createElement("span",{className:e.iconCss+" e-icons"});l.appendChild(a),t.isNullOrUndefined(r)?((r=this.headerEleGenerate()).appendChild(l),s.appendChild(r)):r.insertBefore(l,r.childNodes[0])}if(e.content){var d=this.toggleIconGenerate();t.isNullOrUndefined(r)&&(r=this.headerEleGenerate(),s.appendChild(r)),r.appendChild(d),this.add(s,Z)}return s},i.prototype.fetchElement=function(e,i,s,n){var o,r;try{if(document.querySelectorAll(i).length){var l=document.querySelector(i);r=l.outerHTML.trim(),o=t.compile(r),t.detach(l)}}catch(e){o=t.compile(i)}return t.isNullOrUndefined(o)||!(o().length>0)||t.isNullOrUndefined(o()[0].tagName)&&1===o().length?e.innerHTML=i:([].slice.call(o()).forEach(function(i){t.isNullOrUndefined(i.tagName)||(i.style.display=""),e.appendChild(i)}),t.isNullOrUndefined(r)||(n?this.items[s].header=r:this.items[s].content=r)),e},i.prototype.ariaAttrUpdate=function(e){var i=t.select("."+z,e),s=t.select("."+G,e);i.setAttribute("aria-controls",s.id),s.setAttribute("aria-labelledby",i.id)},i.prototype.contentRendering=function(e){var i=this.items[e].content,s=t.createElement("div",{className:G+" "+J,id:t.getUniqueID("acrdn_panel")});t.attributes(s,{"aria-hidden":"true"});var n=t.createElement("div",{className:Y});return s.appendChild(this.fetchElement(n,i,e,!1)),s},i.prototype.expand=function(e){var i,s=t.closest(e,"."+V);if(!(t.isNullOrUndefined(e)||t.isVisible(e)&&"true"!==e.getAttribute("e-animate")||s.classList.contains(te))){var n=t.closest(s,"."+q).querySelector("."+se),o={name:this.animation.expand.effect,duration:this.animation.expand.duration,timingFunction:this.animation.expand.easing},r=t.select("."+X,s).firstElementChild;i={element:s,item:this.items[this.getIndexByItem(s)],isExpanded:!0};var l=o.name;if(this.trigger("expanding",i),!i.cancel){if(r.classList.add(ie),this.expandedItemsPush(s),t.isNullOrUndefined(n)||n.classList.remove(se),s.classList.add(se),"None"===o.name)return this.expandProgress("begin",r,e,s,i),void this.expandProgress("end",r,e,s,i);this.expandAnimation(l,r,e,s,o,i)}}},i.prototype.expandAnimation=function(e,i,s,n,o,r){var l,a=this;"SlideDown"===e?(o.begin=function(){a.expandProgress("begin",i,s,n,r),s.style.position="absolute",l=n.offsetHeight,s.offsetHeight,s.style.maxHeight=s.offsetHeight+"px",n.style.maxHeight=""},o.progress=function(){n.style.minHeight=l+s.offsetHeight+"px"},o.end=function(){t.setStyleAttribute(s,{position:"",maxHeight:""}),n.style.minHeight="",a.expandProgress("end",i,s,n,r)}):(o.begin=function(){a.expandProgress("begin",i,s,n,r)},o.end=function(){a.expandProgress("end",i,s,n,r)}),new t.Animation(o).animate(s)},i.prototype.expandProgress=function(e,i,s,n,o){this.remove(s,J),this.add(n,$),this.add(i,Q),"end"===e&&(this.add(n,ee),s.setAttribute("aria-hidden","false"),t.attributes(s.previousElementSibling,{"aria-selected":"true","aria-expanded":"true"}),i.classList.remove(ie),this.trigger("expanded",o))},i.prototype.expandedItemsPush=function(e){var t=this.getIndexByItem(e);-1===this.expandedItems.indexOf(t)&&this.expandedItems.push(t)},i.prototype.getIndexByItem=function(e){return[].slice.call(this.element.children).indexOf(e)},i.prototype.expandedItemsPop=function(e){var t=this.getIndexByItem(e);this.expandedItems.splice(this.expandedItems.indexOf(t),1)},i.prototype.collapse=function(e){var i,s=t.closest(e,"."+V);if(!t.isNullOrUndefined(e)&&t.isVisible(e)&&!s.classList.contains(te)){var n={name:this.animation.collapse.effect,duration:this.animation.collapse.duration,timingFunction:this.animation.collapse.easing},o=t.select("."+X,s).firstElementChild;i={element:s,item:this.items[this.getIndexByItem(s)],isExpanded:!1};var r=n.name;if(this.trigger("expanding",i),!i.cancel){if(this.expandedItemsPop(s),s.classList.add(se),o.classList.add(ie),"None"===n.name)return this.collapseProgress("begin",o,e,s,i),void this.collapseProgress("end",o,e,s,i);this.collapseAnimation(r,e,s,o,n,i)}}},i.prototype.collapseAnimation=function(e,i,s,n,o,r){var l,a,d,c,h=this;"SlideUp"===e?(o.begin=function(){d=s.offsetHeight,s.style.minHeight=d+"px",i.style.position="absolute",l=s.offsetHeight,a=i.offsetHeight,i.style.maxHeight=a+"px",h.collapseProgress("begin",n,i,s,r)},o.progress=function(){(c=l-(a-i.offsetHeight))<d&&(s.style.minHeight=c+"px")},o.end=function(){i.style.display="none",h.collapseProgress("end",n,i,s,r),s.style.minHeight="",t.setStyleAttribute(i,{position:"",maxHeight:"",display:""})}):(o.begin=function(){h.collapseProgress("begin",n,i,s,r)},o.end=function(){h.collapseProgress("end",n,i,s,r)}),new t.Animation(o).animate(i)},i.prototype.collapseProgress=function(e,i,s,n,o){this.remove(i,Q),this.remove(n,$),"end"===e&&(this.add(s,J),i.classList.remove(ie),this.remove(n,ee),s.setAttribute("aria-hidden","true"),t.attributes(s.previousElementSibling,{"aria-selected":"false","aria-expanded":"false"}),this.trigger("expanded",o))},i.prototype.getModuleName=function(){return"accordion"},i.prototype.itemAttribUpdate=function(){var e=[].slice.call(this.element.children),i=this.items.length;e.forEach(function(e){t.select("."+z,e).setAttribute("aria-level",""+i)})},i.prototype.addItem=function(e,i){var s=this.element;if(t.isNullOrUndefined(i)&&(i=this.items.length),s.childElementCount>=i){this.items.splice(i,0,e);var n=this.renderInnerItem(e,i);s.childElementCount===i?s.appendChild(n):s.insertBefore(n,s.children[i]),t.EventHandler.add(n.querySelector("."+z),"focus",this.focusIn,this),t.EventHandler.add(n.querySelector("."+z),"blur",this.focusOut,this),this.itemAttribUpdate()}this.expandedItems=[],this.expandedItemRefresh(s),e.expanded&&this.expandItem(!0,i)},i.prototype.expandedItemRefresh=function(e){var t=this;[].slice.call(e.children).forEach(function(e){e.classList.contains($)&&t.expandedItemsPush(e)})},i.prototype.removeItem=function(e){var i=this.element.children[e];t.isNullOrUndefined(i)||(t.detach(i),this.items.splice(e,1),this.itemAttribUpdate(),this.expandedItems=[],this.expandedItemRefresh(this.element))},i.prototype.select=function(e){var i=this.element.children[e];t.isNullOrUndefined(i)||t.isNullOrUndefined(t.select("."+z,i))||i.children[0].focus()},i.prototype.hideItem=function(e,i){var s=this.element.children[e];t.isNullOrUndefined(s)||(t.isNullOrUndefined(i)&&(i=!0),i?this.add(s,"e-hide"):this.remove(s,"e-hide"))},i.prototype.enableItem=function(e,i){var s=this.element.children[e];if(!t.isNullOrUndefined(s)){var n=s.firstElementChild;i?(this.remove(s,te),t.attributes(n,{tabindex:"0","aria-disabled":"false"}),n.focus()):(s.classList.contains(ee)&&(this.expandItem(!1,e),this.eleMoveFocus("movedown",this.element,n)),this.add(s,te),n.setAttribute("aria-disabled","true"),n.removeAttribute("tabindex"))}},i.prototype.expandItem=function(e,i){var s=this,n=this.element;if(t.isNullOrUndefined(i))if("Single"===this.expandMode&&e){var o=n.children[n.childElementCount-1];this.itemExpand(e,o,this.getIndexByItem(o))}else[].slice.call(this.element.children).forEach(function(t){s.itemExpand(e,t,s.getIndexByItem(t))});else{o=this.element.children[i];if(t.isNullOrUndefined(o)||!o.classList.contains(Z)||o.classList.contains(ee)&&e)return;"Single"===this.expandMode&&this.expandItem(!1),this.itemExpand(e,o,i)}},i.prototype.itemExpand=function(e,i,s){var n=i.children[1];if(!i.classList.contains(te)){if(t.isNullOrUndefined(n)&&e)n=this.contentRendering(s),i.appendChild(n),this.ariaAttrUpdate(i);else if(t.isNullOrUndefined(n))return;e?this.expand(n):this.collapse(n)}},i.prototype.getPersistData=function(){return this.addOnPersist(["expandedItems"])},i.prototype.onPropertyChanged=function(e,i){for(var s=this.element,n=0,o=Object.keys(e);n<o.length;n++){switch(o[n]){case"enableRtl":e.enableRtl?this.add(s,"e-rtl"):this.remove(s,"e-rtl");break;case"height":t.setStyleAttribute(this.element,{height:t.formatUnit(e.height)});break;case"width":t.setStyleAttribute(this.element,{width:t.formatUnit(e.width)});break;case"expandMode":"Single"===e.expandMode?(this.element.setAttribute("aria-multiselectable","false"),this.expandedItems.length>1&&this.expandItem(!1)):this.element.setAttribute("aria-multiselectable","true")}}},F([t.Collection([],re)],i.prototype,"items",void 0),F([t.Property("100%")],i.prototype,"width",void 0),F([t.Property("auto")],i.prototype,"height",void 0),F([t.Property("Multiple")],i.prototype,"expandMode",void 0),F([t.Complex({},oe)],i.prototype,"animation",void 0),F([t.Event()],i.prototype,"clicked",void 0),F([t.Event()],i.prototype,"expanding",void 0),F([t.Event()],i.prototype,"expanded",void 0),F([t.Event()],i.prototype,"created",void 0),F([t.Event()],i.prototype,"destroyed",void 0),i=F([t.NotifyPropertyChanges],i)}(t.Component),ae=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),de=function(e,t,i,s){var n,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(r=(o<3?n(r):o>3?n(t,i,r):n(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},ce="downarrow",he="e-focused",pe="e-menuheader",ue="rightarrow",fe="e-selected",me="e-separator",ve="e-contextmenu-wrapper",ye="e-disabled",ge="e-menu-hide",be=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return ae(i,e),de([t.Property("")],i.prototype,"iconCss",void 0),de([t.Property("")],i.prototype,"id",void 0),de([t.Property(!1)],i.prototype,"separator",void 0),de([t.Collection([],i)],i.prototype,"items",void 0),de([t.Property("")],i.prototype,"text",void 0),de([t.Property("")],i.prototype,"url",void 0),i}(t.ChildProperty),Ee=function(e){function s(i,s){var n=e.call(this,i,s)||this;return n.animation=new t.Animation({}),n.navIdx=[],n.isTapHold=!1,n}return ae(s,e),s.prototype.preRender=function(){if("EJ-CONTEXTMENU"===this.element.tagName){this.element.style.display="none",this.element.classList.remove("e-"+this.getModuleName()),this.element.classList.remove("e-control");var e=t.getValue("ej2_instances",this.element),i=t.createElement("ul");this.ngElement=this.element,this.element=i,this.element.classList.add("e-control"),this.element.classList.add("e-"+this.getModuleName()),t.setValue("ej2_instances",e,this.element),this.element.id||(this.element.id=t.getUniqueID(this.getModuleName()))}},s.prototype.render=function(){this.initWrapper(),this.renderItems(),this.wireEvents()},s.prototype.initWrapper=function(){var e=this.getWrapper();e||(e=t.createElement("div",{className:ve}),document.body.appendChild(e)),this.cssClass&&e.classList.add(this.cssClass),this.enableRtl&&e.classList.add("e-rtl"),t.attributes(this.element,{role:"menu",tabindex:"0"}),e.appendChild(this.element),this.element.style.zIndex=this.getZIndex()},s.prototype.renderItems=function(){this.items.length||(this.items=n.ListBase.createJsonFromElement(this.element),this.element.innerHTML="");var e=this.createItems(this.items);t.append(Array.prototype.slice.call(e.children),this.element)},s.prototype.wireEvents=function(){var e=this.getWrapper();if(this.target){for(var s=void 0,n=t.selectAll(this.target),o=0,r=n.length;o<r;o++)s=n[o],t.Browser.isIos?new t.Touch(s,{tapHold:this.touchHandler.bind(this)}):t.EventHandler.add(s,"contextmenu",this.cmenuHandler,this);this.targetElement=s;for(var l=0,a=i.getScrollableParent(this.targetElement);l<a.length;l++){var d=a[l];t.EventHandler.add(d,"scroll",this.scrollHandler,this)}}t.Browser.isDevice||(t.EventHandler.add(e,"mouseover",this.moverHandler,this),t.EventHandler.add(document,"mousedown",this.mouseDownHandler,this)),t.EventHandler.add(document,"click",this.clickHandler,this),new t.KeyboardEvents(e,{keyAction:this.keyBoardHandler.bind(this),keyConfigs:{downarrow:ce,uparrow:"uparrow",enter:"enter",leftarrow:"leftarrow",rightarrow:ue,escape:"escape"}}),t.rippleEffect(e,{selector:".e-menu-item"})},s.prototype.mouseDownHandler=function(e){t.closest(e.target,"."+ve)!==this.getWrapper()&&this.closeMenu(this.navIdx.length,e)},s.prototype.keyBoardHandler=function(e){switch(e.preventDefault(),e.action){case ce:case"uparrow":this.upDownKeyHandler(e);break;case ue:this.rightEnterKeyHandler(e);break;case"leftarrow":this.leftEscKeyHandler(e);break;case"enter":this.rightEnterKeyHandler(e);break;case"escape":this.leftEscKeyHandler(e)}},s.prototype.upDownKeyHandler=function(e){var t=this.getWrapper().children[this.navIdx.length],i=e.action===ce?0:t.childElementCount-1,s=i,n=this.getLIByClass(t,he);n&&(s=this.getIdx(t,n),n.classList.remove(he),e.action===ce?s++:s--,s===(e.action===ce?t.childElementCount:-1)&&(s=i));var o=t.children[s];s=this.isValidLI(o,s,e.action),t.children[s].classList.add(he),t.children[s].focus()},s.prototype.isValidLI=function(e,t,i){var s=this.getWrapper().children[this.navIdx.length];return(e.classList.contains(me)||e.classList.contains(ye)||e.classList.contains(ge))&&(i===ce?t++:t--),((e=s.children[t]).classList.contains(me)||e.classList.contains(ye)||e.classList.contains(ge))&&(t=this.isValidLI(e,t,i)),t},s.prototype.rightEnterKeyHandler=function(e){var t,i=this.getWrapper(),s=i.children[this.navIdx.length],n=this.getLIByClass(s,he);if(n){var o=this.getIdx(s,n),r=this.navIdx.concat(o),l=void 0,a=this.getItem(r);a.items.length?(this.navIdx.push(o),this.openMenu(n,a,null,null,e),n.classList.remove(he),n.classList.add(fe),"enter"===e.action&&(t={element:n,item:a},this.trigger("select",t)),n.focus(),s=i.children[this.navIdx.length],l=this.isValidLI(s.children[0],0,e.action),s.children[l].classList.add(he),s.children[l].focus()):"enter"===e.action&&(n.classList.remove(he),n.classList.add(fe),t={element:n,item:a},this.trigger("select",t),this.closeMenu(null,e))}},s.prototype.leftEscKeyHandler=function(e){if(this.navIdx.length){var t=this.getWrapper();this.closeMenu(this.navIdx.length,e);var i=t.children[this.navIdx.length],s=this.getLIByClass(i,fe);s&&(s.setAttribute("aria-expanded","false"),s.classList.remove(fe),s.classList.add(he),s.focus())}else"escape"===e.action&&this.closeMenu(null,e)},s.prototype.scrollHandler=function(e){this.closeMenu(null,e)},s.prototype.touchHandler=function(e){this.isTapHold=!0,this.cmenuHandler(e.originalEvent)},s.prototype.cmenuHandler=function(e){e.preventDefault(),this.closeMenu(null,e),this.canOpen(e.target)&&(e.changedTouches?this.openMenu(null,null,e.changedTouches[0].clientY,e.changedTouches[0].clientX,e):this.openMenu(null,null,e.clientY,e.clientX,e))},s.prototype.close=function(){this.closeMenu()},s.prototype.closeMenu=function(e,t){if(void 0===e&&(e=0),void 0===t&&(t=null),this.isMenuVisible())for(var i=void 0,s=void 0,n=void 0,o=void 0,r=void 0,l=this.getWrapper(),a=l.childElementCount;a>e;a--)n=(s=this.navIdx.length?this.getItem(this.navIdx):null)?s.items:this.items,r={element:i=l.children[a-1],parentItem:s,items:n,event:t,cancel:!1},this.trigger("beforeClose",r),r.cancel||(this.toggleAnimation(i,!1),this.navIdx.length=e?e-1:e,o={element:i,parentItem:s,items:n},this.trigger("onClose",o))},s.prototype.isMenuVisible=function(){return this.navIdx.length>0||this.element.classList.contains("e-contextmenu")&&t.isVisible(this.element).valueOf()},s.prototype.canOpen=function(e){var t=!0;if(this.filter){t=!1;for(var i=this.filter.split(" "),s=0,n=e.classList.length;s<n;s++)if(i.indexOf(e.classList[s])>-1){t=!0;break}}return t},s.prototype.open=function(e,t){this.openMenu(null,null,e,t)},s.prototype.openMenu=function(e,i,s,n,o){void 0===s&&(s=0),void 0===n&&(n=0),void 0===o&&(o=null);var r,l=this.getWrapper();if(e){if(r=this.createItems(i.items),t.Browser.isDevice){l.lastChild.style.display="none";var a={text:i.text,iconCss:"e-icons e-previous"},d=new be(this.items[0],null,a,!0),c=this.createItems([d]).children[0];c.classList.add(pe),r.insertBefore(c,r.children[0])}r.style.zIndex=this.element.style.zIndex,l.appendChild(r)}else r=this.element;this.getIndex(e?e.textContent:null);var h={element:r,items:e?i.items:this.items,parentItem:i,event:o,cancel:!1};this.trigger("beforeOpen",h),h.cancel?this.navIdx.pop():(this.setPosition(e,r,s,n),this.toggleAnimation(r))},s.prototype.setPosition=function(e,s,n,o){if(this.toggleVisiblity(s),s===this.element){if((a=i.isCollide(s,null,o,n)).indexOf("right")>-1&&(o-=s.offsetWidth),a.indexOf("bottom")>-1){n=(r=i.fit(s,null,{X:!1,Y:!0},{top:n,left:o})).top}if((a=i.isCollide(s,null,o,n)).indexOf("left")>-1){o=(r=i.fit(s,null,{X:!0,Y:!1},{top:n,left:o})).left}}else if(t.Browser.isDevice)n=Number(this.element.style.top.replace("px","")),o=Number(this.element.style.left.replace("px",""));else{var r,l=this.enableRtl?"left":"right";n=(r=i.calculatePosition(e,l,"top")).top,o=r.left;var a,d=(a=i.isCollide(s,null,this.enableRtl?o-s.offsetWidth:o,n)).indexOf("left")>-1||a.indexOf("right")>-1;d&&(o=(r=i.calculatePosition(e,this.enableRtl?"right":"left","top")).left),(this.enableRtl||d)&&(o=this.enableRtl&&d?o:o-s.offsetWidth),a.indexOf("bottom")>-1&&(n=(r=i.fit(s,null,{X:!1,Y:!0},{top:n,left:o})).top)}this.toggleVisiblity(s,!1),s.style.top=n+"px",s.style.left=o+"px"},s.prototype.toggleVisiblity=function(e,t){void 0===t&&(t=!0),e.style.visibility=t?"hidden":"",e.style.display=t?"block":"none"},s.prototype.createItems=function(e){var i=this,s=this.hasField(e,"iconCss"),o={showIcon:s,moduleName:"menu",itemCreating:function(e){e.curData.htmlAttributes={role:"menuitem",tabindex:"-1"},s&&!e.curData.iconCss&&(e.curData.iconCss="e-icons e-blankicon")},itemCreated:function(e){if(e.curData.separator){e.item.classList.add(me),e.item.removeAttribute("role");var s=t.select(".e-blankicon",e.item);s&&t.remove(s)}if(e.curData.items&&e.curData.items.length){var n=t.createElement("span",{className:"e-icons e-caret"});e.item.appendChild(n),e.item.setAttribute("aria-haspopup","true"),e.item.setAttribute("aria-expanded","false"),e.item.removeAttribute("role"),e.item.classList.add("e-menu-caret-icon")}var o={item:e.curData,element:e.item};i.trigger("beforeItemRender",o)}},r=n.ListBase.createList(this.toRawObject(e.slice()),o,!0);return r.setAttribute("tabindex","0"),r},s.prototype.toRawObject=function(e){for(var t,i=[],s=0,n=e.length;s<n;s++)t=e[s].properties,i.push(t);return i},s.prototype.moverHandler=function(e){var i=this.getWrapper(),s=e.target,n=this.getLI(s);if(n&&t.closest(n,"."+ve)){var o=t.select("."+he,i);o&&o.classList.remove(he),n.classList.add(he),this.showItemOnClick||this.clickHandler(e)}},s.prototype.hasField=function(e,t){for(var i=0,s=e.length;i<s;i++)if(e[i][t])return!0;return!1},s.prototype.getWrapper=function(){return t.closest(this.element,"."+ve)},s.prototype.clickHandler=function(e){if(this.isTapHold)this.isTapHold=!1;else{var i=this.getWrapper(),s=e.target,n=this.getLI(s),o=n?t.closest(n,"."+ve):null,r=n&&o&&i.firstElementChild.id===o.firstElementChild.id;if(r&&"click"===e.type&&!n.classList.contains(pe)){this.setLISelected(n);var l=this.getIndex(n.textContent),a={element:n,item:m=this.getItem(l)};this.trigger("select",a)}if(r&&("mouseover"===e.type||t.Browser.isDevice||this.showItemOnClick)){var d=void 0;if(n.classList.contains(pe)){d=i.children[this.navIdx.length-1],this.toggleAnimation(d);(f=this.getLIByClass(d,fe))&&f.classList.remove(fe),t.detach(n.parentNode),this.navIdx.pop()}else if(!n.classList.contains(me)){var c=!0,h=n.parentNode,p=this.getIdx(h,n);if(!t.Browser.isDevice){var u=this.getIdx(i,h);if(this.navIdx[u]===p&&(c=!1),u!==this.navIdx.length&&("mouseover"!==e.type||c)){var f;(f=this.getLIByClass(h,fe))&&f.classList.remove(fe),this.closeMenu(u+1,e)}}if(c){var m,v=this.navIdx.concat(p);(m=this.getItem(v)).items.length?("mouseover"===e.type&&this.setLISelected(n),n.setAttribute("aria-expanded","true"),this.navIdx.push(p),this.openMenu(n,m,null,null,e)):"mouseover"!==e.type&&this.closeMenu(null,e)}}}else"UL"===s.tagName&&s.parentElement===i||n&&n.querySelector(".e-caret")||this.closeMenu(null,e)}},s.prototype.setLISelected=function(e){var t=this.getLIByClass(e.parentElement,fe);t&&t.classList.remove(fe),e.classList.remove(he),e.classList.add(fe)},s.prototype.getLIByClass=function(e,t){for(var i=0,s=e.children.length;i<s;i++)if(e.children[i].classList.contains(t))return e.children[i];return null},s.prototype.getItem=function(e){var t=(e=e.slice()).pop();return this.getItems(e)[t]},s.prototype.getItems=function(e){for(var t=this.items,i=0;i<e.length;i++)t=t[e[i]].items;return t},s.prototype.getIdx=function(e,t,i){void 0===i&&(i=!0);var s=Array.prototype.indexOf.call(e.children,t);return i&&e.children[0].classList.contains(pe)&&s--,s},s.prototype.getLI=function(e){return"LI"===e.tagName?e:t.closest(e,"li")},s.prototype.onPropertyChanged=function(e,t){for(var i=this.getWrapper(),s=0,n=Object.keys(e);s<n.length;s++){switch(n[s]){case"cssClass":t.cssClass&&i.classList.remove(t.cssClass),e.cssClass&&i.classList.add(e.cssClass);break;case"enableRtl":i.classList.toggle("e-rtl");break;case"filter":this.closeMenu(),this.filter=e.filter;break;case"showItemOnClick":this.unWireEvents(),this.showItemOnClick=e.showItemOnClick,this.wireEvents();break;case"target":this.unWireEvents(),this.target=e.target,this.wireEvents();break;case"items":for(var o=void 0,r=void 0,l=void 0,a=Object.keys(e.items),d=0;d<a.length;d++)(r=this.getChangedItemIndex(e,[],Number(a[d]))).length<=this.getWrapper().children.length&&(o=r.pop(),l=this.getItems(r),this.insertAfter([l[o]],l[o].text),this.removeItem(l,r,o)),r.length=0}}},s.prototype.getChangedItemIndex=function(e,t,i){t.push(i);var s=Object.keys(e.items[i]).pop();if("items"===s){var n=e.items[i];this.getChangedItemIndex(n,t,Number(Object.keys(n.items).pop()))}else"isParentArray"===s&&t.length>1&&t.pop();return t},s.prototype.removeItem=function(e,i,s){e.splice(s,1);var n=this.getWrapper().children;i.length<n.length&&t.detach(n[i.length].children[s])},s.prototype.unWireEvents=function(){var e=this.getWrapper();if(this.target){for(var s=void 0,n=void 0,o=t.selectAll(this.target),r=0,l=o.length;r<l;r++)s=o[r],t.Browser.isIos?(n=t.getInstance(s,t.Touch))&&n.destroy():t.EventHandler.remove(s,"contextmenu",this.cmenuHandler);for(var a=0,d=i.getScrollableParent(this.targetElement);a<d.length;a++){var c=d[a];t.EventHandler.remove(c,"scroll",this.scrollHandler)}}t.Browser.isDevice||(t.EventHandler.remove(e,"mouseover",this.moverHandler),t.EventHandler.remove(document,"mousedown",this.mouseDownHandler)),t.EventHandler.remove(document,"click",this.clickHandler);var h=t.getInstance(e,t.KeyboardEvents);h&&h.destroy()},s.prototype.toggleAnimation=function(e,t){var i=this;void 0===t&&(t=!0),"None"!==this.animationSettings.effect&&t?this.animation.animate(e,{name:this.animationSettings.effect,duration:this.animationSettings.duration,timingFunction:this.animationSettings.easing,begin:function(e){e.element.style.display="block",e.element.style.maxHeight=e.element.getBoundingClientRect().height+"px"},end:function(e){i.end(e.element,t)}}):this.end(e,t)},s.prototype.end=function(e,i){if(i){e.style.display="block",e.style.maxHeight="";var s=this.navIdx.length?this.getItem(this.navIdx):null,n={element:e,parentItem:s,items:s?s.items:this.items};if(this.trigger("onOpen",n),e.querySelector("."+he))e.querySelector("."+he).focus();else{var o=void 0;(o=this.getWrapper().children[this.getIdx(this.getWrapper(),e)-1])?o.querySelector("."+fe).focus():this.element.focus()}}else if(e===this.element){var r=this.getLIByClass(this.element,he);r&&r.classList.remove(he);var l=this.getLIByClass(this.element,fe);l&&l.classList.remove(fe),e.style.display="none"}else t.detach(e)},s.prototype.getPersistData=function(){return""},s.prototype.getModuleName=function(){return"contextmenu"},s.prototype.getIndex=function(e,t,i,s){void 0===t&&(t=this.items),void 0===i&&(i=[]),void 0===s&&(s=!1);for(var n,o=0,r=t.length;o<r;o++){if((n=t[o]).text===e){i.push(o);break}if(n.items.length){if(-1!==(i=this.getIndex(e,n.items,i,!0))[i.length-1]){i.unshift(o);break}o!==r-1&&i.pop()}else o===r-1&&i.push(-1)}return s||-1!==i[0]?i:[]},s.prototype.enableItems=function(e,i){void 0===i&&(i=!0);for(var s,n,o,r=ye,l=this.getWrapper(),a=0;a<e.length;a++)n=(o=this.getIndex(e[a])).pop(),(s=l.children[o.length])&&(i?t.Browser.isDevice&&!s.classList.contains("e-contextmenu")?s.children[n+1].classList.remove(r):s.children[n].classList.remove(r):t.Browser.isDevice&&!s.classList.contains("e-contextmenu")?s.children[n+1].classList.add(r):s.children[n].classList.add(r))},s.prototype.showItems=function(e){this.showHideItems(e,!1)},s.prototype.hideItems=function(e){this.showHideItems(e,!0)},s.prototype.showHideItems=function(e,i){for(var s,n,o,r=this.getWrapper(),l=0;l<e.length;l++)n=(o=this.getIndex(e[l])).pop(),(s=r.children[o.length])&&(i?t.Browser.isDevice&&!s.classList.contains("e-contextmenu")?s.children[n+1].classList.add(ge):s.children[n].classList.add(ge):t.Browser.isDevice&&!s.classList.contains("e-contextmenu")?s.children[n+1].classList.remove(ge):s.children[n].classList.remove(ge))},s.prototype.removeItems=function(e){for(var t,i,s,n=0;n<e.length;n++)t=(i=this.getIndex(e[n])).pop(),s=this.getItems(i),this.removeItem(s,i,t)},s.prototype.insertAfter=function(e,t){this.insertItems(e,t)},s.prototype.insertBefore=function(e,t){this.insertItems(e,t,!1)},s.prototype.insertItems=function(e,t,i){void 0===i&&(i=!0);for(var s,n,o,r,l,a=0;a<e.length;a++){n=(o=this.getIndex(t)).pop(),r=this.getItems(o),l=new be(r[0],null,e[a],!0),r.splice(i?n+1:n,0,l);var d=this.getWrapper().children;o.length<d.length&&(n=i?n+1:n,this.hasField(r,"iconCss"),s=this.createItems(r).children[n],d[o.length].insertBefore(s,d[o.length].children[n]))}},s.prototype.getZIndex=function(){for(var e,t,i,s=["999"],n=0,o=document.body.children.length;n<o;n++)e=(i=document.defaultView.getComputedStyle(document.body.children[n])).getPropertyValue("z-index"),t=i.getPropertyValue("position"),"auto"!==e&&"static"!==t&&s.push(e);return(Math.max.apply(Math,s)+1).toString()},s.prototype.destroy=function(){var i=this,s=this.getWrapper();s&&(e.prototype.destroy.call(this),this.unWireEvents(),this.ngElement?this.ngElement.style.display="block":(this.closeMenu(),this.element.innerHTML="",["top","left","display","z-index"].forEach(function(e){i.element.style.removeProperty(e)}),["role","tabindex","class","style"].forEach(function(e){-1!==["class","style"].indexOf(e)&&i.element.getAttribute(e)||i.element.removeAttribute(e)}),s.parentNode.insertBefore(this.element,s)),t.detach(s))},de([t.Property("")],s.prototype,"cssClass",void 0),de([t.Property("")],s.prototype,"filter",void 0),de([t.Property(!1)],s.prototype,"showItemOnClick",void 0),de([t.Collection([],be)],s.prototype,"items",void 0),de([t.Property("")],s.prototype,"target",void 0),de([t.Property({duration:400,easing:"ease",effect:"SlideDown"})],s.prototype,"animationSettings",void 0),de([t.Event()],s.prototype,"beforeItemRender",void 0),de([t.Event()],s.prototype,"beforeOpen",void 0),de([t.Event()],s.prototype,"onOpen",void 0),de([t.Event()],s.prototype,"beforeClose",void 0),de([t.Event()],s.prototype,"onClose",void 0),de([t.Event()],s.prototype,"select",void 0),s=de([t.NotifyPropertyChanges],s)}(t.Component),Ce=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ne=function(e,t,i,s){var n,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(r=(o<3?n(r):o>3?n(t,i,r):n(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},xe="e-tab-header",Oe="e-content",we="e-item",Le="e-active",Ae="e-disable",Ie="e-hidden",ke="e-close-icon",Se="e-tab-wrap",Pe="e-toolbar-items",He="e-toolbar-item",Ue="e-toolbar-popup",De="e-progress",Me=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Ce(i,e),Ne([t.Property("SlideLeftIn")],i.prototype,"effect",void 0),Ne([t.Property(600)],i.prototype,"duration",void 0),Ne([t.Property("ease")],i.prototype,"easing",void 0),i}(t.ChildProperty),Be=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Ce(i,e),Ne([t.Complex({effect:"SlideLeftIn",duration:600,easing:"ease"},Me)],i.prototype,"previous",void 0),Ne([t.Complex({effect:"SlideRightIn",duration:600,easing:"ease"},Me)],i.prototype,"next",void 0),i}(t.ChildProperty),Te=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Ce(i,e),Ne([t.Property("")],i.prototype,"text",void 0),Ne([t.Property("")],i.prototype,"iconCss",void 0),Ne([t.Property("left")],i.prototype,"iconPosition",void 0),i}(t.ChildProperty),Re=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Ce(i,e),Ne([t.Complex({},Te)],i.prototype,"header",void 0),Ne([t.Property("")],i.prototype,"content",void 0),Ne([t.Property("")],i.prototype,"cssClass",void 0),Ne([t.Property(!1)],i.prototype,"disabled",void 0),i}(t.ChildProperty),je=function(e){function i(i,s){var n=e.call(this,i,s)||this;return n.prevIndex=0,n.show={name:"SlideDown",duration:100},n.hide={name:"SlideUp",duration:100},n.animateOptions={},n.animObj=new t.Animation(n.animateOptions),n.maxHeight=0,n.title="Close",n.keyConfigs={tab:"tab",home:"home",end:"end",enter:"enter",space:"space",delete:"delete",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow"},n}return Ce(i,e),i.prototype.destroy=function(){var i=this;if(t.isNullOrUndefined(this.tbObj)||this.tbObj.destroy(),this.unWireEvents(),["role","aria-disabled","aria-activedescendant","tabindex","aria-orientation"].forEach(function(e){i.element.removeAttribute(e)}),this.isTemplate){var s=t.select(".e-tab > ."+Oe,this.element);this.element.classList.remove("e-template"),t.isNullOrUndefined(s)||(s.innerHTML=this.cnt)}else this.element.innerHTML="";e.prototype.destroy.call(this),this.trigger("destroyed")},i.prototype.preRender=function(){this.isPopup=!1,this.initRender=!0,this.isSwipeed=!1;var e=t.Browser.info.name,i="msie"===e?"e-ie":"edge"===e?"e-edge":"safari"===e?"e-safari":"";t.setStyleAttribute(this.element,{width:t.formatUnit(this.width),height:t.formatUnit(this.height)}),this.setCssClass(this.element,this.cssClass,!0),t.attributes(this.element,{role:"tablist","aria-disabled":"false","aria-activedescendant":""}),this.setCssClass(this.element,i,!0)},i.prototype.render=function(){this.renderContainer(),this.wireEvents(),this.initRender=!1},i.prototype.renderContainer=function(){var e=this.element;if(this.items.length>0&&0===e.children.length)e.appendChild(t.createElement("div",{className:Oe})),this.setOrientation(this.headerPlacement,t.createElement("div",{className:xe})),this.isTemplate=!1;else if(this.element.children.length>0){this.isTemplate=!0,e.classList.add("e-template");var i=e.querySelector("."+xe);i&&"Bottom"===this.headerPlacement&&this.setOrientation(this.headerPlacement,i)}if(!t.isNullOrUndefined(t.select("."+xe,this.element))&&!t.isNullOrUndefined(t.select("."+Oe,this.element))){if(this.renderHeader(),this.tbItems=t.select("."+xe+" ."+Pe,this.element),t.isNullOrUndefined(this.tbItems)||t.rippleEffect(this.tbItems,{selector:".e-tab-wrap"}),this.renderContent(),t.selectAll("."+He,this.element).length>0){this.tbItems=t.select("."+xe+" ."+Pe,this.element),this.bdrLine=t.createElement("div",{className:"e-indicator e-hidden e-ignore"});var s=t.select(".e-hscroll-content",this.tbItems);t.isNullOrUndefined(s)?this.tbItems.insertBefore(this.bdrLine,this.tbItems.firstChild):s.insertBefore(this.bdrLine,s.firstChild),this.setContentHeight(!0),this.select(this.selectedItem)}this.setRTL(this.enableRtl)}},i.prototype.renderHeader=function(){var e=this,i=[];if(this.hdrEle=t.select("."+xe,this.element),this.btnCls=t.createElement("span",{className:"e-icons "+ke,attrs:{title:this.title}}).outerHTML,this.isTemplate){for(var s=this.hdrEle.children.length,n=[],o=0;o<s;o++)n.push(this.hdrEle.children.item(o).innerHTML);s>0&&(this.hdrEle.innerHTML="",this.hdrEle.appendChild(t.createElement("div",{className:"e-items"})),n.forEach(function(i,s){var n={className:we,id:"e-item_"+s,attrs:{role:"tab","aria-controls":Oe+"_"+s,"aria-selected":"false"}},o=t.createElement("span",{className:"e-tab-text",innerHTML:i,attrs:{role:"presentation"}}).outerHTML,r=t.createElement("div",{className:"e-text-wrap",innerHTML:o+e.btnCls}).outerHTML,l=t.createElement("div",{className:Se,innerHTML:r,attrs:{tabIndex:"-1"}});t.select(".e-items",e.element).appendChild(t.createElement("div",n)),t.selectAll(".e-item",e.element)[s].appendChild(l)}))}else i=this.parseObject(this.items);this.tbObj=new j({width:"100%",overflowMode:this.overflowMode,items:0!==i.length?i:[],clicked:this.clickHandler.bind(this)}),this.tbObj.appendTo(this.hdrEle),t.attributes(this.element,{"aria-orientation":"horizontal"}),this.setCloseButton(this.showCloseButton),this.setProperties({headerPlacement:this.element.children.item(0).classList.contains(xe)?"Top":"Bottom"},!0)},i.prototype.renderContent=function(){this.cntEle=t.select("."+Oe,this.element);var e=t.selectAll("."+He,this.element);if(this.isTemplate){this.cnt=this.cntEle.children.length>0?this.cntEle.innerHTML:"";for(var i=this.cntEle.children,s=0;s<e.length;s++)i.length-1>=s&&(i.item(s).className+=we,t.attributes(i.item(s),{role:"tabpanel","aria-labelledby":"e-item_"+s}),i.item(s).id=Oe+"_"+s)}},i.prototype.parseObject=function(e){var i=this,s="",n=t.selectAll("."+He,this.element).length,o=[];return e.forEach(function(e,r){var l=t.isNullOrUndefined(e.header.iconPosition)?"":e.header.iconPosition,a=t.isNullOrUndefined(e.header.iconCss)?"":e.header.iconCss,d=e.header.text,c=0===n?r:!0===i.isReplace?r:n+r,h=e.disabled?" "+Ae:"",p=d instanceof Object?d.outerHTML:d,u=!t.isNullOrUndefined(p)&&""!==p,f=u?t.createElement("div",{className:"e-tab-text",innerHTML:p,attrs:{role:"presentation"}}).outerHTML:"",m=t.createElement("span",{className:"e-icons e-tab-icon e-icon-"+l+" "+a}).outerHTML;if(""!==d&&void 0!==d||""!==a){s=""!==d&&void 0!==d&&""!==a?"left"===l||"top"===l?m+""+f:f+""+m:""===a?f:m;var v=t.createElement("div",{className:"e-text-wrap",innerHTML:s+""+i.btnCls}).outerHTML,y={htmlAttributes:{id:"e-item_"+c,role:"tab","aria-selected":"false"},template:t.createElement("div",{className:Se,innerHTML:v,attrs:{tabIndex:"-1"}}).outerHTML};y.cssClass=e.cssClass+""+h+(""!==a?"e-i"+l:"")+" "+(u?"":"e-icon"),"top"!==l&&"bottom"!==l||i.element.classList.add("e-vertical-icon"),o.push(y)}}),o},i.prototype.removeActiveClass=function(e){var i=t.selectAll(":root ."+xe+" ."+He+"."+Le,this.element)[0];if("Bottom"===this.headerPlacement&&(i=t.selectAll(":root ."+xe+" ."+He+"."+Le,this.element.children[1])[0]),!t.isNullOrUndefined(i)){i.classList.remove(Le);var s=this.extIndex(i.id);this.findEle(t.select(".e-content",this.element).children,Oe+"_"+s)}},i.prototype.checkPopupOverflow=function(e){this.tbPop=t.select(".e-toolbar-pop",this.element);var i=t.select(".e-hor-nav",this.element),s=t.select("."+Pe,this.element);return(this.enableRtl&&i.offsetLeft+i.offsetWidth>s.offsetLeft||!this.enableRtl&&i.offsetLeft<s.offsetWidth)&&(e.classList.add(Ue),this.tbPop.insertBefore(e.cloneNode(!0),t.selectAll("."+Ue,this.tbPop)[0]),e.outerHTML=""),!0},i.prototype.popupHandler=function(e){var i=e.querySelector(".e-ripple-element");t.isNullOrUndefined(i)||(i.outerHTML="",e.querySelector("."+Se).classList.remove("e-ripple")),this.tbItem=t.selectAll("."+Pe+" ."+He,this.hdrEle);var s=this.tbItem[this.tbItem.length-1];if(0!==this.tbItem.length){if(e.classList.remove(Ue),this.tbItems.appendChild(e.cloneNode(!0)),this.actEleId=e.id,e.outerHTML="",this.checkPopupOverflow(s)){var n=this.tbItems.lastChild.previousElementSibling;this.checkPopupOverflow(n)}this.isPopup=!0}return t.selectAll("."+He,this.tbItems).length-1},i.prototype.setCloseButton=function(e){var i=t.select("."+xe,this.element);!0===e?i.classList.add("e-close-show"):i.classList.remove("e-close-show"),this.tbObj.refreshOverflow(),this.refreshActElePosition()},i.prototype.prevCtnAnimation=function(e,t){this.enableRtl||this.element.classList.contains("e-rtl");return this.isPopup||e<=t?"SlideLeftIn"===this.animation.previous.effect?{name:"SlideLeftOut",duration:this.animation.previous.duration,timingFunction:this.animation.previous.easing}:null:"SlideRightIn"===this.animation.next.effect?{name:"SlideRightOut",duration:this.animation.next.duration,timingFunction:this.animation.next.easing}:null},i.prototype.triggerPrevAnimation=function(e,i){var s=this.prevCtnAnimation(i,this.selectedItem);t.isNullOrUndefined(s)?e.classList.remove(Le):(s.begin=function(){t.setStyleAttribute(e,{position:"absolute"}),e.classList.add(De),e.classList.add("e-view")},s.end=function(){e.style.display="none",e.classList.remove(Le),e.classList.remove(De),e.classList.remove("e-view"),t.setStyleAttribute(e,{display:"",position:""})},new t.Animation(s).animate(e))},i.prototype.triggerAnimation=function(e,i){var s,n=this,o=this.prevIndex;[].slice.call(this.element.querySelector("."+Oe).children).forEach(function(e){e.id===n.prevActiveEle&&(s=e)});var r,l=this.tbItem[o],a=this.extIndex(this.tbItem[this.selectedItem].id);if(r=this.findEle(this.cntEle.children,Oe+"_"+a),t.isNullOrUndefined(s)&&!t.isNullOrUndefined(l)){var d=this.extIndex(l.id);s=this.findEle(this.cntEle.children,Oe+"_"+d)}if(this.initRender||!1===i||this.animation==={}||t.isNullOrUndefined(this.animation))s&&s!==r&&s.classList.remove(Le);else{var c,h=t.select("."+Oe,this.element);if(this.prevIndex>this.selectedItem&&!this.isPopup){var p=this.animation.previous.effect;c={name:"None"===p?"":"SlideLeftIn"!==p?p:"SlideLeftIn",duration:this.animation.previous.duration,timingFunction:this.animation.previous.easing}}else if(this.isPopup||this.prevIndex<this.selectedItem||this.prevIndex===this.selectedItem){var u=this.animation.next.effect;c={name:"None"===u?"":"SlideRightIn"!==u?u:"SlideRightIn",duration:this.animation.next.duration,timingFunction:this.animation.next.easing}}c.progress=function(){h.classList.add(De),n.setActiveBorder()},c.end=function(){h.classList.remove(De),r.classList.add(Le)},this.initRender||this.triggerPrevAnimation(s,o),this.prevActiveEle=r.id,this.isPopup=!1,""===c.name?r.classList.add(Le):new t.Animation(c).animate(r)}},i.prototype.keyPressed=function(e){var i=t.closest(e,"."+xe+" ."+He),s=this.getEleIndex(i);!t.isNullOrUndefined(this.popEle)&&e.classList.contains("e-hor-nav")?this.popEle.classList.contains("e-popup-open")?this.popObj.hide(this.hide):this.popObj.show(this.show):e.classList.contains("e-scroll-nav")?e.click():t.isNullOrUndefined(i)||!1!==i.classList.contains(Le)||(this.select(s),t.isNullOrUndefined(this.popEle)||this.popObj.hide(this.hide))},i.prototype.getEleIndex=function(e){return Array.prototype.indexOf.call(t.selectAll("."+xe+" ."+He,this.element),e)},i.prototype.extIndex=function(e){return e.replace("e-item_","")},i.prototype.getContent=function(e,i){var s,n=t.createElement("div"),o=this.items[Number(i)].content,r="object"!=typeof o?o:o.outerHTML;s=t.compile(r),!t.isNullOrUndefined(s)&&s().length>0?([].slice.call(s()).forEach(function(e){n.appendChild(e)}),e.appendChild(n)):e.innerHTML=r},i.prototype.findEle=function(e,t){for(var i,s=0;s<e.length;s++)if(e[s].id===t){i=e[s];break}return i},i.prototype.setOrientation=function(e,i){"Bottom"===e?this.element.appendChild(i):this.element.insertBefore(i,t.select("."+Oe,this.element))},i.prototype.setCssClass=function(e,t,i){if(""!==t)for(var s=t.split(" "),n=0;n<s.length;n++)i?e.classList.add(s[n]):e.classList.remove(s[n])},i.prototype.setContentHeight=function(e){if(!t.isNullOrUndefined(this.cntEle)){var i=t.select("."+xe,this.element);if("None"===this.heightAdjustMode){if("auto"===this.height)return;t.setStyleAttribute(this.cntEle,{height:this.element.offsetHeight-i.offsetHeight+"px"})}else if("Fill"===this.heightAdjustMode)t.setStyleAttribute(this.element,{height:"100%"}),t.setStyleAttribute(this.cntEle,{height:"auto"});else if("Auto"===this.heightAdjustMode){var s=t.selectAll(".e-content > .e-item",this.element);if(!0===this.isTemplate)for(var n=0;n<s.length;n++)s[n].setAttribute("style","display:block; visibility: visible"),this.maxHeight=Math.max(this.maxHeight,this.getHeight(s[n])),s[n].style.removeProperty("display"),s[n].style.removeProperty("visibility");else{this.cntEle=t.select("."+Oe,this.element),!0===e&&this.cntEle.appendChild(t.createElement("div",{id:Oe+"_0",className:"e-item "+Le,attrs:{role:"tabpanel","aria-labelledby":"e-item_0"}}));var o=this.cntEle.children.item(0);for(n=0;n<this.items.length;n++)this.getContent(o,n),this.maxHeight=Math.max(this.maxHeight,this.getHeight(o)),o.innerHTML="";this.getContent(o,0),o.classList.remove(Le)}t.setStyleAttribute(this.cntEle,{height:this.maxHeight+"px"})}else t.setStyleAttribute(this.cntEle,{height:"auto"})}},i.prototype.getHeight=function(e){var t=window.getComputedStyle(e);return e.offsetHeight+parseFloat(t.getPropertyValue("padding-top"))+parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))},i.prototype.setActiveBorder=function(){var e=t.select("."+He+"."+Le,this.element);if("Bottom"===this.headerPlacement&&(e=t.select("."+He+"."+Le,this.element.children[1])),null!==e){var i=t.closest(e,".e-tab");if(this.element===i){var s=t.select("."+xe+" ."+Pe+" .e-hscroll-content",this.element.children[0]);this.tbItems=t.select("."+xe+" ."+Pe,this.element);var n=t.select("."+xe+" .e-indicator",this.element);"Bottom"===this.headerPlacement&&(s=t.select("."+xe+" ."+Pe+" .e-hscroll-content",this.element.children[1]));var o=t.isNullOrUndefined(s)?this.tbItems.offsetWidth:s.offsetWidth;0!==o?t.setStyleAttribute(n,{left:e.offsetLeft+"px",right:o-(e.offsetLeft+e.offsetWidth)+"px"}):t.setStyleAttribute(n,{left:"auto",right:"auto"}),t.isNullOrUndefined(this.bdrLine)||this.bdrLine.classList.remove(Ie)}}},i.prototype.setActive=function(e){this.tbItem=t.selectAll("."+xe+" ."+He,this.element);var i=this.tbItem[e];if(e>=0&&this.setProperties({selectedItem:e},!0),!(e<0||isNaN(e)||0===this.tbItem.length))if(i.classList.contains(Le))this.setActiveBorder();else{if(!this.isTemplate){var s=this.tbItem[this.prevIndex];t.isNullOrUndefined(s)||s.removeAttribute("aria-controls"),t.attributes(i,{"aria-controls":Oe+"_"+e})}var n=i.id;this.removeActiveClass(n),i.classList.add(Le),i.setAttribute("aria-selected","true");var o=Number(this.extIndex(n));if(t.attributes(this.element,{"aria-activedescendant":n}),this.isTemplate){if(t.select("."+Oe,this.element).children.length>0){var r=this.findEle(t.select(".e-content",this.element).children,Oe+"_"+o);t.isNullOrUndefined(r)||r.classList.add(Le),this.triggerAnimation(n,this.enableAnimation)}}else{var l=t.select(".e-content > #e-content_"+this.extIndex(n),this.element);if(t.isNullOrUndefined(l)){this.cntEle.appendChild(t.createElement("div",{id:Oe+"_"+this.extIndex(n),className:"e-item "+Le,attrs:{role:"tabpanel","aria-labelledby":"e-item_"+this.extIndex(n)}}));var a=t.select(".e-content > #e-content_"+this.extIndex(n),this.element);this.getContent(a,Number(this.extIndex(n)))}else l.classList.add(Le);this.triggerAnimation(n,this.enableAnimation)}this.setActiveBorder();var d=t.select("."+xe+" #"+n,this.element);this.refreshItemVisibility(d),d.firstChild.focus();var c={previousItem:this.prevItem,previousIndex:this.prevIndex,selectedItem:i,selectedIndex:e,isSwiped:this.isSwipeed};this.trigger("selected",c)}},i.prototype.setItems=function(e){this.isReplace=!0,this.tbItems=t.select("."+xe+" ."+Pe,this.element),this.tbObj.items=this.parseObject(e),this.tbObj.dataBind(),this.isReplace=!1},i.prototype.setRTL=function(e){this.tbObj.enableRtl=e,this.tbObj.dataBind(),this.setCssClass(this.element,"e-rtl",e),this.refreshActiveBorder()},i.prototype.refreshActiveBorder=function(){t.isNullOrUndefined(this.bdrLine)||this.bdrLine.classList.add(Ie),this.setActiveBorder()},i.prototype.wireEvents=function(){window.addEventListener("resize",this.refreshActElePosition.bind(this)),t.EventHandler.add(this.element,"mouseover",this.hoverHandler,this),t.EventHandler.add(this.element,"keydown",this.spaceKeyDown,this),t.isNullOrUndefined(this.cntEle)||(this.touchModule=new t.Touch(this.cntEle,{swipe:this.swipeHandler.bind(this)})),this.keyModule=new t.KeyboardEvents(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:this.keyConfigs}),this.tabKeyModule=new t.KeyboardEvents(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:{openPopup:"shift+f10",tab:"tab",shiftTab:"shift+tab"},eventName:"keydown"})},i.prototype.unWireEvents=function(){this.keyModule.destroy(),this.tabKeyModule.destroy(),t.isNullOrUndefined(this.cntEle)||this.touchModule.destroy(),window.removeEventListener("resize",this.refreshActElePosition.bind(this)),this.element.removeEventListener("mouseover",this.hoverHandler.bind(this))},i.prototype.clickHandler=function(e){this.element.classList.remove("e-focused");var i=e.originalEvent.target,s=t.closest(i,"."+He),n=this.getEleIndex(s);i.classList.contains(ke)?this.removeTab(n):(this.isPopup=!1,t.isNullOrUndefined(s)||n===this.selectedItem||this.select(n))},i.prototype.swipeHandler=function(e){e.velocity<3&&t.isNullOrUndefined(e.originalEvent.changedTouches)||(this.isSwipeed=!0,"Right"===e.swipeDirection?this.select(this.selectedItem-1):"Left"===e.swipeDirection&&this.selectedItem!==t.selectAll("."+He,this.element).length-1&&this.select(this.selectedItem+1),this.isSwipeed=!1)},i.prototype.spaceKeyDown=function(e){if(32===e.keyCode&&32===e.which||35===e.keyCode&&35===e.which){var i=t.closest(e.target,"."+xe);t.isNullOrUndefined(i)||e.preventDefault()}},i.prototype.keyHandler=function(e){this.element.classList.add("e-focused");var i=e.target,s=t.select("."+xe+" ."+Le,this.element);t.selectAll("."+He+":not(."+Ue+")",this.element);switch(this.popEle=t.select(".e-toolbar-pop",this.element),t.isNullOrUndefined(this.popEle)||(this.popObj=this.popEle.ej2_instances[0]),e.action){case"space":case"enter":if("enter"===e.action&&i.classList.contains("e-hor-nav"))break;this.keyPressed(i);break;case"tab":case"shiftTab":i.classList.contains(Se)&&!1===t.closest(i,"."+He).classList.contains(Le)&&i.setAttribute("tabindex","-1"),this.popObj&&t.isVisible(this.popObj.element)&&this.popObj.hide(this.hide),s.children.item(0).setAttribute("tabindex","0");break;case"moveLeft":case"moveRight":var n=t.closest(document.activeElement,"."+He);t.isNullOrUndefined(n)||this.refreshItemVisibility(n);break;case"openPopup":e.preventDefault(),!t.isNullOrUndefined(this.popEle)&&this.popEle.classList.contains("e-popup-close")&&this.popObj.show(this.show);break;case"delete":var o=t.closest(i,"."+He);if(!0===this.showCloseButton&&!t.isNullOrUndefined(o)){var r=o.nextSibling;!t.isNullOrUndefined(r)&&r.classList.contains(He)&&r.firstChild.focus(),this.removeTab(this.getEleIndex(o))}this.setActiveBorder()}},i.prototype.refreshActElePosition=function(){var e=t.select("."+He+"."+Ue+"."+Le,this.element);t.isNullOrUndefined(e)||this.select(this.getEleIndex(e)),this.refreshActiveBorder()},i.prototype.refreshItemVisibility=function(e){var i=t.select(".e-hscroll-content",this.tbItems);if(!t.isNullOrUndefined(i)){var s=t.select(".e-hscroll-bar",this.tbItems),n=s.scrollLeft,o=n+s.offsetWidth,r=e.offsetLeft,l=e.offsetWidth,a=e.offsetLeft+e.offsetWidth;if(n<r&&o<a){var d=o-r;s.scrollLeft=n+(l-d)}else if(n>r&&o>a){d=a-n;s.scrollLeft=n-(l-d)}}},i.prototype.hoverHandler=function(e){var i=e.target;!t.isNullOrUndefined(i.classList)&&i.classList.contains(ke)&&i.setAttribute("title",new t.L10n("tab",{title:this.title},this.locale).getConstant("title"))},i.prototype.enableTab=function(e,i){var s=t.selectAll("."+He,this.element)[e];t.isNullOrUndefined(s)||(!0===i?s.classList.remove(Ae):(s.classList.add(Ae),s.classList.contains(Le)&&this.select(e+1)),s.setAttribute("aria-disabled",!0===i?"false":"true"))},i.prototype.addTab=function(e,i){var s=this;if(this.trigger("adding",{addedItems:e}),t.isNullOrUndefined(i)&&(i=t.selectAll("."+He).length-1),!(!0===this.isTemplate||t.selectAll("."+He).length-1<i||i<0||isNaN(i))){this.bdrLine.classList.add(Ie),this.tbItems=t.select("."+xe+" ."+Pe,this.element);var n=this.parseObject(e);e.forEach(function(e){s.items.push(e)}),this.tbObj.addItems(n,i),this.trigger("added",{addedItems:e}),this.selectedItem===i?this.select(i):this.setActiveBorder()}},i.prototype.removeTab=function(e){var i=t.selectAll("."+He,this.element)[e],s={removedItem:i,removedIndex:e};if(this.trigger("removing",s),!t.isNullOrUndefined(i)){this.tbObj.removeItems(e),this.refreshActiveBorder();var n=this.extIndex(i.id),o=this.findEle(t.select(".e-content",this.element).children,Oe+"_"+n);t.isNullOrUndefined(o)||(o.outerHTML="");var r={removedItem:i,removedIndex:e};this.trigger("removed",r),i.classList.contains(Le)&&(e=e>t.selectAll("."+He+":not(."+Ue+")",this.element).length-1?e-1:e,this.enableAnimation=!1,this.select(e)),0===t.selectAll("."+He,this.element).length&&(this.hdrEle.style.display="none"),this.enableAnimation=!0}},i.prototype.hideTab=function(e,i){var s=t.selectAll("."+He,this.element)[e];t.isNullOrUndefined(s)||(t.isNullOrUndefined(i)&&(i=!0),this.bdrLine.classList.add(Ie),!0===i?(s.classList.add(Ie),s.classList.contains(Le)&&this.select(0!==e?e-1:e+1)):s.classList.remove(Ie),this.setActiveBorder(),s.setAttribute("aria-hidden",""+i))},i.prototype.select=function(e){this.tbItems=t.select("."+xe+" ."+Pe,this.element),this.tbItem=t.selectAll("."+xe+" ."+He,this.element),this.prevItem=this.tbItem[this.prevIndex],t.isNullOrUndefined(this.prevItem)||this.prevItem.children.item(0).setAttribute("tabindex","-1");var i={previousItem:this.prevItem,previousIndex:this.prevIndex,selectedItem:this.tbItem[this.selectedItem],selectedIndex:this.selectedItem,isSwiped:this.isSwipeed};this.trigger("selecting",i),i.cancel||("number"==typeof e?this.tbItem.length>e&&e>=0&&!isNaN(e)?(this.prevIndex=this.selectedItem,this.tbItem[e].classList.contains(Ue)?this.setActive(this.popupHandler(this.tbItem[e])):this.setActive(e)):this.setActive(0):e instanceof HTMLElement&&this.setActive(this.getEleIndex(e)))},i.prototype.disable=function(e){this.setCssClass(this.element,Ae,e),this.element.setAttribute("aria-disabled",""+e)},i.prototype.getPersistData=function(){return this.addOnPersist(["selectedItem","actEleId"])},i.prototype.getModuleName=function(){return"tab"},i.prototype.onPropertyChanged=function(e,i){for(var s=0,n=Object.keys(e);s<n.length;s++){switch(n[s]){case"width":t.setStyleAttribute(this.element,{width:t.formatUnit(e.width)});break;case"height":t.setStyleAttribute(this.element,{height:t.formatUnit(e.height)}),this.setContentHeight(!1);break;case"cssClass":this.setCssClass(this.element,e.cssClass,!0);break;case"items":t.isNullOrUndefined(this.tbObj)?(this.renderContainer(),t.isNullOrUndefined(this.cntEle)||(this.touchModule=new t.Touch(this.cntEle,{swipe:this.swipeHandler.bind(this)}))):(this.setItems(e.items),this.select(this.selectedItem));break;case"showCloseButton":this.setCloseButton(e.showCloseButton);break;case"selectedItem":this.selectedItem=i.selectedItem,this.select(e.selectedItem);break;case"headerPlacement":var o=t.select("."+xe,this.element);this.setOrientation(e.headerPlacement,o),this.select(this.selectedItem);break;case"enableRtl":this.setRTL(e.enableRtl);break;case"overflowMode":this.tbObj.overflowMode=e.overflowMode,this.tbObj.dataBind(),this.refreshActElePosition();break;case"heightAdjustMode":this.setContentHeight(!1),this.select(this.selectedItem)}}},Ne([t.Collection([],Re)],i.prototype,"items",void 0),Ne([t.Property("100%")],i.prototype,"width",void 0),Ne([t.Property("auto")],i.prototype,"height",void 0),Ne([t.Property("")],i.prototype,"cssClass",void 0),Ne([t.Property(0)],i.prototype,"selectedItem",void 0),Ne([t.Property("Top")],i.prototype,"headerPlacement",void 0),Ne([t.Property("Content")],i.prototype,"heightAdjustMode",void 0),Ne([t.Property("Scrollable")],i.prototype,"overflowMode",void 0),Ne([t.Property(!1)],i.prototype,"enableRtl",void 0),Ne([t.Property(!1)],i.prototype,"showCloseButton",void 0),Ne([t.Complex({},Be)],i.prototype,"animation",void 0),Ne([t.Event()],i.prototype,"created",void 0),Ne([t.Event()],i.prototype,"adding",void 0),Ne([t.Event()],i.prototype,"added",void 0),Ne([t.Event()],i.prototype,"selecting",void 0),Ne([t.Event()],i.prototype,"selected",void 0),Ne([t.Event()],i.prototype,"removing",void 0),Ne([t.Event()],i.prototype,"removed",void 0),Ne([t.Event()],i.prototype,"destroyed",void 0),i=Ne([t.NotifyPropertyChanges],i)}(t.Component),We=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Fe=function(e,t,i,s){var n,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(r=(o<3?n(r):o>3?n(t,i,r):n(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},qe="e-treeview",_e="e-icon-collapsible",Ve="e-icon-expandable",ze="e-list-item",Ke="e-list-text",Ge="e-list-parent",Ye="e-hover",Xe="e-active",Qe="e-icons-spinner",Je="e-process",Ze="e-icons",$e="e-text-content",et="e-dragging",tt="e-sibling",it="e-drop-next",st="e-fullrow",nt="e-popup",ot="e-selected",rt="e-expanded",lt="e-node-collapsed",at="e-select",dt="e-check",ct="e-checkbox-wrapper",ht="e-frame",pt="e-node-focus",ut=t.Browser.isDevice?16:14,ft={treeRole:"tree",itemRole:"treeitem",listRole:"group",itemText:""},mt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return We(i,e),Fe([t.Property("child")],i.prototype,"child",void 0),Fe([t.Property([])],i.prototype,"dataSource",void 0),Fe([t.Property("expanded")],i.prototype,"expanded",void 0),Fe([t.Property("hasChildren")],i.prototype,"hasChildren",void 0),Fe([t.Property("htmlAttributes")],i.prototype,"htmlAttributes",void 0),Fe([t.Property("iconCss")],i.prototype,"iconCss",void 0),Fe([t.Property("id")],i.prototype,"id",void 0),Fe([t.Property("imageUrl")],i.prototype,"imageUrl",void 0),Fe([t.Property("isChecked")],i.prototype,"isChecked",void 0),Fe([t.Property("parentID")],i.prototype,"parentID",void 0),Fe([t.Property(null)],i.prototype,"query",void 0),Fe([t.Property("selected")],i.prototype,"selected",void 0),Fe([t.Property(null)],i.prototype,"tableName",void 0),Fe([t.Property("text")],i.prototype,"text",void 0),Fe([t.Property("tooltip")],i.prototype,"tooltip",void 0),Fe([t.Property("navigateUrl")],i.prototype,"navigateUrl",void 0),i}(t.ChildProperty),vt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return We(i,e),Fe([t.Property("SlideDown")],i.prototype,"effect",void 0),Fe([t.Property(400)],i.prototype,"duration",void 0),Fe([t.Property("linear")],i.prototype,"easing",void 0),i}(t.ChildProperty),yt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return We(i,e),Fe([t.Complex({effect:"SlideUp",duration:400,easing:"linear"},vt)],i.prototype,"collapse",void 0),Fe([t.Complex({effect:"SlideDown",duration:400,easing:"linear"},vt)],i.prototype,"expand",void 0),i}(t.ChildProperty),gt=function(e){function l(t,i){var s=e.call(this,t,i)||this;return s.checkActionNodes=[],s.dragStartAction=!1,s.isAnimate=!1,s.keyConfigs={escape:"escape",end:"end",enter:"enter",f2:"f2",home:"home",moveDown:"downarrow",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",ctrlDown:"ctrl+downarrow",ctrlUp:"ctrl+uparrow",ctrlEnter:"ctrl+enter",ctrlHome:"ctrl+home",ctrlEnd:"ctrl+end",ctrlA:"ctrl+A",shiftDown:"shift+downarrow",shiftUp:"shift+uparrow",shiftEnter:"shift+enter",shiftHome:"shift+home",shiftEnd:"shift+end",csDown:"ctrl+shift+downarrow",csUp:"ctrl+shift+uparrow",csEnter:"ctrl+shift+enter",csHome:"ctrl+shift+home",csEnd:"ctrl+shift+end",space:"space"},s.mouseDownStatus=!1,s}return We(l,e),l.prototype.getModuleName=function(){return"treeview"},l.prototype.preRender=function(){var e=this;this.listBaseOption={expandCollapse:!0,fields:this.fields.properties,showIcon:!0,expandIconClass:Ve,ariaAttributes:ft,expandIconPosition:"left",itemCreated:function(t){e.beforeNodeCreate(t)}},this.listBaseOption.fields.url=this.fields.navigateUrl,this.aniObj=new t.Animation({}),this.treeList=[],this.isLoaded=!1,t.isNullOrUndefined(this.selectedNodes)&&this.setProperties({selectedNodes:[]},!0),t.isNullOrUndefined(this.checkedNodes)&&this.setProperties({checkedNodes:[]},!0)},l.prototype.getPersistData=function(){return this.addOnPersist(["selectedNodes","checkedNodes"])},l.prototype.render=function(){this.isAnimate=!0,this.initialize(),this.setDataBinding(),this.setExpandOnType(),this.setRipple(),this.wireEditingEvents(this.allowEditing),this.setDragAndDrop(this.allowDragAndDrop),this.wireEvents()},l.prototype.initialize=function(){this.element.setAttribute("role","tree"),this.element.setAttribute("tabindex","0"),this.element.setAttribute("aria-activedescendant","node_active"),this.setCssClass(null,this.cssClass),this.setEnableRtl(),this.setFullRow(this.fullRowSelect),this.setTouchPopup(this.allowMultiSelection),this.nodeTemplateFn=this.templateComplier(this.nodeTemplate)},l.prototype.setEnableRtl=function(){this.enableRtl?t.addClass([this.element],"e-rtl"):t.removeClass([this.element],"e-rtl")},l.prototype.setRipple=function(){var e={selector:".e-fullrow,.e-text-content",ignore:"."+$e+" > ."+Ze+",.e-input-group,.e-input, ."+ct};this.rippleFn=t.rippleEffect(this.element,e);var i={selector:"."+$e+" > ."+Ze,isCenterRipple:!0};this.rippleIconFn=t.rippleEffect(this.element,i)},l.prototype.setFullRow=function(e){e?t.addClass([this.element],"e-fullrow-wrap"):t.removeClass([this.element],"e-fullrow-wrap")},l.prototype.setTouchPopup=function(e){if(e){var i=t.createElement("div",{className:nt,styles:"display:none;"}),s=t.createElement("div",{className:"e-content",attrs:{tabIndex:"-1"}}),n=t.createElement("span",{className:Ze});s.appendChild(n),t.append([s,t.createElement("div",{className:"e-downtail"})],i),this.element.appendChild(i),t.EventHandler.add(s,"click",this.popupClick,this)}else{(i=t.select("."+nt,this.element))&&t.detach(i)}},l.prototype.setMultiSelect=function(e){var i=t.select("."+Ge,this.element);e?i.setAttribute("aria-multiselectable","true"):i.removeAttribute("aria-multiselectable")},l.prototype.popupClick=function(e){e.stopImmediatePropagation();var i=e.currentTarget;(i=t.closest(i,"."+nt)).classList.contains(at)?(t.removeClass([i],at),t.select("."+nt,this.element).style.display="none"):t.addClass([i],at)},l.prototype.templateComplier=function(e){if(e)try{if(document.querySelectorAll(e).length)return t.compile(document.querySelector(e).innerHTML.trim())}catch(i){return t.compile(e)}},l.prototype.setDataBinding=function(){var e=this;this.treeList.push("false"),this.fields.dataSource instanceof o.DataManager?this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then(function(t){e.treeList.pop(),e.treeData=t.result,e.isNumberTypeId=!!e.treeData[0]&&"number"==typeof e.treeData[0][e.fields.id],e.setRootData(),e.renderItems(!0),0!==e.treeList.length||e.isLoaded||e.finalize()}):(this.treeList.pop(),t.isNullOrUndefined(this.fields.dataSource)?this.rootData=this.treeData=[]:(this.treeData=this.fields.dataSource,this.setRootData()),this.renderItems(!1)),0!==this.treeList.length||this.isLoaded||this.finalize()},l.prototype.getQuery=function(e,i){void 0===i&&(i=null);var s,r=[];if(e.query)s=e.query.clone();else{s=new o.Query;for(var l=this.getActualProperties(e),a=0,d=Object.keys(l);a<d.length;a++){var c=d[a];"dataSource"!==c&&"tableName"!==c&&"child"!==c&&e[c]&&-1===r.indexOf(e[c])&&r.push(e[c])}s.select(r),l.hasOwnProperty("tableName")&&s.from(e.tableName)}return n.ListBase.addSorting(this.sortOrder,e.text,s),t.isNullOrUndefined(i)||t.isNullOrUndefined(e.parentID)||s.where(e.parentID,"equal",this.isNumberTypeId?parseFloat(i):i),s},l.prototype.setRootData=function(){if(this.dataType=this.getDataType(this.treeData,this.fields),1===this.dataType){this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID);var e=this.getChildNodes(this.treeData,void 0,!0);t.isNullOrUndefined(e)?this.rootData=[]:this.rootData=e}else this.rootData=this.treeData},l.prototype.renderItems=function(e){this.listBaseOption.ariaAttributes.level=1,this.ulElement=n.ListBase.createList(e?this.rootData:this.getSortedData(this.rootData),this.listBaseOption),this.element.appendChild(this.ulElement),this.finalizeNode(this.element)},l.prototype.beforeNodeCreate=function(e){if(this.showCheckBox){var i=s.createCheckBox(!0),n=t.select("div."+Ze,e.item),o=e.item.getAttribute("data-uid");e.item.childNodes[0].insertBefore(i,e.item.childNodes[0].childNodes[t.isNullOrUndefined(n)?0:1]),this.checkedNodes.indexOf(o)>-1?(t.select("."+ht,i).classList.add(dt),i.setAttribute("aria-checked","true"),this.addCheck(e.item)):t.isNullOrUndefined(e.curData[e.fields.isChecked])||"true"!==e.curData[e.fields.isChecked].toString()?i.setAttribute("aria-checked","false"):(t.select("."+ht,i).classList.add(dt),i.setAttribute("aria-checked","true"),this.addCheck(e.item));var r=t.select("."+ht,i);t.EventHandler.add(r,"mousedown",this.frameMouseHandler,this),t.EventHandler.add(r,"mouseup",this.frameMouseHandler,this)}this.fullRowSelect&&this.createFullRow(e.item),this.allowMultiSelection&&!e.item.classList.contains(ot)&&e.item.setAttribute("aria-selected","false");var l=e.fields;if(this.addActionClass(e,l.selected,ot),this.addActionClass(e,l.expanded,rt),!t.isNullOrUndefined(this.nodeTemplateFn)){var a=e.item.querySelector("."+Ke);a.innerHTML="",t.append(this.nodeTemplateFn(e.curData),a)}var d={node:e.item,nodeData:e.curData,text:e.text};this.trigger("drawNode",d)},l.prototype.frameMouseHandler=function(e){var i=t.select(".e-ripple-container",e.target.parentElement);if(i){var s=document.createEvent("MouseEvents");s.initEvent(e.type,!1,!0),i.dispatchEvent(s)}},l.prototype.addActionClass=function(e,i,s){var n=e.curData;n.hasOwnProperty(i)&&!t.isNullOrUndefined(n[i])&&"false"!==n[i].toString()&&e.item.classList.add(s)},l.prototype.getDataType=function(e,t){for(var i=0,s=e.length;i<s;i++){if("string"==typeof t.child&&e[i].hasOwnProperty(t.child))return 2;if(e[i].hasOwnProperty(t.parentID)||e[i].hasOwnProperty(t.hasChildren))return 1}return 1},l.prototype.getGroupedData=function(e,t){for(var i=(new o.Query).group(t),s=n.ListBase.getDataSource(e,i),r=[],l=0;l<s.length;l++){var a=s[l].items;r.push(a)}return r},l.prototype.getSortedData=function(e){return e&&"None"!==this.sortOrder&&(e=n.ListBase.getDataSource(e,n.ListBase.addSorting(this.sortOrder,this.fields.text))),e},l.prototype.finalizeNode=function(e){for(var i=this,s=t.selectAll(".e-list-img",e),n=0;n<s.length;n++)s[n].setAttribute("alt","e-list-img");if(this.isLoaded){for(var o=t.selectAll("."+ot,e),r=0;r<o.length;r++){this.selectNode(o[r],null);break}t.removeClass(o,ot)}for(var l=t.selectAll("."+ze+":not(."+rt+")",e),a=0;a<l.length;a++){var d=t.select("div."+Ze,l[a]);d&&d.classList.contains(Ve)&&(l[a].setAttribute("aria-expanded","false"),t.addClass([l[a]],lt))}var c=t.selectAll("."+rt,e);for(r=0;r<c.length;r++)this.renderChildNodes(c[r]);if(t.removeClass(c,rt),this.updateList(),this.showCheckBox){var h=[].concat([],this.checkedNodes);this.checkedNodes.forEach(function(e,s){var n=i.element.querySelector('[data-uid="'+e+'"]');t.isNullOrUndefined(n)&&(h=h.filter(function(t){return t!==e}))}),this.setProperties({checkedNodes:h},!0)}},l.prototype.ensureParentCheckState=function(e){if(!t.isNullOrUndefined(e)){if(e.classList.contains(qe))return;var i=e;e.classList.contains(ze)&&(i=t.select("."+Ge,e));var s=t.selectAll("."+dt,i),n=t.selectAll("."+ze,i),o=e.getElementsByClassName(ct)[0];n.length===s.length?this.changeState(o,"check",null,!0,!0):s.length>0?this.changeState(o,"indeterminate",null,!0,!0):0===s.length&&this.changeState(o,"uncheck",null,!0,!0);var r=t.closest(e,"."+Ge);if(!t.isNullOrUndefined(r)){var l=t.closest(r,"."+ze);this.ensureParentCheckState(l)}}},l.prototype.ensureChildCheckState=function(e,i){if(!t.isNullOrUndefined(e)){var s=t.select("."+Ge,e),n=void 0;if(!t.isNullOrUndefined(s)){n=t.selectAll("."+ct,s);for(var o=e.getElementsByClassName(ht)[0].classList.contains(dt),r=void 0,l=0;l<n.length;l++)r=t.isNullOrUndefined(this.currentLoadData)||t.isNullOrUndefined(this.currentLoadData[l][this.fields.isChecked])?o?"check":"uncheck":this.currentLoadData[l][this.fields.isChecked]?"check":"uncheck",this.changeState(n[l],r,i,!0,!0)}}},l.prototype.doCheckBoxAction=function(e,i){if(t.isNullOrUndefined(e))for(var s=t.selectAll("."+ct,this.element),n=0;n<s.length;n++)this.changeState(s[n],i?"check":"uncheck");else for(var o=0,r=e.length;o<r;o++){var l=this.getElement(e[o]);if(!t.isNullOrUndefined(l)){var a=t.select("."+Ge+" ."+ct,l);this.validateCheckNode(a,!i,l,null)}}},l.prototype.changeState=function(e,i,s,n,o){var r,l,a=t.closest(e,"."+ze);if(n||(this.checkActionNodes=[],l=this.getCheckEvent(a,i,s),this.trigger("nodeChecking",l),!l.cancel)){var d=e.getElementsByClassName(ht)[0];if("check"!==i||d.classList.contains(dt)?"uncheck"===i&&(d.classList.contains(dt)||d.classList.contains("e-stop"))?(t.removeClass([d],[dt,"e-stop"]),this.removeCheck(a),r="false"):"indeterminate"!==i||d.classList.contains("e-stop")||(d.classList.remove(dt),d.classList.add("e-stop"),this.removeCheck(a),r="mixed"):(d.classList.remove("e-stop"),d.classList.add(dt),this.addCheck(a),r="true"),r="check"===i?"true":"uncheck"===i?"false":r,t.isNullOrUndefined(r)||e.setAttribute("aria-checked",r),o){var c=[].concat([],this.checkActionNodes);l=this.getCheckEvent(a,i,s),t.isUndefined(n)&&(l.data=c)}n||t.isNullOrUndefined(r)||(e.setAttribute("aria-checked",r),l.data[0].checked=r,this.trigger("nodeChecked",l),this.checkActionNodes=[])}},l.prototype.addCheck=function(e){var i=e.getAttribute("data-uid");t.isNullOrUndefined(i)||-1!==this.checkedNodes.indexOf(i)||this.checkedNodes.push(i)},l.prototype.removeCheck=function(e){var t=this.checkedNodes.indexOf(e.getAttribute("data-uid"));t>-1&&this.checkedNodes.splice(t,1)},l.prototype.getCheckEvent=function(e,i,s){this.checkActionNodes.push(this.getNodeData(e));var n=this.checkActionNodes;return{action:i,cancel:!1,isInteracted:!t.isNullOrUndefined(s),node:e,data:n}},l.prototype.finalize=function(){t.select("."+Ge,this.element).setAttribute("role",ft.treeRole),this.setMultiSelect(this.allowMultiSelection);var e=t.select("."+ze,this.element);e&&(t.addClass([e],pt),this.updateIdAttr(null,e)),this.doSelectionAction(),this.isLoaded=!0,this.isAnimate=!1;var i={data:this.treeData};this.trigger("dataBound",i)},l.prototype.doSelectionAction=function(){var e=t.selectAll("."+ot,this.element),i=this.selectedNodes;if(i.length>0){this.setProperties({selectedNodes:[]},!0);for(var s=0;s<i.length;s++){var n=t.select('[data-uid="'+i[s]+'"]',this.element);if(this.selectNode(n,null,!0),!this.allowMultiSelection)break}}else this.selectGivenNodes(e);t.removeClass(e,ot)},l.prototype.selectGivenNodes=function(e){for(var t=0;t<e.length&&(this.selectNode(e[t],null,!0),this.allowMultiSelection);t++);},l.prototype.clickHandler=function(e){var i=e.target;if(t.EventHandler.remove(this.element,"contextmenu ",this.preventContextMenu),i&&!this.dragStartAction){var s=i.classList,n=t.closest(i,"."+ze);if(n){if(this.removeHover(),this.setFocusElement(n),this.showCheckBox){var o=t.closest(i,"."+ct);if(!t.isNullOrUndefined(o)){var r=t.select("."+ht,o);return this.validateCheckNode(o,r.classList.contains(dt),n,e),void this.triggerClickEvent(e,n)}}if(s.contains(Ve))this.expandAction(n,i,e);else if(s.contains(_e))this.collapseNode(n,i,e);else if(!s.contains(Ge)&&!s.contains(ze)){var l=!1;if(t.Browser.isDevice&&this.allowMultiSelection){var a=t.select("."+nt,this.element);t.isVisible(a)||(a.style.display="");var d=t.closest(i,"."+$e),c=(d=d||e.target).getBoundingClientRect(),h=e.clientX-c.left+d.offsetLeft-a.offsetWidth/2,p=d.offsetTop-a.offsetHeight-10;a.style.left=(h<0?0:h)+"px",a.style.top=(p<0?0:p)+"px",a.classList.contains(at)&&(l=!0)}this.toggleSelect(n,e,l)}this.triggerClickEvent(e,n)}}},l.prototype.nodeCheckingEvent=function(e,i,s){var n=t.closest(e,"."+ze);this.checkActionNodes=[];var o=i?"false":"true";t.isNullOrUndefined(o)||e.setAttribute("aria-checked",o);var r=this.getCheckEvent(n,i?"check":"uncheck",s);return this.trigger("nodeChecking",r),r},l.prototype.nodeCheckedEvent=function(e,i,s){t.closest(e,"."+ze);var n=this.getCheckEvent(e,i?"uncheck":"check",s);n.data=n.data.splice(0,n.data.length-1),this.trigger("nodeChecked",n)},l.prototype.triggerClickEvent=function(e,t){var i={event:e,node:t};this.trigger("nodeClicked",i)},l.prototype.expandNode=function(e,i){var s=this;i.classList.contains(Qe)&&this.hideSpinner(i),t.removeClass([i],Ve),t.addClass([i],_e);var n=0,o=0,r=this,l=t.select("."+Ge,e),a=e;this.setHeight(a,l),this.isAnimate?this.expandedNode(a,l,i):this.aniObj.animate(l,{name:this.animation.expand.effect,duration:this.animation.expand.duration,timingFunction:this.animation.expand.easing,begin:function(i){a.style.overflow="hidden",n=a.offsetHeight,o=t.select("."+$e,e).offsetHeight},progress:function(e){e.element.style.display="block",r.animateHeight(e,n,o)},end:function(e){e.element.style.display="block",s.expandedNode(a,l,i)}})},l.prototype.expandedNode=function(e,i,s){i.style.display="block",e.style.display="block",e.style.overflow="",e.style.height="",t.removeClass([s],Je),e.setAttribute("aria-expanded","true"),t.removeClass([e],lt),this.isLoaded&&this.expandArgs&&this.trigger("nodeExpanded",this.expandArgs)},l.prototype.collapseNode=function(e,i,s){var n=this;if(!i.classList.contains(Je)){t.addClass([i],Je);var o;if(!this.isLoaded||(o=this.getExpandEvent(e,s),this.trigger("nodeCollapsing",o),!o.cancel)){t.removeClass([i],_e),t.addClass([i],Ve);var r=0,l=0,a=this,d=t.select("."+Ge,e),c=e;t.addClass([e],lt),this.aniObj.animate(d,{name:this.animation.collapse.effect,duration:this.animation.collapse.duration,timingFunction:this.animation.collapse.easing,begin:function(i){c.style.overflow="hidden",r=t.select("."+$e,e).offsetHeight,l=c.offsetHeight},progress:function(e){a.animateHeight(e,r,l)},end:function(s){c.style.overflow="",s.element.style.display="none",c.style.height="",t.removeClass([i],Je),e.setAttribute("aria-expanded","false"),n.isLoaded&&n.trigger("nodeCollapsed",o)}})}}},l.prototype.setHeight=function(e,t){t.style.display="block",t.style.visibility="hidden",e.style.height=e.offsetHeight+"px",t.style.display="none",t.style.visibility=""},l.prototype.animateHeight=function(e,t,i){var s=(i-t)*((e.duration-e.timeStamp)/e.duration)+t;e.element.parentElement.style.height=s+"px"},l.prototype.renderChildNodes=function(e,i){var s=this,r=t.select("div."+Ze,e);if(!t.isNullOrUndefined(r)){this.showSpinner(r);var l;if(this.fields.dataSource instanceof o.DataManager){var a=this.parents(e,"."+Ge).length,d=this.getChildFields(this.fields,a,1);if(t.isNullOrUndefined(d)||t.isNullOrUndefined(d.dataSource))return t.detach(r),void e.removeAttribute("aria-expanded");this.treeList.push("false"),d.dataSource.executeQuery(this.getQuery(d,e.getAttribute("data-uid"))).then(function(o){if(s.treeList.pop(),l=o.result,s.currentLoadData=l,t.isNullOrUndefined(l)||0===l.length)t.detach(r),e.removeAttribute("aria-expanded");else{var a=s.getActualProperties(d);s.listBaseOption.fields=a,s.listBaseOption.fields.url=a.navigateUrl,s.listBaseOption.ariaAttributes.level=parseFloat(e.getAttribute("aria-level"))+1,e.appendChild(n.ListBase.createList(l,s.listBaseOption)),s.expandNode(e,r),s.ensureCheckNode(e),s.finalizeNode(e),s.renderSubChild(e,i)}0!==s.treeList.length||s.isLoaded||s.finalize()})}else{if(l=this.getChildNodes(this.treeData,e.getAttribute("data-uid")),this.currentLoadData=l,t.isNullOrUndefined(l)||0===l.length)return t.detach(r),void e.removeAttribute("aria-expanded");this.listBaseOption.ariaAttributes.level=parseFloat(e.getAttribute("aria-level"))+1,e.appendChild(n.ListBase.createList(this.getSortedData(l),this.listBaseOption)),this.expandNode(e,r),this.ensureCheckNode(e),this.finalizeNode(e),this.renderSubChild(e,i)}}},l.prototype.ensureCheckNode=function(e){this.showCheckBox&&(this.ensureChildCheckState(e),this.ensureParentCheckState(e)),this.currentLoadData=null},l.prototype.getChildFields=function(e,t,i){return t===i?this.getChildMapper(e):this.getChildFields(this.getChildMapper(e),t,i+1)},l.prototype.getChildMapper=function(e){return"string"==typeof e.child||t.isNullOrUndefined(e.child)?e:e.child},l.prototype.getChildNodes=function(e,i,s){void 0===s&&(s=!1);var n;if(t.isNullOrUndefined(e))return n;if(1===this.dataType)return this.getChildGroup(this.groupedData,i,s);if("string"==typeof this.fields.child)for(var o=0,r=e.length;o<r;o++){if(e[o][this.fields.id]&&e[o][this.fields.id].toString()===i)return e[o][this.fields.child];if(e[o].hasOwnProperty(this.fields.child)&&void 0!==(n=this.getChildNodes(e[o][this.fields.child],i)))break}return n},l.prototype.getChildGroup=function(e,i,s){if(!t.isNullOrUndefined(e))for(var n=0,o=e.length;n<o;n++){if(t.isNullOrUndefined(e[n][0])||t.isNullOrUndefined(e[n][0][this.fields.parentID]))return s?e[n]:[];if(e[n][0][this.fields.parentID].toString()===i)return e[n]}},l.prototype.renderSubChild=function(e,i){if(i)for(var s=t.selectAll("."+Ve,e),n=0,o=s.length;n<o;n++){var r=s[n],l=t.closest(r,"."+ze);this.renderChildNodes(l,i)}},l.prototype.toggleSelect=function(e,t,i){this.allowMultiSelection&&(t&&t.ctrlKey||i)&&this.isActive(e)?this.unselectNode(e,t):this.selectNode(e,t,i)},l.prototype.isActive=function(e){return!!e.classList.contains(Xe)},l.prototype.selectNode=function(e,i,s){if(t.isNullOrUndefined(e)||!this.allowMultiSelection&&this.isActive(e)&&!t.isNullOrUndefined(i))this.setFocusElement(e);else{var n;if(!this.isLoaded||(n=this.getSelectEvent(e,"select",i),this.trigger("nodeSelecting",n),!n.cancel)){if(this.allowMultiSelection&&(s||i&&(!i||i.ctrlKey))||this.removeSelectAll(),this.allowMultiSelection&&i&&i.shiftKey){this.startNode||(this.startNode=e);var o=this.liList.indexOf(this.startNode),r=this.liList.indexOf(e);if(o>r){var l=o;o=r,r=l}for(var a=o;a<=r;a++){var d=this.liList[a];t.isVisible(d)&&this.addSelect(d)}}else this.startNode=e,this.addSelect(e);this.setFocusElement(e),this.isLoaded&&this.trigger("nodeSelected",n)}}},l.prototype.unselectNode=function(e,t){var i;this.isLoaded&&(i=this.getSelectEvent(e,"un-select",t),this.trigger("nodeSelecting",i),i.cancel)||(this.removeSelect(e),this.setFocusElement(e),this.isLoaded&&this.trigger("nodeSelected",i))},l.prototype.setFocusElement=function(e){if(!t.isNullOrUndefined(e)){var i=this.getFocusedNode();i&&t.removeClass([i],pt),t.addClass([e],pt),this.updateIdAttr(i,e)}},l.prototype.addSelect=function(e){e.setAttribute("aria-selected","true"),t.addClass([e],Xe);var i=e.getAttribute("data-uid");t.isNullOrUndefined(i)||-1!==this.selectedNodes.indexOf(i)||this.selectedNodes.push(i)},l.prototype.removeSelect=function(e){this.allowMultiSelection?e.setAttribute("aria-selected","false"):e.removeAttribute("aria-selected"),t.removeClass([e],Xe);var i=this.selectedNodes.indexOf(e.getAttribute("data-uid"));i>-1&&this.selectedNodes.splice(i,1)},l.prototype.removeSelectAll=function(){for(var e=this.element.querySelectorAll("."+Xe),i=0,s=e;i<s.length;i++){var n=s[i];this.allowMultiSelection?n.setAttribute("aria-selected","false"):n.removeAttribute("aria-selected")}t.removeClass(e,Xe),this.setProperties({selectedNodes:[]},!0)},l.prototype.getSelectEvent=function(e,i,s){var n=this.getNodeData(e);return{action:i,cancel:!1,isInteracted:!t.isNullOrUndefined(s),node:e,nodeData:n}},l.prototype.setExpandOnType=function(){this.expandOnType="auto"===this.expandOn?t.Browser.isDevice?"click":"dblclick":this.expandOn},l.prototype.expandHandler=function(e){var i=e.target;!i||this.allowEditing&&"dblclick"===e.type||i.classList.contains(qe)||i.classList.contains(Ge)||i.classList.contains(ze)||i.classList.contains(Ze)||this.showCheckBox&&t.closest(i,"."+ct)||this.expandCollapseAction(t.closest(i,"."+ze),e)},l.prototype.expandCollapseAction=function(e,i){var s=t.select("div."+Ze,e);if(s&&!s.classList.contains(Je)){s.classList.contains(Ve)?this.expandAction(e,s,i):this.collapseNode(e,s,i)}},l.prototype.expandAction=function(e,i,s,n){if(!i.classList.contains(Je)&&(t.addClass([i],Je),!this.isLoaded||(this.expandArgs=this.getExpandEvent(e,s),this.trigger("nodeExpanding",this.expandArgs),!this.expandArgs.cancel))){var o=t.select("."+Ge,e);o&&"UL"===o.nodeName?this.expandNode(e,i):this.renderChildNodes(e,n)}},l.prototype.keyActionHandler=function(e){var i=e.target,s=this.getFocusedNode();if(i&&i.classList.contains("e-input")){var n=i;"enter"===e.action?(n.blur(),this.element.focus(),t.addClass([s],Ye)):"escape"===e.action&&(n.value=this.oldText,n.blur(),this.element.focus(),t.addClass([s],Ye))}else{e.preventDefault();var o={cancel:!1,event:e,node:s};if(this.trigger("keyPress",o),!o.cancel)switch(e.action){case"space":this.showCheckBox&&this.checkNode(e);break;case"moveRight":this.openNode(!this.enableRtl,e);break;case"moveLeft":this.openNode(!!this.enableRtl,e);break;case"shiftDown":this.shiftKeySelect(!0,e);break;case"moveDown":case"ctrlDown":case"csDown":this.navigateNode(!0);break;case"shiftUp":this.shiftKeySelect(!1,e);break;case"moveUp":case"ctrlUp":case"csUp":this.navigateNode(!1);break;case"home":case"shiftHome":case"ctrlHome":case"csHome":this.navigateRootNode(!0);break;case"end":case"shiftEnd":case"ctrlEnd":case"csEnd":this.navigateRootNode(!1);break;case"enter":case"ctrlEnter":case"shiftEnter":case"csEnter":this.toggleSelect(s,e);break;case"f2":this.allowEditing&&this.createTextbox(s,e);break;case"ctrlA":if(this.allowMultiSelection){var r=t.selectAll("."+ze+":not(."+Xe+")",this.element);this.selectGivenNodes(r)}}}},l.prototype.navigateToFocus=function(e){var i=this.getFocusedNode().querySelector("."+$e),s=i.getBoundingClientRect(),n=this.getScrollParent(this.element);if(!t.isNullOrUndefined(n)){var o=n.getBoundingClientRect();s.bottom>o.bottom?n.scrollTop+=s.bottom-o.bottom:s.top<o.top&&(n.scrollTop-=o.top-s.top)}this.isVisibleInViewport(i)||i.scrollIntoView(e)},l.prototype.isVisibleInViewport=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},l.prototype.getScrollParent=function(e){return t.isNullOrUndefined(e)?null:e.scrollHeight>e.clientHeight?e:this.getScrollParent(e.parentElement)},l.prototype.shiftKeySelect=function(e,t){if(this.allowMultiSelection){var i=this.getFocusedNode(),s=e?this.getNextNode(i):this.getPrevNode(i);this.removeHover(),this.setFocusElement(s),this.toggleSelect(s,t,!1),this.navigateToFocus(!e)}else this.navigateNode(e)},l.prototype.checkNode=function(e){var i=this.getFocusedNode(),s=t.select("."+ct,i),n=t.select(" ."+ht,s).classList.contains(dt);this.validateCheckNode(s,n,i,e)},l.prototype.validateCheckNode=function(e,i,s,n){this.nodeCheckingEvent(e,i,n).cancel||(this.changeState(e,i?"uncheck":"check",n,!0),this.ensureChildCheckState(s),this.ensureParentCheckState(t.closest(t.closest(s,"."+Ge),"."+ze)),this.nodeCheckedEvent(e,i,n))},l.prototype.openNode=function(e,i){var s=this.getFocusedNode(),n=t.select("div."+Ze,s);if(e){if(!n)return;n.classList.contains(Ve)?this.expandAction(s,n,i):this.focusNextNode(s,!0)}else if(n&&n.classList.contains(_e))this.collapseNode(s,n,i);else{var o=t.closest(t.closest(s,"."+Ge),"."+ze);if(!o)return;this.setFocus(s,o),this.navigateToFocus(!0)}},l.prototype.navigateNode=function(e){var t=this.getFocusedNode();this.focusNextNode(t,e)},l.prototype.navigateRootNode=function(e){var t=this.getFocusedNode(),i=e?this.getRootNode():this.getEndNode();this.setFocus(t,i),this.navigateToFocus(e)},l.prototype.getFocusedNode=function(){var e=t.select("."+ze+"."+pt,this.element);return t.isNullOrUndefined(e)?t.select("."+ze,this.element):e},l.prototype.focusNextNode=function(e,t){var i=t?this.getNextNode(e):this.getPrevNode(e);this.setFocus(e,i),this.navigateToFocus(!t)},l.prototype.getNextNode=function(e){var i,s=this.liList.indexOf(e);do{if(s++,i=this.liList[s],t.isNullOrUndefined(i))return e}while(!t.isVisible(i));return i},l.prototype.getPrevNode=function(e){var i,s=this.liList.indexOf(e);do{if(s--,i=this.liList[s],t.isNullOrUndefined(i))return e}while(!t.isVisible(i));return i},l.prototype.getRootNode=function(){var e,i=0;do{e=this.liList[i],i++}while(!t.isVisible(e));return e},l.prototype.getEndNode=function(){var e,i=this.liList.length-1;do{e=this.liList[i],i--}while(!t.isVisible(e));return e},l.prototype.setFocus=function(e,i){t.removeClass([e],[Ye,pt]),t.addClass([i],[Ye,pt]),this.updateIdAttr(e,i)},l.prototype.updateIdAttr=function(e,t){this.element.removeAttribute("aria-activedescendant"),e&&e.removeAttribute("id"),t.setAttribute("id","node_active"),this.element.setAttribute("aria-activedescendant","node_active")},l.prototype.focusIn=function(){this.mouseDownStatus||t.addClass([this.getFocusedNode()],Ye),this.mouseDownStatus=!1},l.prototype.focusOut=function(){t.removeClass([this.getFocusedNode()],Ye)},l.prototype.onMouseOver=function(e){var i=e.target,s=i.classList,n=t.closest(i,"."+ze);!n||s.contains(Ge)||s.contains(ze)?this.removeHover():this.setHover(n)},l.prototype.setHover=function(e){e.classList.contains(Ye)||(this.removeHover(),t.addClass([e],Ye))},l.prototype.onMouseLeave=function(e){this.removeHover()},l.prototype.removeHover=function(){var e=t.selectAll("."+Ye,this.element);e&&e.length&&t.removeClass(e,Ye)},l.prototype.getNodeData=function(e){if(!t.isNullOrUndefined(e)&&e.classList.contains(ze)){var i=e.getAttribute("data-uid"),s=t.select("."+Ke,e).textContent,n=t.closest(e.parentNode,"."+ze),o=n?n.getAttribute("data-uid"):null,r=e.classList.contains(Xe),l="true"===e.getAttribute("aria-expanded"),a=null;return this.showCheckBox&&(a=t.select("."+ct,e).getAttribute("aria-checked")),{id:i,text:s,parentID:o,selected:r,expanded:l,isChecked:a}}return{id:"",text:"",parentID:"",selected:"",expanded:"",isChecked:""}},l.prototype.getExpandEvent=function(e,i){var s=this.getNodeData(e);return{cancel:!1,isInteracted:!t.isNullOrUndefined(i),node:e,nodeData:s}},l.prototype.reRenderNodes=function(){this.element.innerHTML="",this.setProperties({selectedNodes:[]},!0),this.isLoaded=!1,this.setDataBinding()},l.prototype.setCssClass=function(e,i){t.isNullOrUndefined(e)||""===e||t.removeClass([this.element],e.split(" ")),t.isNullOrUndefined(i)||""===i||t.addClass([this.element],i.split(" "))},l.prototype.editingHandler=function(e){var i=e.target;if(!(!i||i.classList.contains(qe)||i.classList.contains(Ge)||i.classList.contains(ze)||i.classList.contains(Ze)||i.classList.contains("e-input")||i.classList.contains("e-input-group"))){e.stopImmediatePropagation();var s=t.closest(i,"."+ze);this.createTextbox(s,e)}},l.prototype.createTextbox=function(e,i){var s=t.select("."+Ke,e);this.oldText=s.textContent;var n=this.getEditEvent(e,null);if(this.trigger("nodeEditing",n),!n.cancel){var o="width:"+(s.offsetWidth+5)+"px",l=t.createElement("input",{attrs:{value:this.oldText}});t.addClass([e],"e-editing"),s.childNodes[0].nodeValue="",s.appendChild(l),this.inputObj=r.Input.createInput({element:l,properties:{enableRtl:this.enableRtl}}),this.inputObj.container.setAttribute("style",o),l.focus();var a=l;a.setSelectionRange(0,a.value.length),this.wireInputEvents(l)}},l.prototype.inputFocusOut=function(e){var i=e.target,s=i.value,n=t.closest(i,"."+Ke),o=t.closest(i,"."+ze);n.childNodes[0].nodeValue=s,t.detach(this.inputObj.container),t.removeClass([o],"e-editing"),n.focus(),this.trigger("nodeEdited",this.getEditEvent(o,s))},l.prototype.getElement=function(e){return t.isNullOrUndefined(e)?null:"string"==typeof e?this.element.querySelector('[data-uid="'+e+'"]'):"object"==typeof e?e:null},l.prototype.getEditEvent=function(e,t){return{cancel:!1,newText:t,node:e,nodeData:this.getNodeData(e),oldText:this.oldText}},l.prototype.setDragAndDrop=function(e){e?this.initializeDrag():this.destroyDrag()},l.prototype.initializeDrag=function(){var e,i=this;this.dragObj=new t.Draggable(this.element,{enableTailMode:!0,preventDefault:!!t.Browser.isIos,dragTarget:"."+$e,helper:function(s){i.dragTarget=s.sender.target;var n=t.closest(i.dragTarget,"."+qe),o=t.closest(i.dragTarget,"."+$e);if(i.dragLi=t.closest(i.dragTarget,"."+ze),i.fullRowSelect&&!o&&i.dragTarget.classList.contains(st)&&(o=i.dragTarget.nextElementSibling),!i.dragTarget||!s.element.isSameNode(n)||!o||i.dragTarget.classList.contains(qe)||i.dragTarget.classList.contains(Ge)||i.dragTarget.classList.contains(ze))return!1;var r=o.cloneNode(!0);if(t.isNullOrUndefined(t.select("div."+Ze,r))){var l=t.createElement("div",{className:Ze+" "+Ve});r.insertBefore(l,r.children[0])}var a="e-drag-item "+qe+" "+(i.enableRtl?"e-rtl":"");(e=t.createElement("div",{className:a})).appendChild(r);var d=i.selectedNodes.length;if(d>1&&i.allowMultiSelection&&i.dragLi.classList.contains(Xe)){var c=t.createElement("span",{className:"e-drop-count",innerHTML:""+d});e.appendChild(c)}return document.body.appendChild(e),document.body.style.cursor="",i.dragData=i.getNodeData(i.dragLi),e},dragStart:function(s){t.addClass([i.element],et);var n=i.getDragEvent(s.event,i,null,s.target);i.trigger("nodeDragStart",n),n.cancel&&(t.detach(e),t.removeClass([i.element],et)),i.dragStartAction=!0},drag:function(s){i.dragObj.setProperties({cursorAt:{top:!t.isNullOrUndefined(s.event.targetTouches)||t.Browser.isDevice?60:-20}}),i.dragAction(s,e)},dragStop:function(e){t.removeClass([i.element],et),i.removeVirtualEle();var s=e.target,n=t.closest(s,".e-droppable");s&&n&&!s.classList.contains(qe)||(t.detach(e.helper),document.body.style.cursor="");var o=i.getDragEvent(e.event,i,s,s);i.trigger("nodeDragStop",o),o.cancel&&(t.detach(e.helper),document.body.style.cursor=""),i.dragStartAction=!1}}),this.dropObj=new t.Droppable(this.element,{out:function(e){t.isNullOrUndefined(e)||e.target.classList.contains(tt)||(document.body.style.cursor="not-allowed")},over:function(e){document.body.style.cursor=""},drop:function(e){i.dropAction(e)}})},l.prototype.dragAction=function(e,i){var s=t.closest(e.target,".e-droppable"),n=t.closest(e.target,"."+$e),o=t.select("div."+Ze,i);t.removeClass([o],["e-drop-in",it,"e-drop-out","e-no-drop"]),this.removeVirtualEle(),document.body.style.cursor="";var r=e.target.classList;if(this.fullRowSelect&&!n&&!t.isNullOrUndefined(r)&&r.contains(st)&&(n=e.target.nextElementSibling),s){var l=t.closest(e.target,"."+ze);if(!s.classList.contains(qe)||n&&!l.isSameNode(this.dragLi)&&!this.isDescendant(this.dragLi,l))if(e&&e.event.offsetY<7){t.addClass([o],it);var a=t.createElement("div",{className:tt}),d=this.fullRowSelect?1:0;l.insertBefore(a,l.children[d])}else if(e&&e.target.offsetHeight>0&&e.event.offsetY>e.target.offsetHeight-10){t.addClass([o],it);a=t.createElement("div",{className:tt}),d=this.fullRowSelect?2:1;l.insertBefore(a,l.children[d])}else t.addClass([o],"e-drop-in");else"LI"!==e.target.nodeName||l.isSameNode(this.dragLi)||this.isDescendant(this.dragLi,l)?e.target.classList.contains(tt)?t.addClass([o],it):t.addClass([o],"e-drop-out"):(t.addClass([o],it),this.renderVirtualEle(e))}else t.addClass([o],"e-no-drop"),document.body.style.cursor="not-allowed";this.trigger("nodeDragging",this.getDragEvent(e.event,this,e.target,e.target))},l.prototype.dropAction=function(e){var i=e.event.offsetY,s=e.target,n=e.dragData.draggable.ej2_instances[0],o=n.dragTarget,r=t.closest(o,"."+ze),l=t.closest(s,"."+ze);if(t.detach(e.droppedElement),document.body.style.cursor="",l&&!l.isSameNode(r)&&!this.isDescendant(r,l)){if(n.allowMultiSelection&&(r.classList.contains(Xe)||i<7||e.target.offsetHeight>0&&i>e.target.offsetHeight-10))for(var a=t.selectAll("."+Xe,n.element),d=0;d<a.length;d++)l.isSameNode(a[d])||this.isDescendant(a[d],l)||this.appendNode(s,a[d],l,e,n,i);else this.appendNode(s,r,l,e,n,i);this.trigger("nodeDropped",this.getDragEvent(e.event,n,s,e.target))}},l.prototype.appendNode=function(e,t,i,s,n,o){"LI"===e.nodeName?this.dropAsSiblingNode(t,i,s,n):this.dropAsChildNode(t,i,n,null,s,o)},l.prototype.dropAsSiblingNode=function(e,i,s,n){var o,r=t.closest(i,"."+Ge),l=t.closest(e,"."+Ge),a=t.closest(l,"."+ze);s.target.offsetHeight>0&&s.event.offsetY>s.target.offsetHeight-2?o=!1:s.event.offsetY<2&&(o=!0),r.insertBefore(e,o?s.target:s.target.nextElementSibling),this.updateElement(l,a),this.updateAriaLevel(e),n.element.id===this.element.id?this.updateList():(n.updateInstance(),this.updateInstance())},l.prototype.dropAsChildNode=function(e,i,s,n,o,r){var l=t.closest(e,"."+Ge),a=t.closest(l,"."+ze),d=t.closest(i,"."+Ge);if(o&&r<7)d.insertBefore(e,i);else if(o&&o.target.offsetHeight>0&&r>o.target.offsetHeight-10)d.insertBefore(e,i.nextElementSibling);else{var c=this.expandParent(i);c.insertBefore(e,c.childNodes[n])}this.updateElement(l,a),this.updateAriaLevel(e),s.element.id===this.element.id?this.updateList():(s.updateInstance(),this.updateInstance())},l.prototype.expandParent=function(e){var i=t.select("div."+Ze,e);i&&i.classList.contains(Ve)&&this.expandAction(e,i,null);var s=t.select("."+Ge,e);if(t.isNullOrUndefined(s)){n.ListBase.generateIcon(e,_e,this.listBaseOption);var o=t.select("div."+Ze,e);t.removeClass([o],Ve),s=n.ListBase.generateUL([],null,this.listBaseOption),e.appendChild(s),e.setAttribute("aria-expanded","true"),t.removeClass([e],lt)}return s},l.prototype.updateElement=function(e,i){if(i&&0===e.childElementCount){var s=t.select("div."+Ze,i);t.detach(e),t.detach(s),i.removeAttribute("aria-expanded")}},l.prototype.updateAriaLevel=function(e){var i=this.parents(e,"."+Ge).length;e.setAttribute("aria-level",""+i),this.updateChildAriaLevel(t.select("."+Ge,e),i+1)},l.prototype.updateChildAriaLevel=function(e,i){if(!t.isNullOrUndefined(e))for(var s=e.childNodes,n=0,o=s.length;n<o;n++){var r=s[n];r.setAttribute("aria-level",""+i),this.updateChildAriaLevel(t.select("."+Ge,r),i+1)}},l.prototype.renderVirtualEle=function(e){var i;e.event.offsetY>e.target.offsetHeight-2?i=!1:e.event.offsetY<2&&(i=!0);var s=t.createElement("div",{className:tt}),n=this.fullRowSelect?i?1:2:i?0:1;e.target.insertBefore(s,e.target.children[n])},l.prototype.removeVirtualEle=function(){var e=t.select("."+tt);e&&t.detach(e)},l.prototype.destroyDrag=function(){this.dragObj&&this.dropObj&&(this.dragObj.destroy(),this.dropObj.destroy())},l.prototype.getDragEvent=function(e,i,s,n){var o=s?t.closest(s,"."+ze):null,r=o?this.getNodeData(o):null;return{cancel:!1,event:e,draggedNode:i.dragLi,draggedNodeData:i.dragData,droppedNode:o,droppedNodeData:r,target:n}},l.prototype.addFullRow=function(e){var i=this.liList.length;if(e)for(var s=0;s<i;s++)this.createFullRow(this.liList[s]);else for(s=0;s<i;s++){var n=t.select("."+st,this.liList[s]);t.detach(n)}},l.prototype.createFullRow=function(e){var i=t.createElement("div",{className:st});e.insertBefore(i,e.childNodes[0])},l.prototype.addMultiSelect=function(e){if(e)for(var i=0,s=t.selectAll("."+ze+':not([aria-selected="true"])',this.element);i<s.length;i++){s[i].setAttribute("aria-selected","false")}else for(var n=0,o=t.selectAll("."+ze+'[aria-selected="false"]',this.element);n<o.length;n++){o[n].removeAttribute("aria-selected")}},l.prototype.collapseByLevel=function(e,i,s){if(i>0&&!t.isNullOrUndefined(e))for(var n=this.getVisibleNodes(s,e.childNodes),o=0,r=n.length;o<r;o++){var l=n[o],a=t.select("."+_e,t.select("."+$e,l));t.isNullOrUndefined(a)||this.collapseNode(l,a,null),this.collapseByLevel(t.select("."+Ge,l),i-1,s)}},l.prototype.collapseAllNodes=function(e){for(var i=this.getVisibleNodes(e,t.selectAll("."+_e,this.element)),s=0,n=i.length;s<n;s++){var o=i[s],r=t.closest(o,"."+ze);this.collapseNode(r,o,null)}},l.prototype.expandByLevel=function(e,i,s){if(i>0&&!t.isNullOrUndefined(e))for(var n=this.getVisibleNodes(s,e.childNodes),o=0,r=n.length;o<r;o++){var l=n[o],a=t.select("."+Ve,t.select("."+$e,l));t.isNullOrUndefined(a)||this.expandAction(l,a,null),this.expandByLevel(t.select("."+Ge,l),i-1,s)}},l.prototype.expandAllNodes=function(e){for(var i=this.getVisibleNodes(e,t.selectAll("."+Ve,this.element)),s=0,n=i.length;s<n;s++){var o=i[s],r=t.closest(o,"."+ze);this.expandAction(r,o,null,!0)}},l.prototype.getVisibleNodes=function(e,i){var s=Array.prototype.slice.call(i);if(e)for(var n=0;n<s.length;n++)t.isVisible(s[n])||(s.splice(n,1),n--);return s},l.prototype.removeNode=function(e){var i=t.closest(e,"."+Ge),s=t.closest(i,"."+ze);t.detach(e),this.updateElement(i,s),this.updateInstance()},l.prototype.updateInstance=function(){this.updateList(),this.updateSelectedNodes()},l.prototype.updateList=function(){this.liList=Array.prototype.slice.call(t.selectAll("."+ze,this.element))},l.prototype.updateSelectedNodes=function(){this.setProperties({selectedNodes:[]},!0);var e=t.selectAll("."+Xe,this.element);this.selectGivenNodes(e)},l.prototype.doGivenAction=function(e,i,s){for(var n=0,o=e.length;n<o;n++){var r=this.getElement(e[n]);if(!t.isNullOrUndefined(r)){var l=t.select("."+i,t.select("."+$e,r));t.isNullOrUndefined(l)||(s?this.expandAction(r,l,null):this.collapseNode(r,l,null))}}},l.prototype.addGivenNodes=function(e,i,s,o){var r=i?parseFloat(i.getAttribute("aria-level"))+1:1;o&&this.updateMapper(r);for(var l=n.ListBase.createListItemFromJson(e,this.listBaseOption,r),a=i?this.expandParent(i):t.select("."+Ge,this.element),d=a.childNodes[s],c=0;c<l.length;c++)a.insertBefore(l[c],d);this.finalizeNode(a)},l.prototype.updateMapper=function(e){var t=1===e?this.fields:this.getChildFields(this.fields,e-1,1),i=this.getActualProperties(t);this.listBaseOption.fields=i,this.listBaseOption.fields.url=i.navigateUrl},l.prototype.doDisableAction=function(e){for(var i=0,s=e.length;i<s;i++){var n=this.getElement(e[i]);t.isNullOrUndefined(n)||(n.setAttribute("aria-disabled","true"),t.addClass([n],"e-disable"))}},l.prototype.doEnableAction=function(e){for(var i=0,s=e.length;i<s;i++){var n=this.getElement(e[i]);t.isNullOrUndefined(n)||(n.removeAttribute("aria-disabled"),t.removeClass([n],"e-disable"))}},l.prototype.wireInputEvents=function(e){t.EventHandler.add(e,"blur",this.inputFocusOut,this)},l.prototype.wireEditingEvents=function(e){if(e){var i=this;t.Browser.isIos?this.touchEditObj=new t.Touch(this.element,{doubleTap:function(e){e.originalEvent.preventDefault(),i.editingHandler(e.originalEvent)}}):t.EventHandler.add(this.element,"dblclick",this.editingHandler,this)}else t.Browser.isIos&&this.touchEditObj?this.touchEditObj.destroy():t.EventHandler.remove(this.element,"dblclick",this.editingHandler)},l.prototype.wireClickEvent=function(e){if(e){var i=this;t.Browser.isIos?this.touchClickObj=new t.Touch(this.element,{tap:function(e){i.clickHandler(e.originalEvent)}}):t.EventHandler.add(this.element,"click",this.clickHandler,this)}else t.Browser.isIos&&this.touchClickObj?this.touchClickObj.destroy():t.EventHandler.remove(this.element,"click",this.clickHandler)},l.prototype.wireExpandOnEvent=function(e){if(e){var i=this;t.Browser.isIos?"click"===this.expandOnType?this.touchExpandObj=new t.Touch(this.element,{tap:function(e){i.expandHandler(e.originalEvent)}}):this.touchExpandObj=new t.Touch(this.element,{doubleTap:function(e){i.expandHandler(e.originalEvent)}}):t.EventHandler.add(this.element,this.expandOnType,this.expandHandler,this)}else t.Browser.isIos&&this.touchExpandObj?this.touchExpandObj.destroy():t.EventHandler.remove(this.element,this.expandOnType,this.expandHandler)},l.prototype.mouseDownHandler=function(e){this.mouseDownStatus=!0,e.ctrlKey&&this.allowMultiSelection&&t.EventHandler.add(this.element,"contextmenu ",this.preventContextMenu,this)},l.prototype.preventContextMenu=function(e){e.preventDefault()},l.prototype.wireEvents=function(){t.EventHandler.add(this.element,"mousedown",this.mouseDownHandler,this),this.wireClickEvent(!0),this.wireExpandOnEvent(!0),t.EventHandler.add(this.element,"focus",this.focusIn,this),t.EventHandler.add(this.element,"blur",this.focusOut,this),t.EventHandler.add(this.element,"mouseover",this.onMouseOver,this),t.EventHandler.add(this.element,"mouseout",this.onMouseLeave,this),this.keyboardModule=new t.KeyboardEvents(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})},l.prototype.unWireEvents=function(){t.EventHandler.remove(this.element,"mousedown",this.mouseDownHandler),this.wireClickEvent(!1),this.wireExpandOnEvent(!1),t.EventHandler.remove(this.element,"focus",this.focusIn),t.EventHandler.remove(this.element,"blur",this.focusOut),t.EventHandler.remove(this.element,"mouseover",this.onMouseOver),t.EventHandler.remove(this.element,"mouseout",this.onMouseLeave),this.keyboardModule.destroy()},l.prototype.parents=function(e,i){for(var s=[],n=e.parentNode;!t.isNullOrUndefined(n);)t.matches(n,i)&&s.push(n),n=n.parentNode;return s},l.prototype.isDescendant=function(e,i){for(var s=i.parentNode;!t.isNullOrUndefined(s);){if(s===e)return!0;s=s.parentNode}return!1},l.prototype.showSpinner=function(e){t.addClass([e],Qe),i.createSpinner({target:e,width:ut}),i.showSpinner(e)},l.prototype.hideSpinner=function(e){i.hideSpinner(e),e.innerHTML="",t.removeClass([e],Qe)},l.prototype.setCheckedNodes=function(e){e=JSON.parse(JSON.stringify(e)),this.uncheckAll(),e.length>0&&this.checkAll(e)},l.prototype.onPropertyChanged=function(e,t){for(var i=0,s=Object.keys(e);i<s.length;i++){switch(s[i]){case"allowDragAndDrop":this.setDragAndDrop(this.allowDragAndDrop);break;case"allowEditing":this.wireEditingEvents(this.allowEditing);break;case"allowMultiSelection":if(this.selectedNodes.length>1){var n=this.getElement(this.selectedNodes[0]);this.isLoaded=!1,this.removeSelectAll(),this.selectNode(n,null),this.isLoaded=!0}this.setTouchPopup(this.allowMultiSelection),this.setMultiSelect(this.allowMultiSelection),this.addMultiSelect(this.allowMultiSelection);break;case"checkedNodes":this.showCheckBox&&(this.checkedNodes=t.checkedNodes,this.setCheckedNodes(e.checkedNodes));break;case"cssClass":this.setCssClass(t.cssClass,e.cssClass);break;case"enableRtl":this.setEnableRtl();break;case"expandOn":this.wireExpandOnEvent(!1),this.setExpandOnType(),this.wireExpandOnEvent(!0);break;case"fields":this.listBaseOption.fields=this.fields.properties,this.listBaseOption.fields.url=this.fields.navigateUrl,this.reRenderNodes();break;case"fullRowSelect":this.setFullRow(this.fullRowSelect),this.addFullRow(this.fullRowSelect);break;case"nodeTemplate":this.nodeTemplateFn=this.templateComplier(this.nodeTemplate),this.reRenderNodes();break;case"selectedNodes":this.removeSelectAll(),this.setProperties({selectedNodes:e.selectedNodes},!0),this.doSelectionAction();break;case"showCheckBox":case"sortOrder":this.reRenderNodes()}}},l.prototype.destroy=function(){this.element.removeAttribute("aria-activedescendant"),this.element.removeAttribute("tabindex"),this.unWireEvents(),this.wireEditingEvents(!1),this.rippleFn(),this.rippleIconFn(),this.setCssClass(this.cssClass,null),this.setDragAndDrop(!1),this.setFullRow(!1),this.setTouchPopup(!1),this.element.innerHTML="",e.prototype.destroy.call(this)},l.prototype.addNodes=function(e,i,s){if(!t.isNullOrUndefined(e)){var n=this.getElement(i);if(e=this.getSortedData(e),this.fields.dataSource instanceof o.DataManager)this.addGivenNodes(e,n,s,!0);else if(2===this.dataType)this.addGivenNodes(e,n,s);else if(n)this.addGivenNodes(e,n,s);else for(var r=0;r<e.length;r++){var l=e[r][this.fields.parentID];n=l?this.getElement(l.toString()):l,this.addGivenNodes([e[r]],n,s)}}},l.prototype.checkAll=function(e){this.showCheckBox&&this.doCheckBoxAction(e,!0)},l.prototype.collapseAll=function(e,i,s){t.isNullOrUndefined(e)?i>0?this.collapseByLevel(t.select("."+Ge,this.element),i,s):this.collapseAllNodes(s):this.doGivenAction(e,_e,!1)},l.prototype.disableNodes=function(e){t.isNullOrUndefined(e)||this.doDisableAction(e)},l.prototype.enableNodes=function(e){t.isNullOrUndefined(e)||this.doEnableAction(e)},l.prototype.ensureVisible=function(e){var i=this.getElement(e);if(!t.isNullOrUndefined(i)){var s=this.parents(i,"."+ze);this.expandAll(s),setTimeout(function(){i.scrollIntoView(!0)},450)}},l.prototype.expandAll=function(e,i,s){t.isNullOrUndefined(e)?i>0?this.expandByLevel(t.select("."+Ge,this.element),i,s):this.expandAllNodes(s):this.doGivenAction(e,Ve,!0)},l.prototype.getNode=function(e){return this.getElement(e)},l.prototype.getNodeDetails=function(e){var t=this.getElement(e);return this.getNodeData(t)},l.prototype.moveNodes=function(e,i,s){var n=this.getElement(i);if(!t.isNullOrUndefined(n))for(var o=0;o<e.length;o++){var r=this.getElement(e[o]);t.isNullOrUndefined(r)||n.isSameNode(r)||this.isDescendant(r,n)||this.dropAsChildNode(r,n,this,s)}},l.prototype.removeNodes=function(e){for(var i=0,s=e.length;i<s;i++){var n=this.getElement(e[i]);t.isNullOrUndefined(n)||this.removeNode(n)}},l.prototype.replaceText=function(e,i){if(!t.isNullOrUndefined(e)&&!t.isNullOrUndefined(i)&&this.allowEditing){var s=this.getElement(e);if(!t.isNullOrUndefined(s)){t.select("."+Ke,s).childNodes[0].nodeValue=i}}},l.prototype.uncheckAll=function(e){this.showCheckBox&&this.doCheckBoxAction(e,!1)},Fe([t.Property(!1)],l.prototype,"allowDragAndDrop",void 0),Fe([t.Property(!1)],l.prototype,"allowEditing",void 0),Fe([t.Property(!1)],l.prototype,"allowMultiSelection",void 0),Fe([t.Complex({},yt)],l.prototype,"animation",void 0),Fe([t.Property()],l.prototype,"checkedNodes",void 0),Fe([t.Property("")],l.prototype,"cssClass",void 0),Fe([t.Property(!1)],l.prototype,"enablePersistence",void 0),Fe([t.Property(!1)],l.prototype,"enableRtl",void 0),Fe([t.Property("auto")],l.prototype,"expandOn",void 0),Fe([t.Complex({},mt)],l.prototype,"fields",void 0),Fe([t.Property(!0)],l.prototype,"fullRowSelect",void 0),Fe([t.Property()],l.prototype,"nodeTemplate",void 0),Fe([t.Property()],l.prototype,"selectedNodes",void 0),Fe([t.Property("None")],l.prototype,"sortOrder",void 0),Fe([t.Property(!1)],l.prototype,"showCheckBox",void 0),Fe([t.Event()],l.prototype,"created",void 0),Fe([t.Event()],l.prototype,"dataBound",void 0),Fe([t.Event()],l.prototype,"drawNode",void 0),Fe([t.Event()],l.prototype,"destroyed",void 0),Fe([t.Event()],l.prototype,"keyPress",void 0),Fe([t.Event()],l.prototype,"nodeChecked",void 0),Fe([t.Event()],l.prototype,"nodeChecking",void 0),Fe([t.Event()],l.prototype,"nodeClicked",void 0),Fe([t.Event()],l.prototype,"nodeCollapsed",void 0),Fe([t.Event()],l.prototype,"nodeCollapsing",void 0),Fe([t.Event()],l.prototype,"nodeDragging",void 0),Fe([t.Event()],l.prototype,"nodeDragStart",void 0),Fe([t.Event()],l.prototype,"nodeDragStop",void 0),Fe([t.Event()],l.prototype,"nodeDropped",void 0),Fe([t.Event()],l.prototype,"nodeEdited",void 0),Fe([t.Event()],l.prototype,"nodeEditing",void 0),Fe([t.Event()],l.prototype,"nodeExpanded",void 0),Fe([t.Event()],l.prototype,"nodeExpanding",void 0),Fe([t.Event()],l.prototype,"nodeSelected",void 0),Fe([t.Event()],l.prototype,"nodeSelecting",void 0),l=Fe([t.NotifyPropertyChanges],l)}(t.Component);e.HScroll=y,e.Item=R,e.Toolbar=j,e.AccordionActionSettings=ne,e.AccordionAnimationSettings=oe,e.AccordionItem=re,e.Accordion=le,e.MenuItem=be,e.ContextMenu=Ee,e.TabActionSettings=Me,e.TabAnimationSettings=Be,e.Header=Te,e.TabItem=Re,e.Tab=je,e.FieldsSettings=mt,e.ActionSettings=vt,e.NodeAnimationSettings=yt,e.TreeView=gt,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ej2-navigations.umd.min.js.map
