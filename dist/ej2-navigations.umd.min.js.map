{"version":3,"file":"ej2-navigations.umd.min.js","sources":["src/es5/common/h-scroll.js","src/es5/toolbar/toolbar.js","src/es5/accordion/accordion.js","src/es5/context-menu/context-menu.js","src/es5/tab/tab.js","src/es5/treeview/treeview.js","src/es5/sidebar/sidebar.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Touch, Component, EventHandler, selectAll, getUniqueID } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Property, Browser, detach, createElement as buildTag } from '@syncfusion/ej2-base';\nvar CLS_ROOT = 'e-hscroll';\nvar CLS_RTL = 'e-rtl';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_HSCROLLBAR = 'e-hscroll-bar';\nvar CLS_HSCROLLCON = 'e-hscroll-content';\nvar CLS_NAVARROW = 'e-nav-arrow';\nvar CLS_NAVRIGHTARROW = 'e-nav-right-arrow';\nvar CLS_NAVLEFTARROW = 'e-nav-left-arrow';\nvar CLS_HSCROLLNAV = 'e-scroll-nav';\nvar CLS_HSCROLLNAVRIGHT = 'e-scroll-right-nav';\nvar CLS_HSCROLLNAVLEFT = 'e-scroll-left-nav';\nvar CLS_DEVICE = 'e-scroll-device';\n/**\n * HScroll module is introduces horizontal scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs horizontal scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new HScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\nvar HScroll = /** @class */ (function (_super) {\n    __extends(HScroll, _super);\n    /**\n     * Initializes a new instance of the HScroll class.\n     * @param options  - Specifies HScroll model properties as options.\n     * @param element  - Specifies the element for which horizontal scrolling applies.\n     */\n    function HScroll(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    HScroll.prototype.preRender = function () {\n        this.browser = Browser.info.name;\n        this.browserCheck = this.browser === 'mozilla';\n        this.isDevice = Browser.isDevice;\n        var element = this.element;\n        this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n        this.initialize();\n        if (element.id === '') {\n            element.id = getUniqueID('hscroll');\n            this.uniqueId = true;\n        }\n        element.style.display = 'block';\n        if (this.enableRtl) {\n            element.classList.add(CLS_RTL);\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    HScroll.prototype.render = function () {\n        this.touchModule = new Touch(this.element, { scroll: this.touchHandler.bind(this) });\n        if (!this.isDevice) {\n            this.createNavIcon(this.element);\n            EventHandler.add(this.scrollEle, 'scroll', this.scrollHandler, this);\n        }\n        else {\n            this.element.classList.add(CLS_DEVICE);\n        }\n    };\n    HScroll.prototype.initialize = function () {\n        var scrollEle = buildTag('div', { className: CLS_HSCROLLCON });\n        var scrollDiv = buildTag('div', { className: CLS_HSCROLLBAR });\n        scrollDiv.setAttribute('tabindex', '-1');\n        var ele = this.element;\n        var innerEle = [].slice.call(ele.children);\n        for (var _i = 0, innerEle_1 = innerEle; _i < innerEle_1.length; _i++) {\n            var ele_1 = innerEle_1[_i];\n            scrollEle.appendChild(ele_1);\n        }\n        scrollDiv.appendChild(scrollEle);\n        ele.appendChild(scrollDiv);\n        scrollDiv.style.overflowX = 'hidden';\n        this.scrollEle = scrollDiv;\n        this.scrollItems = scrollEle;\n    };\n    HScroll.prototype.getPersistData = function () {\n        var keyEntity = ['scrollStep'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    HScroll.prototype.getModuleName = function () {\n        return 'hScroll';\n    };\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void\n     */\n    HScroll.prototype.destroy = function () {\n        var ele = this.element;\n        ele.style.display = '';\n        ele.classList.remove(CLS_ROOT);\n        var nav = selectAll('.e-' + ele.id + '_nav.' + CLS_HSCROLLNAV, ele);\n        for (var _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {\n            var elem = _a[_i];\n            ele.appendChild(elem);\n        }\n        if (this.uniqueId) {\n            this.element.removeAttribute('id');\n        }\n        detach(this.scrollEle);\n        if (nav.length > 0) {\n            detach(nav[0]);\n            detach(nav[1]);\n        }\n        EventHandler.remove(this.scrollEle, 'scroll', this.scrollHandler);\n        this.touchModule.destroy();\n        this.touchModule = null;\n        _super.prototype.destroy.call(this);\n    };\n    HScroll.prototype.createNavIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n        var nav = buildTag('div', { id: id.concat('_right'), className: clsRight });\n        nav.setAttribute('aria-disabled', 'false');\n        var navItem = buildTag('div', { className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        var clsLeft = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVLEFT);\n        var navEle = buildTag('div', { id: id.concat('_left'), className: clsLeft + ' ' + CLS_DISABLE });\n        navEle.setAttribute('aria-disabled', 'true');\n        var navLeftItem = buildTag('div', { className: CLS_NAVLEFTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        navEle.appendChild(navLeftItem);\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        element.appendChild(nav);\n        element.insertBefore(navEle, element.firstChild);\n        if (this.ieCheck) {\n            nav.classList.add('e-ie-align');\n            navEle.classList.add('e-ie-align');\n        }\n        this.eventBinding([nav, navEle]);\n    };\n    HScroll.prototype.onKeyPress = function (e) {\n        var _this = this;\n        if (e.key === 'Enter') {\n            var timeoutFun_1 = function () {\n                _this.keyTimeout = true;\n                _this.eleScrolling(10, e.target);\n            };\n            this.keyTimer = window.setTimeout(function () {\n                timeoutFun_1();\n            }, 100);\n        }\n    };\n    HScroll.prototype.onKeyUp = function (e) {\n        if (e.key !== 'Enter') {\n            return;\n        }\n        if (this.keyTimeout) {\n            this.keyTimeout = false;\n        }\n        else {\n            e.target.click();\n        }\n        clearTimeout(this.keyTimer);\n    };\n    HScroll.prototype.eventBinding = function (ele) {\n        var _this = this;\n        ele.forEach(function (el) {\n            new Touch(el, { tapHold: _this.tabHoldHandler.bind(_this), tapHoldThreshold: 500 });\n            el.addEventListener('keydown', _this.onKeyPress.bind(_this));\n            el.addEventListener('keyup', _this.onKeyUp.bind(_this));\n            el.addEventListener('mouseup', _this.repeatScroll.bind(_this));\n            el.addEventListener('touchend', _this.repeatScroll.bind(_this));\n            el.addEventListener('contextmenu', function (e) {\n                e.preventDefault();\n            });\n            EventHandler.add(el, 'click', _this.clickEventHandler, _this);\n        });\n    };\n    HScroll.prototype.repeatScroll = function () {\n        clearInterval(this.timeout);\n    };\n    HScroll.prototype.tabHoldHandler = function (e) {\n        var _this = this;\n        var trgt = e.originalEvent.target;\n        trgt = this.contains(trgt, CLS_HSCROLLNAV) ? trgt.firstElementChild : trgt;\n        var scrollDis = 10;\n        var timeoutFun = function () {\n            _this.eleScrolling(scrollDis, trgt);\n        };\n        this.timeout = window.setInterval(function () {\n            timeoutFun();\n        }, 50);\n    };\n    HScroll.prototype.contains = function (ele, className) {\n        return ele.classList.contains(className);\n    };\n    HScroll.prototype.eleScrolling = function (scrollDis, trgt) {\n        var element = this.scrollEle;\n        var rootEle = this.element;\n        var classList = trgt.classList;\n        if (classList.contains(CLS_HSCROLLNAV)) {\n            classList = trgt.querySelector('.' + CLS_NAVARROW).classList;\n        }\n        if (this.contains(rootEle, CLS_RTL) && this.browserCheck) {\n            scrollDis = -scrollDis;\n        }\n        var scrlLeft = element.scrollLeft;\n        if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n            if (classList.contains(CLS_NAVRIGHTARROW)) {\n                element.scrollLeft = scrlLeft + scrollDis;\n            }\n            else {\n                element.scrollLeft = scrlLeft - scrollDis;\n            }\n        }\n        else {\n            if (classList.contains(CLS_NAVLEFTARROW)) {\n                element.scrollLeft = scrlLeft + scrollDis;\n            }\n            else {\n                element.scrollLeft = scrlLeft - scrollDis;\n            }\n        }\n    };\n    HScroll.prototype.clickEventHandler = function (e) {\n        this.eleScrolling(this.scrollStep, e.target);\n    };\n    HScroll.prototype.touchHandler = function (e) {\n        var ele = this.scrollEle;\n        var distance;\n        distance = e.distanceX;\n        if ((this.ieCheck) && this.contains(this.element, CLS_RTL)) {\n            distance = -distance;\n        }\n        if (e.scrollDirection === 'Left') {\n            ele.scrollLeft = ele.scrollLeft + distance;\n        }\n        else if (e.scrollDirection === 'Right') {\n            ele.scrollLeft = ele.scrollLeft - distance;\n        }\n    };\n    HScroll.prototype.arrowDisabling = function (addDisable, removeDisable) {\n        addDisable.classList.add(CLS_DISABLE);\n        addDisable.setAttribute('aria-disabled', 'true');\n        addDisable.removeAttribute('tabindex');\n        clearInterval(this.timeout);\n        removeDisable.classList.remove(CLS_DISABLE);\n        removeDisable.setAttribute('aria-disabled', 'false');\n        removeDisable.setAttribute('tabindex', '0');\n        this.repeatScroll();\n    };\n    HScroll.prototype.scrollHandler = function (e) {\n        var target = e.target;\n        var width = target.offsetWidth;\n        var rootEle = this.element;\n        var navLeftEle = this.element.querySelector('.' + CLS_HSCROLLNAVLEFT);\n        var navRightEle = this.element.querySelector('.' + CLS_HSCROLLNAVRIGHT);\n        var scrollLeft = target.scrollLeft;\n        if (scrollLeft <= 0) {\n            scrollLeft = -scrollLeft;\n        }\n        if (scrollLeft === 0) {\n            if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n                this.arrowDisabling(navLeftEle, navRightEle);\n            }\n            else {\n                this.arrowDisabling(navRightEle, navLeftEle);\n            }\n        }\n        else if (Math.ceil(width + scrollLeft + .1) >= target.scrollWidth) {\n            if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n                this.arrowDisabling(navRightEle, navLeftEle);\n            }\n            else {\n                this.arrowDisabling(navLeftEle, navRightEle);\n            }\n        }\n        else {\n            var disEle = this.element.querySelector('.' + CLS_HSCROLLNAV + '.' + CLS_DISABLE);\n            if (disEle) {\n                disEle.classList.remove(CLS_DISABLE);\n                disEle.setAttribute('aria-disabled', 'false');\n                disEle.setAttribute('tabindex', '0');\n            }\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n     * @param  {HScrollModel} newProp\n     * @param  {HScrollModel} oldProp\n     * @returns void\n     * @private\n     */\n    HScroll.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'scrollStep':\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.element.classList.add(CLS_RTL) : this.element.classList.remove(CLS_RTL);\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(40)\n    ], HScroll.prototype, \"scrollStep\", void 0);\n    HScroll = __decorate([\n        NotifyPropertyChanges\n    ], HScroll);\n    return HScroll;\n}(Component));\nexport { HScroll };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, isVisible, closest, attributes, detach, classList, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { createElement as buildTag, selectAll, setStyleAttribute as setStyle } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, getUniqueID, formatUnit, Collection, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, Browser } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { calculatePosition } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { HScroll } from '../common/h-scroll';\nvar CLS_ITEMS = 'e-toolbar-items';\nvar CLS_ITEM = 'e-toolbar-item';\nvar CLS_RTL = 'e-rtl';\nvar CLS_SEPARATOR = 'e-separator';\nvar CLS_POPUPICON = 'e-popup-up-icon';\nvar CLS_POPUPDOWN = 'e-popup-down-icon';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_POPUPTEXT = 'e-toolbar-text';\nvar CLS_TBARTEXT = 'e-popup-text';\nvar CLS_TBAROVERFLOW = 'e-overflow-show';\nvar CLS_POPOVERFLOW = 'e-overflow-hide';\nvar CLS_TBARBTN = 'e-tbar-btn';\nvar CLS_TBARNAV = 'e-hor-nav';\nvar CLS_TBARSCRLNAV = 'e-scroll-nav';\nvar CLS_TBARRIGHT = 'e-toolbar-right';\nvar CLS_TBARLEFT = 'e-toolbar-left';\nvar CLS_TBARCENTER = 'e-toolbar-center';\nvar CLS_TBARPOS = 'e-tbar-pos';\nvar CLS_TBARSCROLL = 'e-hscroll-content';\nvar CLS_POPUPNAV = 'e-hor-nav';\nvar CLS_POPUPCLASS = 'e-toolbar-pop';\nvar CLS_POPUP = 'e-toolbar-popup';\nvar CLS_TBARBTNTEXT = 'e-tbar-btn-text';\nvar CLS_TBARNAVACT = 'e-nav-active';\nvar CLS_TBARIGNORE = 'e-ignore';\nvar CLS_POPPRI = 'e-popup-alone';\nvar CLS_HIDDEN = 'e-hidden';\n/**\n * An item object that is used to configure Toolbar commands.\n */\nvar Item = /** @class */ (function (_super) {\n    __extends(Item, _super);\n    function Item() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Item.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"text\", void 0);\n    __decorate([\n        Property('auto')\n    ], Item.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"showAlwaysInPopup\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"prefixIcon\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"suffixIcon\", void 0);\n    __decorate([\n        Property('None')\n    ], Item.prototype, \"overflow\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"template\", void 0);\n    __decorate([\n        Property('Button')\n    ], Item.prototype, \"type\", void 0);\n    __decorate([\n        Property('Both')\n    ], Item.prototype, \"showTextOn\", void 0);\n    __decorate([\n        Property(null)\n    ], Item.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"tooltipText\", void 0);\n    __decorate([\n        Property('Left')\n    ], Item.prototype, \"align\", void 0);\n    return Item;\n}(ChildProperty));\nexport { Item };\n/**\n * The Toolbar control contains a group of commands that are aligned horizontally.\n * ```html\n * <div id=\"toolbar\"/>\n * <script>\n *   var toolbarObj = new Toolbar();\n *   toolbarObj.appendTo(\"#toolbar\");\n * </script>\n * ```\n */\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    /**\n     * Initializes a new instance of the Toolbar class.\n     * @param options  - Specifies Toolbar model properties as options.\n     * @param element  - Specifies the element that is rendered as a Toolbar.\n     */\n    function Toolbar(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * Contains the keyboard configuration of the Toolbar.\n         */\n        _this.keyConfigs = {\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            popupOpen: 'enter',\n            popupClose: 'escape',\n            tab: 'tab',\n            home: 'home',\n            end: 'end',\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void.\n     */\n    Toolbar.prototype.destroy = function () {\n        var _this = this;\n        var ele = this.element;\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        while (ele.firstChild) {\n            ele.removeChild(ele.firstChild);\n        }\n        if (this.trgtEle) {\n            ele.appendChild(this.ctrlTem);\n        }\n        this.clearProperty();\n        this.popObj = null;\n        this.tbarAlign = null;\n        this.remove(this.element, 'e-toolpop');\n        ele.removeAttribute('style');\n        ['aria-disabled', 'aria-orientation', 'aria-haspopup', 'role'].forEach(function (attrb) {\n            _this.element.removeAttribute(attrb);\n        });\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    Toolbar.prototype.preRender = function () {\n        this.trigger('beforeCreate');\n        this.scrollModule = null;\n        this.popObj = null;\n        this.tbarItemsCol = this.items;\n        this.popupPriCount = 0;\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL);\n        }\n    };\n    Toolbar.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        window.addEventListener('resize', this.resize.bind(this));\n        this.keyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs\n        });\n        EventHandler.add(this.element, 'keydown', this.docKeyDown, this);\n        this.element.setAttribute('tabIndex', '0');\n    };\n    Toolbar.prototype.docKeyDown = function (e) {\n        if (e.target.tagName === 'INPUT') {\n            return;\n        }\n        if (e.keyCode === 9 && e.target.classList.contains('e-hor-nav') === true && isVisible(this.popObj.element)) {\n            this.popObj.hide({ name: 'SlideUp', duration: 100 });\n        }\n        var keyCheck = (e.keyCode === 40 || e.keyCode === 38 || e.keyCode === 35 || e.keyCode === 36);\n        if (keyCheck) {\n            e.preventDefault();\n        }\n    };\n    Toolbar.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        this.destroyHScroll();\n        this.keyModule.destroy();\n        EventHandler.remove(document, 'scroll', this.docEvent);\n        EventHandler.remove(this.element, 'keydown', this.docKeyDown);\n        EventHandler.remove(document, 'click', this.docEvent);\n    };\n    Toolbar.prototype.clearProperty = function () {\n        this.tbarEle = [];\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n    };\n    Toolbar.prototype.docEvent = function (e) {\n        var popEle = closest(e.target, '.e-popup');\n        if (this.popObj && isVisible(this.popObj.element) && !popEle) {\n            this.popObj.hide({ name: 'SlideUp', duration: 100 });\n        }\n    };\n    Toolbar.prototype.destroyHScroll = function () {\n        if (this.scrollModule) {\n            if (this.tbarAlign) {\n                this.add(this.scrollModule.element, CLS_TBARPOS);\n            }\n            this.scrollModule.destroy();\n            this.scrollModule = null;\n        }\n    };\n    Toolbar.prototype.destroyItems = function () {\n        [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) {\n            detach(el);\n        });\n        var tbarItems = this.element.querySelector('.' + CLS_ITEMS);\n        if (this.tbarAlign) {\n            [].slice.call(tbarItems.children).forEach(function (el) {\n                detach(el);\n            });\n            this.tbarAlign = false;\n            this.remove(tbarItems, CLS_TBARPOS);\n        }\n        this.clearProperty();\n    };\n    Toolbar.prototype.destroyMode = function () {\n        if (this.scrollModule) {\n            this.remove(this.scrollModule.element, CLS_RTL);\n            this.destroyHScroll();\n        }\n        if (this.popObj) {\n            this.popupRefresh(this.popObj.element, true);\n        }\n    };\n    Toolbar.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Toolbar.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    Toolbar.prototype.elementFocus = function (ele) {\n        var fChild = ele.firstElementChild;\n        if (fChild) {\n            fChild.focus();\n            this.activeEleSwitch(ele);\n        }\n        else {\n            ele.focus();\n        }\n    };\n    Toolbar.prototype.clstElement = function (tbrNavChk, trgt) {\n        var clst;\n        if (tbrNavChk && this.popObj && isVisible(this.popObj.element)) {\n            clst = this.popObj.element.querySelector('.' + CLS_ITEM);\n        }\n        else if (this.element === trgt || tbrNavChk) {\n            clst = this.element.querySelector('.' + CLS_ITEM);\n        }\n        else {\n            clst = closest(trgt, '.' + CLS_ITEM);\n        }\n        return clst;\n    };\n    Toolbar.prototype.keyHandling = function (clst, e, trgt, navChk, scrollChk) {\n        var popObj = this.popObj;\n        var rootEle = this.element;\n        var popAnimate = { name: 'SlideUp', duration: 100 };\n        switch (e.action) {\n            case 'moveRight':\n                if (rootEle === trgt) {\n                    this.elementFocus(clst);\n                }\n                else if (!navChk) {\n                    this.eleFocus(clst, 'next');\n                }\n                break;\n            case 'moveLeft':\n                if (!navChk) {\n                    this.eleFocus(clst, 'previous');\n                }\n                break;\n            case 'home':\n            case 'end':\n                var ele = void 0;\n                var nodes = void 0;\n                if (clst) {\n                    var popupCheck = closest(clst, '.e-popup');\n                    if (popupCheck) {\n                        if (isVisible(this.popObj.element)) {\n                            nodes = popupCheck.children;\n                            if (e.action === 'home') {\n                                ele = nodes[0];\n                            }\n                            else {\n                                ele = nodes[nodes.length - 1];\n                            }\n                        }\n                    }\n                    else {\n                        nodes = this.element.querySelectorAll('.' + CLS_ITEMS + ' .' + CLS_ITEM);\n                        if (e.action === 'home') {\n                            ele = nodes[0];\n                        }\n                        else {\n                            ele = nodes[nodes.length - 1];\n                        }\n                    }\n                    if (ele) {\n                        this.elementFocus(ele);\n                    }\n                }\n                break;\n            case 'moveUp':\n            case 'moveDown':\n                var value = e.action === 'moveUp' ? 'previous' : 'next';\n                if (popObj && closest(trgt, '.e-popup')) {\n                    var popEle = popObj.element;\n                    var popFrstEle = popEle.firstElementChild;\n                    if ((value === 'previous' && popFrstEle === clst) || (value === 'next' && popEle.lastElementChild === clst)) {\n                        return;\n                    }\n                    else {\n                        this.eleFocus(clst, value);\n                    }\n                }\n                else if (e.action === 'moveDown' && popObj && isVisible(popObj.element)) {\n                    this.elementFocus(clst);\n                }\n                break;\n            case 'tab':\n                if (!scrollChk && !navChk) {\n                    var ele_1 = clst.firstElementChild;\n                    if (rootEle === trgt) {\n                        if (this.activeEle) {\n                            this.activeEle.focus();\n                        }\n                        else {\n                            this.activeEleRemove(ele_1);\n                            ele_1.focus();\n                        }\n                        this.element.removeAttribute('tabindex');\n                    }\n                }\n                break;\n            case 'popupClose':\n                if (popObj) {\n                    popObj.hide(popAnimate);\n                }\n                break;\n            case 'popupOpen':\n                if (!navChk) {\n                    return;\n                }\n                if (popObj && !isVisible(popObj.element)) {\n                    popObj.element.style.top = rootEle.offsetHeight + 'px';\n                    popObj.show({ name: 'SlideDown', duration: 100 });\n                }\n                else {\n                    popObj.hide(popAnimate);\n                }\n                break;\n        }\n    };\n    Toolbar.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        if (trgt.tagName === 'INPUT') {\n            return;\n        }\n        e.preventDefault();\n        var clst;\n        var tbrNavChk = trgt.classList.contains(CLS_TBARNAV);\n        var tbarScrollChk = trgt.classList.contains(CLS_TBARSCRLNAV);\n        clst = this.clstElement(tbrNavChk, trgt);\n        if (clst || tbarScrollChk) {\n            this.keyHandling(clst, e, trgt, tbrNavChk, tbarScrollChk);\n        }\n    };\n    Toolbar.prototype.eleFocus = function (closest, pos) {\n        var sib = Object(closest)[pos + 'ElementSibling'];\n        var contains = function (el) {\n            return el.classList.contains(CLS_SEPARATOR) || el.classList.contains(CLS_DISABLE);\n        };\n        if (sib) {\n            var skipEle = contains(sib);\n            if (skipEle) {\n                if (Object(sib)[pos + 'ElementSibling']) {\n                    sib = Object(sib)[pos + 'ElementSibling'];\n                    skipEle = contains(sib);\n                    if (skipEle) {\n                        this.eleFocus(sib, pos);\n                        return;\n                    }\n                }\n            }\n            this.elementFocus(sib);\n        }\n        else if (this.tbarAlign) {\n            var elem = Object(closest.parentElement)[pos + 'ElementSibling'];\n            if (!isNOU(elem) && elem.children.length === 0) {\n                elem = Object(elem)[pos + 'ElementSibling'];\n            }\n            if (!isNOU(elem) && elem.children.length > 0) {\n                if (pos === 'next') {\n                    var el = elem.querySelector('.' + CLS_ITEM);\n                    if (contains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        el.firstElementChild.focus();\n                        this.activeEleSwitch(el);\n                    }\n                }\n                else {\n                    var el = elem.lastElementChild;\n                    if (contains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        this.elementFocus(el);\n                    }\n                }\n            }\n        }\n    };\n    Toolbar.prototype.clickHandler = function (e) {\n        var trgt = e.target;\n        var clsList = trgt.classList;\n        var ele = this.element;\n        var isPopupElement = !isNOU(closest(trgt, '.' + CLS_POPUPCLASS));\n        var popupNav = closest(trgt, ('.' + CLS_TBARNAV));\n        if (!popupNav) {\n            popupNav = trgt;\n        }\n        if (!ele.children[0].classList.contains('e-hscroll') && (clsList.contains(CLS_TBARNAV))) {\n            clsList = trgt.querySelector('.e-icons').classList;\n        }\n        if (clsList.contains(CLS_POPUPICON) || clsList.contains(CLS_POPUPDOWN)) {\n            this.popupClickHandler(ele, popupNav, CLS_RTL);\n        }\n        var itemObj;\n        var clst = closest(e.target, '.' + CLS_ITEM);\n        if ((isNOU(clst) || clst.classList.contains(CLS_DISABLE)) && !popupNav.classList.contains(CLS_TBARNAV)) {\n            return;\n        }\n        if (clst) {\n            itemObj = this.items[this.tbarEle.indexOf(clst)];\n        }\n        var eventArgs = { originalEvent: e, item: itemObj };\n        this.trigger('clicked', eventArgs);\n        if (isPopupElement && !eventArgs.cancel) {\n            this.popObj.hide({ name: 'SlideUp', duration: 100 });\n        }\n    };\n    ;\n    Toolbar.prototype.popupClickHandler = function (ele, popupNav, CLS_RTL) {\n        var popObj = this.popObj;\n        if (isVisible(popObj.element)) {\n            popupNav.classList.remove(CLS_TBARNAVACT);\n            popObj.hide({ name: 'SlideUp', duration: 100 });\n        }\n        else {\n            if (ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = true;\n                popObj.position = { X: 'left', Y: 'top' };\n            }\n            if (popObj.offsetX === 0 && !ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = false;\n                popObj.position = { X: 'right', Y: 'top' };\n            }\n            popObj.dataBind();\n            popObj.refreshPosition();\n            popObj.element.style.top = this.element.offsetHeight + 'px';\n            popupNav.classList.add(CLS_TBARNAVACT);\n            popObj.show({ name: 'SlideDown', duration: 100 });\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Toolbar.prototype.render = function () {\n        this.initialize();\n        this.renderControl();\n        this.wireEvents();\n    };\n    Toolbar.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        if (Browser.info.name !== 'msie' || this.height !== 'auto') {\n            setStyle(this.element, { 'height': height });\n        }\n        setStyle(this.element, { 'width': width });\n        var ariaAttr = {\n            'role': 'toolbar', 'aria-disabled': 'false', 'aria-haspopup': 'false', 'aria-orientation': 'horizontal',\n        };\n        attributes(this.element, ariaAttr);\n    };\n    Toolbar.prototype.renderControl = function () {\n        this.trgtEle = (this.element.children.length > 0) ? this.element.querySelector('div') : null;\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n        this.renderItems();\n        this.renderOverflowMode();\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.popObj.element.childElementCount > 1 && this.checkPopupRefresh(this.element, this.popObj.element)) {\n            this.popupRefresh(this.popObj.element, false);\n        }\n    };\n    Toolbar.prototype.initHScroll = function (element, innerItems) {\n        if (!this.scrollModule && this.checkOverflow(element, innerItems[0])) {\n            if (this.tbarAlign) {\n                this.element.querySelector('.' + CLS_ITEMS + ' .' + CLS_TBARCENTER).removeAttribute('style');\n            }\n            this.scrollModule = new HScroll({ scrollStep: 50, enableRtl: this.enableRtl }, innerItems[0]);\n            this.remove(this.scrollModule.element, CLS_TBARPOS);\n            setStyle(this.element, { overflow: 'hidden' });\n        }\n    };\n    Toolbar.prototype.itemWidthCal = function (items) {\n        var width = 0;\n        [].slice.call(selectAll('.' + CLS_ITEM, items)).forEach(function (el) {\n            if (isVisible(el)) {\n                width += (el.offsetWidth + parseFloat(window.getComputedStyle(el).marginRight));\n            }\n        });\n        return width;\n    };\n    Toolbar.prototype.checkOverflow = function (element, innerItem) {\n        if (isNOU(element) || isNOU(innerItem) || !isVisible(element)) {\n            return false;\n        }\n        var eleWidth = element.offsetWidth;\n        var itemWidth;\n        if (this.tbarAlign || this.scrollModule) {\n            itemWidth = this.itemWidthCal(this.scrollModule ? innerItem.querySelector('.e-hscroll-content') : innerItem);\n        }\n        else {\n            itemWidth = innerItem.offsetWidth;\n        }\n        var popNav = element.querySelector('.' + CLS_TBARNAV);\n        var scrollNav = element.querySelector('.' + CLS_TBARSCRLNAV);\n        if (itemWidth > eleWidth - (popNav ? popNav.offsetWidth : (scrollNav ? scrollNav.offsetWidth * 2 : 0))) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /** @hidden */\n    Toolbar.prototype.refreshOverflow = function () {\n        this.resize();\n    };\n    Toolbar.prototype.renderOverflowMode = function () {\n        var ele = this.element;\n        var innerItems = ele.querySelector('.' + CLS_ITEMS);\n        var priorityCheck = this.popupPriCount > 0;\n        if (ele && ele.children.length > 0) {\n            this.offsetWid = ele.offsetWidth;\n            this.remove(this.element, 'e-toolpop');\n            switch (this.overflowMode) {\n                case 'Scrollable':\n                    this.destroyHScroll();\n                    this.initHScroll(ele, ele.getElementsByClassName(CLS_ITEMS));\n                    break;\n                case 'Popup':\n                    this.add(this.element, 'e-toolpop');\n                    if (this.tbarAlign) {\n                        this.removePositioning();\n                    }\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        this.createPopupEle(ele, [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, ele)));\n                        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('tabIndex', '0');\n                    }\n                    if (this.tbarAlign) {\n                        this.add(innerItems, CLS_TBARPOS);\n                        this.itemPositioning();\n                    }\n                    break;\n            }\n        }\n    };\n    Toolbar.prototype.createPopupEle = function (ele, innerEle) {\n        var innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        if (!innerNav) {\n            this.createPopupIcon(ele);\n        }\n        innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        var eleWidth = (ele.offsetWidth - (innerNav.offsetWidth));\n        this.element.classList.remove('e-rtl');\n        setStyle(this.element, { direction: 'initial' });\n        this.checkPriority(ele, innerEle, eleWidth, true);\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        this.element.style.removeProperty('direction');\n        this.createPopup();\n    };\n    Toolbar.prototype.pushingPoppedEle = function (tbarObj, popupPri, ele, eleHeight) {\n        var element = tbarObj.element;\n        var nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n        var nodeIndex = 0;\n        var poppedEle = [].slice.call(selectAll('.' + CLS_POPUP, element.querySelector('.' + CLS_ITEMS)));\n        var nodePri = 0;\n        poppedEle.forEach(function (el, index) {\n            nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n            if (el.classList.contains(CLS_TBAROVERFLOW) && nodes.length > 0) {\n                if (tbarObj.tbResize && nodes.length > index) {\n                    ele.insertBefore(el, nodes[index]);\n                    ++nodePri;\n                }\n                else {\n                    ele.insertBefore(el, ele.children[nodes.length]);\n                    ++nodePri;\n                }\n            }\n            else if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (tbarObj.tbResize && el.classList.contains(CLS_POPOVERFLOW) && ele.children.length > 0 && nodes.length === 0) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (el.classList.contains(CLS_POPOVERFLOW)) {\n                popupPri.push(el);\n            }\n            else if (tbarObj.tbResize) {\n                ele.insertBefore(el, ele.childNodes[nodeIndex + nodePri]);\n                ++nodeIndex;\n            }\n            else {\n                ele.appendChild(el);\n            }\n            setStyle(el, { display: '', height: eleHeight + 'px' });\n        });\n        popupPri.forEach(function (el) {\n            ele.appendChild(el);\n        });\n        var tbarEle = selectAll('.' + CLS_ITEM, element.querySelector('.' + CLS_ITEMS));\n        for (var i = tbarEle.length - 1; i >= 0; i--) {\n            var tbarElement = tbarEle[i];\n            if (tbarElement.classList.contains(CLS_SEPARATOR)) {\n                setStyle(tbarElement, { display: 'none' });\n            }\n            else {\n                break;\n            }\n        }\n    };\n    Toolbar.prototype.createPopup = function () {\n        var element = this.element;\n        var eleHeight;\n        var eleItem;\n        eleItem = element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + ' ):not(.' + CLS_POPUP + ' )');\n        eleHeight = (element.style.height === 'auto' || element.style.height === '') ? null : eleItem.offsetHeight;\n        var ele;\n        var popupPri = [];\n        if (element.querySelector('#' + element.id + '_popup.' + CLS_POPUPCLASS)) {\n            ele = element.querySelector('#' + element.id + '_popup.' + CLS_POPUPCLASS);\n        }\n        else {\n            ele = buildTag('div', { id: element.id + '_popup', className: CLS_POPUPCLASS });\n        }\n        this.pushingPoppedEle(this, popupPri, ele, eleHeight);\n        this.popupInit(element, ele);\n    };\n    Toolbar.prototype.popupInit = function (element, ele) {\n        if (!this.popObj) {\n            element.appendChild(ele);\n            setStyle(this.element, { overflow: '' });\n            var popup = new Popup(null, {\n                relateTo: this.element,\n                offsetY: (element.offsetHeight),\n                enableRtl: this.enableRtl,\n                open: this.popupOpen.bind(this),\n                close: this.popupClose,\n                position: this.enableRtl ? { X: 'left', Y: 'top' } : { X: 'right', Y: 'top' }\n            });\n            popup.appendTo(ele);\n            EventHandler.add(document, 'scroll', this.docEvent.bind(this));\n            EventHandler.add(document, 'click ', this.docEvent.bind(this));\n            popup.element.style.maxHeight = popup.element.offsetHeight + 'px';\n            popup.hide();\n            this.popObj = popup;\n            this.element.setAttribute('aria-haspopup', 'true');\n        }\n        else {\n            var popupEle = this.popObj.element;\n            setStyle(popupEle, { maxHeight: '', display: 'block' });\n            setStyle(popupEle, { maxHeight: popupEle.offsetHeight + 'px', display: '' });\n        }\n    };\n    Toolbar.prototype.popupOpen = function (e) {\n        var popObj = this.popObj;\n        var popupEle = this.popObj.element;\n        var toolEle = this.popObj.element.parentElement;\n        var popupNav = toolEle.querySelector('.' + CLS_TBARNAV);\n        setStyle(popObj.element, { height: 'auto', maxHeight: '' });\n        popObj.element.style.maxHeight = popObj.element.offsetHeight + 'px';\n        var popupElePos = popupEle.offsetTop + popupEle.offsetHeight + calculatePosition(toolEle).top;\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.add(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n        var scrollVal = isNOU(window.scrollY) ? 0 : window.scrollY;\n        if ((window.innerHeight + scrollVal) < popupElePos) {\n            var overflowHeight = (popupEle.offsetHeight - ((popupElePos - window.innerHeight - scrollVal) + 5));\n            popObj.height = overflowHeight + 'px';\n            for (var i = 0; i <= popupEle.childElementCount; i++) {\n                var ele = popupEle.children[i];\n                if (ele.offsetTop + ele.offsetHeight > overflowHeight) {\n                    overflowHeight = ele.offsetTop;\n                    break;\n                }\n            }\n            setStyle(popObj.element, { maxHeight: overflowHeight + 'px' });\n        }\n    };\n    Toolbar.prototype.popupClose = function (e) {\n        var element = this.element.parentElement;\n        var popupNav = element.querySelector('.' + CLS_TBARNAV);\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.remove(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPDOWN], [CLS_POPUPICON]);\n    };\n    Toolbar.prototype.checkPriority = function (ele, inEle, eleWidth, pre) {\n        var popPriority = this.popupPriCount > 0;\n        var len = inEle.length;\n        var eleWid = eleWidth;\n        var sepCheck = 0;\n        var itemCount = 0;\n        var itemPopCount = 0;\n        var checkClass = function (ele, val) {\n            var rVal = false;\n            val.forEach(function (cls) {\n                if (ele.classList.contains(cls)) {\n                    rVal = true;\n                }\n            });\n            return rVal;\n        };\n        for (var i = len - 1; i >= 0; i--) {\n            var mrgn = parseFloat((window.getComputedStyle(inEle[i])).marginRight);\n            mrgn += parseFloat((window.getComputedStyle(inEle[i])).marginLeft);\n            var fstEleCheck = inEle[i] === this.tbarEle[0];\n            if (fstEleCheck) {\n                this.tbarEleMrgn = mrgn;\n            }\n            var eleWid_1 = fstEleCheck ? (inEle[i].offsetWidth + mrgn) : inEle[i].offsetWidth;\n            if (checkClass(inEle[i], [CLS_POPPRI]) && popPriority) {\n                inEle[i].classList.add(CLS_POPUP);\n                setStyle(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                itemPopCount++;\n            }\n            if ((inEle[i].offsetLeft + inEle[i].offsetWidth + mrgn) > eleWidth) {\n                if (inEle[i].classList.contains(CLS_SEPARATOR)) {\n                    if (sepCheck > 0 && itemCount === itemPopCount) {\n                        var sepEle = inEle[i + itemCount + (sepCheck - 1)];\n                        if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                            setStyle(sepEle, { display: 'none' });\n                        }\n                    }\n                    sepCheck++;\n                    itemCount = 0;\n                    itemPopCount = 0;\n                }\n                else {\n                    itemCount++;\n                }\n                if (inEle[i].classList.contains(CLS_TBAROVERFLOW) && pre) {\n                    eleWidth -= (inEle[i].offsetWidth + (mrgn));\n                }\n                else if (!checkClass(inEle[i], [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                    inEle[i].classList.add(CLS_POPUP);\n                    setStyle(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                    itemPopCount++;\n                }\n                else {\n                    eleWidth -= (inEle[i].offsetWidth + (mrgn));\n                }\n            }\n        }\n        if (pre) {\n            var popedEle = selectAll('.' + CLS_ITEM + ':not(.' + CLS_POPUP + ')', this.element);\n            this.checkPriority(ele, popedEle, eleWid, false);\n        }\n    };\n    Toolbar.prototype.createPopupIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var className = 'e-' + element.id.concat('_nav ' + CLS_POPUPNAV);\n        var nav = buildTag('div', { id: id, className: className });\n        if (Browser.info.name === 'msie' || Browser.info.name === 'edge') {\n            nav.classList.add('e-ie-align');\n        }\n        var navItem = buildTag('div', { className: CLS_POPUPDOWN + ' e-icons' });\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        element.appendChild(nav);\n    };\n    Toolbar.prototype.tbarPriRef = function (inEle, indx, sepPri, el, des, elWid, wid, ig) {\n        var ignoreCount = ig;\n        var popEle = this.popObj.element;\n        var query = '.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_TBAROVERFLOW + ')';\n        var priEleCnt = selectAll('.' + CLS_POPUP + ':not(.' + CLS_TBAROVERFLOW + ')', popEle).length;\n        var checkClass = function (ele, val) {\n            return ele.classList.contains(val);\n        };\n        if (selectAll(query, inEle).length === 0) {\n            var eleSep = inEle.children[indx - (indx - sepPri) - 1];\n            var ignoreCheck = (!isNOU(eleSep) && checkClass(eleSep, CLS_TBARIGNORE));\n            if ((!isNOU(eleSep) && checkClass(eleSep, CLS_SEPARATOR) && !isVisible(eleSep)) || ignoreCheck) {\n                var sepDisplay = 'none';\n                eleSep.style.display = 'inherit';\n                var eleSepWidth = eleSep.offsetWidth + (parseFloat(window.getComputedStyle(eleSep).marginRight) * 2);\n                var prevSep = eleSep.previousElementSibling;\n                if ((elWid + eleSepWidth) < wid || des) {\n                    inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n                    if (!isNOU(prevSep)) {\n                        prevSep.style.display = '';\n                    }\n                }\n                else {\n                    if (prevSep.classList.contains(CLS_SEPARATOR)) {\n                        prevSep.style.display = sepDisplay;\n                    }\n                }\n                eleSep.style.display = '';\n            }\n            else {\n                inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n            }\n        }\n        else {\n            inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - priEleCnt]);\n        }\n    };\n    Toolbar.prototype.popupRefresh = function (popupEle, destroy) {\n        var ele = this.element;\n        var popNav = ele.querySelector('.' + CLS_TBARNAV);\n        var innerEle = ele.querySelector('.' + CLS_ITEMS);\n        if (isNOU(popNav)) {\n            return;\n        }\n        innerEle.removeAttribute('style');\n        popupEle.style.display = 'block';\n        var width = ele.offsetWidth - (popNav.offsetWidth + innerEle.offsetWidth);\n        this.popupEleRefresh(width, popupEle, destroy);\n        popupEle.style.display = '';\n        if (popupEle.children.length === 0 && popNav && this.popObj) {\n            detach(popNav);\n            popNav = null;\n            this.popObj.destroy();\n            detach(this.popObj.element);\n            this.popObj = null;\n            ele.setAttribute('aria-haspopup', 'false');\n            ele.classList.remove('e-toolpop');\n        }\n    };\n    Toolbar.prototype.ignoreEleFetch = function (index, innerEle) {\n        var ignoreEle = [].slice.call(innerEle.querySelectorAll('.' + CLS_TBARIGNORE));\n        var ignoreInx = [];\n        var count = 0;\n        if (ignoreEle.length > 0) {\n            ignoreEle.forEach(function (ele) {\n                ignoreInx.push([].slice.call(innerEle.children).indexOf(ele));\n            });\n        }\n        else {\n            return 0;\n        }\n        ignoreInx.forEach(function (val) {\n            if (val <= index) {\n                count++;\n            }\n        });\n        return count;\n    };\n    Toolbar.prototype.checkPopupRefresh = function (root, popEle) {\n        popEle.style.display = 'block';\n        var elWid = this.popupEleWidth(popEle.firstElementChild);\n        popEle.firstElementChild.style.removeProperty('Position');\n        var tbarWidth = root.offsetWidth - root.querySelector('.' + CLS_TBARNAV).offsetWidth;\n        var tbarItemsWid = root.querySelector('.' + CLS_ITEMS).offsetWidth;\n        popEle.style.removeProperty('display');\n        if (tbarWidth > (elWid + tbarItemsWid)) {\n            return true;\n        }\n        return false;\n    };\n    Toolbar.prototype.popupEleWidth = function (el) {\n        el.style.position = 'absolute';\n        var elWidth = el.offsetWidth;\n        var btnText = el.querySelector('.' + CLS_TBARBTNTEXT);\n        if (el.classList.contains('e-tbtn-align') || el.classList.contains(CLS_TBARTEXT)) {\n            var btn = el.children[0];\n            if (!isNOU(btnText) && el.classList.contains(CLS_TBARTEXT)) {\n                btnText.style.display = 'none';\n            }\n            else if (!isNOU(btnText) && el.classList.contains(CLS_POPUPTEXT)) {\n                btnText.style.display = 'block';\n            }\n            btn.style.minWidth = '0%';\n            elWidth = parseFloat(el.style.minWidth);\n            btn.style.minWidth = '';\n            if (!isNOU(btnText)) {\n                btnText.style.display = '';\n            }\n        }\n        return elWidth;\n    };\n    Toolbar.prototype.popupEleRefresh = function (width, popupEle, destroy) {\n        var popPriority = this.popupPriCount > 0;\n        var eleSplice = this.tbarEle;\n        var priEleCnt;\n        var index;\n        var checkOverflow;\n        var innerEle = this.element.querySelector('.' + CLS_ITEMS);\n        var ignoreCount = 0;\n        var _loop_1 = function (el) {\n            if (el.classList.contains(CLS_POPPRI) && popPriority && !destroy) {\n                return \"continue\";\n            }\n            var elWidth = this_1.popupEleWidth(el);\n            if (el === this_1.tbarEle[0]) {\n                elWidth += this_1.tbarEleMrgn;\n            }\n            el.style.position = '';\n            if (elWidth < width || destroy) {\n                el.style.minWidth = '';\n                if (!el.classList.contains(CLS_POPOVERFLOW)) {\n                    el.classList.remove(CLS_POPUP);\n                }\n                index = this_1.tbarEle.indexOf(el);\n                if (this_1.tbarAlign) {\n                    var pos = this_1.items[index].align;\n                    index = this_1.tbarAlgEle[(pos + 's').toLowerCase()].indexOf(el);\n                    eleSplice = this_1.tbarAlgEle[(pos + 's').toLowerCase()];\n                    innerEle = this_1.element.querySelector('.' + CLS_ITEMS + ' .' + 'e-toolbar-' + pos.toLowerCase());\n                }\n                var sepBeforePri_1 = 0;\n                eleSplice.slice(0, index).forEach(function (el) {\n                    if (el.classList.contains(CLS_TBAROVERFLOW) || el.classList.contains(CLS_SEPARATOR)) {\n                        if (el.classList.contains(CLS_SEPARATOR)) {\n                            el.style.display = '';\n                            width -= el.offsetWidth;\n                        }\n                        sepBeforePri_1++;\n                    }\n                });\n                ignoreCount = this_1.ignoreEleFetch(index, innerEle);\n                if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                    this_1.tbarPriRef(innerEle, index, sepBeforePri_1, el, destroy, elWidth, width, ignoreCount);\n                    width -= el.offsetWidth;\n                }\n                else if (index === 0) {\n                    innerEle.insertBefore(el, innerEle.firstChild);\n                    width -= el.offsetWidth;\n                }\n                else {\n                    priEleCnt = selectAll('.' + CLS_TBAROVERFLOW, this_1.popObj.element).length;\n                    innerEle.insertBefore(el, innerEle.children[(index + ignoreCount) - priEleCnt]);\n                    width -= el.offsetWidth;\n                }\n                el.style.height = '';\n            }\n            else {\n                return \"break\";\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = [].slice.call(popupEle.children); _i < _a.length; _i++) {\n            var el = _a[_i];\n            var state_1 = _loop_1(el);\n            if (state_1 === \"break\")\n                break;\n        }\n        checkOverflow = this.checkOverflow(this.element, this.element.getElementsByClassName(CLS_ITEMS)[0]);\n        if (checkOverflow && !destroy) {\n            this.renderOverflowMode();\n        }\n    };\n    Toolbar.prototype.removePositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        this.remove(item, CLS_TBARPOS);\n        var innerItem = [].slice.call(item.childNodes);\n        innerItem[1].removeAttribute('style');\n        innerItem[2].removeAttribute('style');\n    };\n    Toolbar.prototype.refreshPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        this.add(item, CLS_TBARPOS);\n        this.itemPositioning();\n    };\n    Toolbar.prototype.itemPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n        var innerItem;\n        if (this.scrollModule) {\n            innerItem = [].slice.call(item.querySelector('.' + CLS_TBARSCROLL).children);\n        }\n        else {\n            innerItem = [].slice.call(item.childNodes);\n        }\n        var margin = innerItem[0].offsetWidth + innerItem[2].offsetWidth;\n        var tbarWid = this.element.offsetWidth;\n        if (popupNav) {\n            tbarWid -= popupNav.offsetWidth;\n            var popWid = popupNav.offsetWidth + 'px';\n            innerItem[2].removeAttribute('style');\n            this.enableRtl ? innerItem[2].style.left = popWid : innerItem[2].style.right = popWid;\n        }\n        if (tbarWid <= margin) {\n            return;\n        }\n        var value = (((tbarWid - margin)) - innerItem[1].offsetWidth) / 2;\n        innerItem[1].removeAttribute('style');\n        var mrgn = (innerItem[0].offsetWidth + value) + 'px';\n        this.enableRtl ? innerItem[1].style.marginRight = mrgn : innerItem[1].style.marginLeft = mrgn;\n    };\n    Toolbar.prototype.tbarItemAlign = function (item, itemEle, pos) {\n        var _this = this;\n        if (item.showAlwaysInPopup && item.overflow !== 'Show') {\n            return;\n        }\n        var alignDiv = [];\n        alignDiv.push(buildTag('div', { className: CLS_TBARLEFT }));\n        alignDiv.push(buildTag('div', { className: CLS_TBARCENTER }));\n        alignDiv.push(buildTag('div', { className: CLS_TBARRIGHT }));\n        if (pos === 0 && item.align !== 'Left') {\n            alignDiv.forEach(function (ele) {\n                itemEle.appendChild(ele);\n            });\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n        else if (item.align !== 'Left') {\n            var alignEle = itemEle.childNodes;\n            var leftAlign_1 = alignDiv[0];\n            [].slice.call(alignEle).forEach(function (el) {\n                _this.tbarAlgEle.lefts.push(el);\n                leftAlign_1.appendChild(el);\n            });\n            itemEle.appendChild(leftAlign_1);\n            itemEle.appendChild(alignDiv[1]);\n            itemEle.appendChild(alignDiv[2]);\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n    };\n    Toolbar.prototype.ctrlTemplate = function () {\n        var _this = this;\n        this.ctrlTem = this.trgtEle.cloneNode(true);\n        this.add(this.trgtEle, CLS_ITEMS);\n        this.tbarEle = [];\n        var innerEle = [].slice.call(this.trgtEle.children);\n        innerEle.forEach(function (ele) {\n            if (ele.tagName === 'DIV') {\n                _this.tbarEle.push(ele);\n                ele.setAttribute('aria-disabled', 'false');\n                _this.add(ele, CLS_ITEM);\n            }\n        });\n    };\n    Toolbar.prototype.renderItems = function () {\n        var ele = this.element;\n        var itemEleDom;\n        var innerItem;\n        var innerPos;\n        var items = this.items;\n        if (ele && ele.children.length > 0) {\n            itemEleDom = ele.querySelector('.' + CLS_ITEMS);\n        }\n        if (this.trgtEle != null) {\n            this.ctrlTemplate();\n        }\n        else if (ele && items.length > 0) {\n            if (!itemEleDom) {\n                itemEleDom = buildTag('div', { className: CLS_ITEMS });\n            }\n            for (var i = 0; i < items.length; i++) {\n                innerItem = this.renderSubComponent(items[i]);\n                if (this.tbarEle.indexOf(innerItem) === -1) {\n                    this.tbarEle.push(innerItem);\n                }\n                if (!this.tbarAlign) {\n                    this.tbarItemAlign(items[i], itemEleDom, i);\n                }\n                innerPos = itemEleDom.querySelector('.e-toolbar-' + items[i].align.toLowerCase());\n                if (innerPos) {\n                    if (!(items[i].showAlwaysInPopup && items[i].overflow !== 'Show')) {\n                        this.tbarAlgEle[(items[i].align + 's').toLowerCase()].push(innerItem);\n                    }\n                    innerPos.appendChild(innerItem);\n                }\n                else {\n                    itemEleDom.appendChild(innerItem);\n                }\n            }\n            ele.appendChild(itemEleDom);\n        }\n    };\n    Toolbar.prototype.setAttr = function (attr, element) {\n        var key = Object.keys(attr);\n        var keyVal;\n        for (var i = 0; i < key.length; i++) {\n            keyVal = key[i];\n            keyVal === 'class' ? this.add(element, attr[keyVal]) : element.setAttribute(keyVal, attr[keyVal]);\n        }\n    };\n    /**\n     * Enables or disables the specified Toolbar item.\n     * @param  {HTMLElement|NodeList} items - DOM element or an array of items to be enabled or disabled.\n     * @param  {boolean} isEnable  - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, `isEnable` is set to true.\n     * @returns void.\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        var elements = items;\n        var len = elements.length;\n        if (isNOU(isEnable)) {\n            isEnable = true;\n        }\n        var enable = function (isEnable, ele) {\n            if (isEnable) {\n                ele.classList.remove(CLS_DISABLE);\n                ele.setAttribute('aria-disabled', 'false');\n            }\n            else {\n                ele.classList.add(CLS_DISABLE);\n                ele.setAttribute('aria-disabled', 'true');\n            }\n        };\n        if (len && len > 1) {\n            for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {\n                var ele = _a[_i];\n                enable(isEnable, ele);\n            }\n            isEnable ? removeClass(elements, CLS_DISABLE) : addClass(elements, CLS_DISABLE);\n        }\n        else {\n            var ele = void 0;\n            ele = (len && len === 1) ? elements[0] : items;\n            enable(isEnable, ele);\n        }\n    };\n    /**\n     * Adds new items to the Toolbar that accepts an array as Toolbar items.\n     * @param  {ItemsModel[]} items - DOM element or an array of items to be added to the Toolbar.\n     * @param  {number} index - Number value that determines where the command is to be added. By default, index is 0.\n     * @returns void.\n     */\n    Toolbar.prototype.addItems = function (items, index) {\n        var innerItems;\n        var itemsDiv = this.element.querySelector('.' + CLS_ITEMS);\n        var innerEle;\n        var itemAgn = 'Left';\n        if (isNOU(index)) {\n            index = 0;\n        }\n        items.forEach(function (e) {\n            if (!isNOU(e.align) && e.align !== 'Left' && itemAgn === 'Left') {\n                itemAgn = e.align;\n            }\n        });\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            if (isNOU(item.type)) {\n                item.type = 'Button';\n            }\n            innerItems = selectAll('.' + CLS_ITEM, this.element);\n            item.align = itemAgn;\n            innerEle = this.renderSubComponent(item);\n            if (this.tbarEle.length >= index && innerItems.length > 0) {\n                this.destroyMode();\n                var algIndex = item.align[0] === 'L' ? 0 : item.align[0] === 'C' ? 1 : 2;\n                var ele = void 0;\n                if (!this.tbarAlign && itemAgn !== 'Left') {\n                    this.tbarItemAlign(item, itemsDiv, 1);\n                    this.tbarAlign = true;\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.appendChild(innerEle);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].push(innerEle);\n                    this.refreshPositioning();\n                }\n                else if (this.tbarAlign) {\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.insertBefore(innerEle, ele.children[index]);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].splice(index, 0, innerEle);\n                    this.refreshPositioning();\n                }\n                else {\n                    innerItems[0].parentNode.insertBefore(innerEle, innerItems[index]);\n                }\n                this.items.splice(index, 0, item);\n                this.tbarEle.splice(index, 0, innerEle);\n                index++;\n                this.offsetWid = itemsDiv.offsetWidth;\n            }\n        }\n        itemsDiv.style.width = '';\n        this.renderOverflowMode();\n    };\n    /**\n     * Removes the items from the Toolbar. Acceptable arguments are index of item/HTMLElement/node list.\n     * @param  {number|HTMLElement|NodeList|HTMLElement[]} args\n     * Index or DOM element or an Array of item which is to be removed from the Toolbar.\n     * @returns void.\n     */\n    Toolbar.prototype.removeItems = function (args) {\n        var elements = args;\n        var index;\n        var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n        if (typeof (elements) === 'number') {\n            index = parseInt(args.toString(), 10);\n            this.removeItemByIndex(index, innerItems);\n        }\n        else {\n            if (elements && elements.length > 1) {\n                for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {\n                    var ele = _a[_i];\n                    index = this.tbarEle.indexOf(ele);\n                    this.removeItemByIndex(index, innerItems);\n                    innerItems = selectAll('.' + CLS_ITEM, this.element);\n                }\n            }\n            else {\n                var ele = (elements && elements.length && elements.length === 1) ? elements[0] : args;\n                index = innerItems.indexOf(ele);\n                this.removeItemByIndex(index, innerItems);\n            }\n        }\n        this.resize();\n    };\n    Toolbar.prototype.removeItemByIndex = function (index, innerItems) {\n        if (this.tbarEle[index] && innerItems[index]) {\n            var eleIdx = this.tbarEle.indexOf(innerItems[index]);\n            if (this.tbarAlign) {\n                var indexAgn = void 0;\n                indexAgn = this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].indexOf(this.tbarEle[eleIdx]);\n                this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].splice(indexAgn, 1);\n            }\n            detach(innerItems[index]);\n            this.items.splice(eleIdx, 1);\n            this.tbarEle.splice(eleIdx, 1);\n        }\n    };\n    Toolbar.prototype.templateRender = function (templateProp, innerEle, item) {\n        var itemType = item.type;\n        var eleObj = templateProp;\n        var isComponent;\n        if (typeof (templateProp) === 'object') {\n            isComponent = typeof (eleObj.appendTo) === 'function';\n        }\n        if (typeof (templateProp) === 'string' || !isComponent) {\n            var templateFn = void 0;\n            var val = templateProp;\n            val = (typeof (templateProp) === 'string') ? templateProp.trim() : templateProp;\n            var e = void 0;\n            try {\n                if (document.querySelectorAll(val).length) {\n                    var ele = document.querySelector(val);\n                    var tempStr = ele.outerHTML.trim();\n                    templateFn = templateCompiler(tempStr);\n                    detach(ele);\n                    item.template = tempStr;\n                }\n            }\n            catch (e) {\n                templateFn = templateCompiler(val);\n            }\n            var tempArray = void 0;\n            if (!isNOU(templateFn)) {\n                tempArray = templateFn({}, this, 'template');\n            }\n            if (!isNOU(tempArray) && tempArray.length > 0) {\n                [].slice.call(tempArray).forEach(function (ele) {\n                    if (!isNOU(ele.tagName)) {\n                        ele.style.display = '';\n                    }\n                    innerEle.appendChild(ele);\n                });\n            }\n        }\n        else if (itemType === 'Input') {\n            var ele = buildTag('input');\n            item.id ? (ele.id = item.id) : (ele.id = getUniqueID('tbr-ipt'));\n            innerEle.appendChild(ele);\n            eleObj.appendTo(ele);\n        }\n        this.add(innerEle, CLS_TEMPLATE);\n        this.tbarEle.push(innerEle);\n    };\n    Toolbar.prototype.buttonRendering = function (item, innerEle) {\n        var dom = buildTag('button', { className: CLS_TBARBTN });\n        dom.setAttribute('type', 'button');\n        var textStr = item.text;\n        var iconCss;\n        var iconPos;\n        item.id ? (dom.id = item.id) : dom.id = getUniqueID('e-tbr-btn');\n        var btnTxt = buildTag('div', { className: 'e-tbar-btn-text' });\n        if (textStr) {\n            btnTxt.innerHTML = textStr;\n            dom.appendChild(btnTxt);\n            dom.classList.add('e-tbtn-txt');\n        }\n        else {\n            this.add(innerEle, 'e-tbtn-align');\n        }\n        if (item.prefixIcon || item.suffixIcon) {\n            if ((item.prefixIcon && item.suffixIcon) || item.prefixIcon) {\n                iconCss = item.prefixIcon + ' e-icons';\n                iconPos = 'Left';\n            }\n            else {\n                iconCss = item.suffixIcon + ' e-icons';\n                iconPos = 'Right';\n            }\n        }\n        new Button({ iconCss: iconCss, iconPosition: iconPos }, dom);\n        if (item.width) {\n            setStyle(dom, { 'width': formatUnit(item.width) });\n        }\n        return dom;\n    };\n    Toolbar.prototype.renderSubComponent = function (item) {\n        var innerEle;\n        var dom;\n        innerEle = buildTag('div', { className: CLS_ITEM });\n        innerEle.setAttribute('aria-disabled', 'false');\n        if (!this.tbarEle) {\n            this.tbarEle = [];\n        }\n        if (item.htmlAttributes) {\n            this.setAttr(item.htmlAttributes, innerEle);\n        }\n        if (item.tooltipText) {\n            innerEle.setAttribute('title', item.tooltipText);\n        }\n        if (item.cssClass) {\n            innerEle.className = innerEle.className + ' ' + item.cssClass;\n        }\n        if (item.template) {\n            this.templateRender(item.template, innerEle, item);\n        }\n        else {\n            switch (item.type) {\n                case 'Button':\n                    dom = this.buttonRendering(item, innerEle);\n                    dom.setAttribute('tabindex', '-1');\n                    innerEle.appendChild(dom);\n                    innerEle.addEventListener('click', this.itemClick.bind(this));\n                    break;\n                case 'Separator':\n                    this.add(innerEle, CLS_SEPARATOR);\n                    break;\n            }\n        }\n        if (item.showTextOn) {\n            var sTxt = item.showTextOn;\n            if (sTxt === 'Toolbar') {\n                this.add(innerEle, CLS_POPUPTEXT);\n                this.add(innerEle, 'e-tbtn-align');\n            }\n            else if (sTxt === 'Overflow') {\n                this.add(innerEle, CLS_TBARTEXT);\n            }\n        }\n        if (item.overflow) {\n            var overflow = item.overflow;\n            if (overflow === 'Show') {\n                this.add(innerEle, CLS_TBAROVERFLOW);\n            }\n            else if (overflow === 'Hide') {\n                if (!innerEle.classList.contains(CLS_SEPARATOR)) {\n                    this.add(innerEle, CLS_POPOVERFLOW);\n                }\n            }\n        }\n        if (item.overflow !== 'Show' && item.showAlwaysInPopup && !innerEle.classList.contains(CLS_SEPARATOR)) {\n            this.add(innerEle, CLS_POPPRI);\n            this.popupPriCount++;\n        }\n        return innerEle;\n    };\n    Toolbar.prototype.itemClick = function (e) {\n        this.activeEleSwitch(e.currentTarget);\n    };\n    Toolbar.prototype.activeEleSwitch = function (ele) {\n        this.activeEleRemove(ele.firstElementChild);\n        this.activeEle.focus();\n    };\n    Toolbar.prototype.activeEleRemove = function (curEle) {\n        if (!isNOU(this.activeEle)) {\n            this.activeEle.setAttribute('tabindex', '-1');\n        }\n        this.activeEle = curEle;\n        if (isNOU(this.trgtEle) && !curEle.parentElement.classList.contains(CLS_TEMPLATE)) {\n            curEle.removeAttribute('tabindex');\n        }\n        else {\n            this.activeEle.setAttribute('tabindex', '0');\n        }\n    };\n    Toolbar.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    Toolbar.prototype.itemsRerender = function (newProp) {\n        this.items = this.tbarItemsCol;\n        this.destroyMode();\n        this.destroyItems();\n        this.items = newProp;\n        this.tbarItemsCol = this.items;\n        this.renderItems();\n        this.renderOverflowMode();\n    };\n    Toolbar.prototype.resize = function () {\n        var ele = this.element;\n        this.tbResize = true;\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj) {\n            this.popObj.hide();\n        }\n        var checkOverflow = this.checkOverflow(ele, ele.getElementsByClassName(CLS_ITEMS)[0]);\n        if (!checkOverflow) {\n            this.destroyHScroll();\n        }\n        if (checkOverflow && this.scrollModule && (this.offsetWid === ele.offsetWidth)) {\n            return;\n        }\n        if (this.offsetWid > ele.offsetWidth || checkOverflow) {\n            this.renderOverflowMode();\n        }\n        if (this.popObj) {\n            if (this.tbarAlign) {\n                this.removePositioning();\n            }\n            this.popupRefresh(this.popObj.element, false);\n            if (this.tbarAlign) {\n                this.refreshPositioning();\n            }\n        }\n        this.offsetWid = ele.offsetWidth;\n        this.tbResize = false;\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {ToolbarModel} newProp\n     * @param  {ToolbarModel} oldProp\n     * @returns void\n     * @private\n     */\n    Toolbar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var tEle = this.element;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProb = Object.keys(newProp.items);\n                        for (var i = 0; i < changedProb.length; i++) {\n                            var index = parseInt(Object.keys(newProp.items)[i], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var oldProperty = Object(oldProp.items[index])[property];\n                            var newProperty = Object(newProp.items[index])[property];\n                            if (this.tbarAlign || property === 'align') {\n                                this.refresh();\n                                break;\n                            }\n                            var popupPriCheck = property === 'showAlwaysInPopup' && !newProperty;\n                            if ((popupPriCheck) || (this.items[index].showAlwaysInPopup) && property === 'overflow' && this.popupPriCount !== 0) {\n                                --this.popupPriCount;\n                            }\n                            this.destroyMode();\n                            var itemCol = [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, tEle));\n                            detach(itemCol[index]);\n                            this.tbarEle.splice(index, 1);\n                            this.addItems([this.items[index]], index);\n                            this.items.splice(index, 1);\n                            if (this.items[index].template) {\n                                this.tbarEle.splice(this.items.length, 1);\n                            }\n                        }\n                    }\n                    else {\n                        this.itemsRerender(newProp.items);\n                    }\n                    break;\n                case 'width':\n                    var wid = tEle.offsetWidth;\n                    setStyle(tEle, { 'width': formatUnit(newProp.width) });\n                    this.renderOverflowMode();\n                    if (this.popObj && wid < tEle.offsetWidth) {\n                        this.popupRefresh(this.popObj.element, false);\n                    }\n                    break;\n                case 'height':\n                    setStyle(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'overflowMode':\n                    this.destroyMode();\n                    this.renderOverflowMode();\n                    if (this.enableRtl) {\n                        this.add(tEle, CLS_RTL);\n                    }\n                    this.refreshOverflow();\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.add(tEle, CLS_RTL) : this.remove(tEle, CLS_RTL);\n                    if (!isNOU(this.scrollModule)) {\n                        newProp.enableRtl ? this.add(this.scrollModule.element, CLS_RTL) : this.remove(this.scrollModule.element, CLS_RTL);\n                    }\n                    if (!isNOU(this.popObj)) {\n                        newProp.enableRtl ? this.add(this.popObj.element, CLS_RTL) : this.remove(this.popObj.element, CLS_RTL);\n                    }\n                    if (this.tbarAlign) {\n                        this.itemPositioning();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Shows or hides the Toolbar item that is in the specified index.\n     * @param  {number} index - Index value of target item.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (true) or show (false). By default, value is false.\n     * @returns void.\n     */\n    Toolbar.prototype.hideItem = function (index, value) {\n        if (this.tbarEle[index]) {\n            var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n            if (value === true) {\n                innerItems[index].classList.add(CLS_HIDDEN);\n            }\n            else {\n                innerItems[index].classList.remove(CLS_HIDDEN);\n            }\n            this.refreshOverflow();\n        }\n    };\n    __decorate([\n        Collection([], Item)\n    ], Toolbar.prototype, \"items\", void 0);\n    __decorate([\n        Property('auto')\n    ], Toolbar.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Toolbar.prototype, \"height\", void 0);\n    __decorate([\n        Property('Scrollable')\n    ], Toolbar.prototype, \"overflowMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Toolbar.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"clicked\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"beforeCreate\", void 0);\n    Toolbar = __decorate([\n        NotifyPropertyChanges\n    ], Toolbar);\n    return Toolbar;\n}(Component));\nexport { Toolbar };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event, KeyboardEvents, rippleEffect } from '@syncfusion/ej2-base';\nimport { getUniqueID, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { addClass, isVisible, closest, attributes, classList, detach, select } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, Collection, Animation } from '@syncfusion/ej2-base';\nimport { createElement as buildTag, setStyleAttribute as setStyle, Complex } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, formatUnit, selectAll } from '@syncfusion/ej2-base';\nvar CLS_ACRDN_ROOT = 'e-acrdn-root';\nvar CLS_ROOT = 'e-accordion';\nvar CLS_ITEM = 'e-acrdn-item';\nvar CLS_ITEMFOCUS = 'e-item-focus';\nvar CLS_ITEMHIDE = 'e-hide';\nvar CLS_HEADER = 'e-acrdn-header';\nvar CLS_HEADERICN = 'e-acrdn-header-icon';\nvar CLS_HEADERCTN = 'e-acrdn-header-content';\nvar CLS_CONTENT = 'e-acrdn-panel';\nvar CLS_CTENT = 'e-acrdn-content';\nvar CLS_TOOGLEICN = 'e-toggle-icon';\nvar CLS_COLLAPSEICN = 'e-tgl-collapse-icon e-icons';\nvar CLS_EXPANDICN = 'e-expand-icon';\nvar CLS_RTL = 'e-rtl';\nvar CLS_CTNHIDE = 'e-content-hide';\nvar CLS_SLCT = 'e-select';\nvar CLS_SLCTED = 'e-selected';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_ANIMATE = 'e-animate';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_TOGANIMATE = 'e-toggle-animation';\nvar CLS_NEST = 'e-nested';\nvar CLS_EXPANDSTATE = 'e-expand-state';\nvar AccordionActionSettings = /** @class */ (function (_super) {\n    __extends(AccordionActionSettings, _super);\n    function AccordionActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideDown')\n    ], AccordionActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], AccordionActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('linear')\n    ], AccordionActionSettings.prototype, \"easing\", void 0);\n    return AccordionActionSettings;\n}(ChildProperty));\nexport { AccordionActionSettings };\nvar AccordionAnimationSettings = /** @class */ (function (_super) {\n    __extends(AccordionAnimationSettings, _super);\n    function AccordionAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideUp', duration: 400, easing: 'linear' }, AccordionActionSettings)\n    ], AccordionAnimationSettings.prototype, \"collapse\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideDown', duration: 400, easing: 'linear' }, AccordionActionSettings)\n    ], AccordionAnimationSettings.prototype, \"expand\", void 0);\n    return AccordionAnimationSettings;\n}(ChildProperty));\nexport { AccordionAnimationSettings };\n/**\n * An item object that is used to configure Accordion items.\n */\nvar AccordionItem = /** @class */ (function (_super) {\n    __extends(AccordionItem, _super);\n    function AccordionItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"content\", void 0);\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"header\", void 0);\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], AccordionItem.prototype, \"expanded\", void 0);\n    return AccordionItem;\n}(ChildProperty));\nexport { AccordionItem };\n/**\n * The Accordion is a vertically collapsible content panel that displays one or more panels at a time within the available space.\n * ```html\n * <div id='accordion'/>\n * <script>\n *   var accordionObj = new Accordion();\n *   accordionObj.appendTo('#accordion');\n * </script>\n * ```\n */\nvar Accordion = /** @class */ (function (_super) {\n    __extends(Accordion, _super);\n    /**\n     * Initializes a new instance of the Accordion class.\n     * @param options  - Specifies Accordion model properties as options.\n     * @param element  - Specifies the element that is rendered as an Accordion.\n     */\n    function Accordion(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * Contains the keyboard configuration of the Accordion.\n         */\n        _this.keyConfigs = {\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            enter: 'enter',\n            space: 'space',\n            home: 'home',\n            end: 'end',\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void\n     */\n    Accordion.prototype.destroy = function () {\n        var _this = this;\n        var ele = this.element;\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        this.isDestroy = true;\n        this.templateEle.forEach(function (eleStr) {\n            document.body.appendChild(_this.element.querySelector(eleStr)).style.display = 'none';\n        });\n        while (ele.firstChild) {\n            ele.removeChild(ele.firstChild);\n        }\n        if (this.trgtEle) {\n            while (this.ctrlTem.firstChild) {\n                ele.appendChild(this.ctrlTem.firstChild);\n            }\n        }\n        ele.removeAttribute('style');\n        ['aria-disabled', 'aria-multiselectable', 'role'].forEach(function (attrb) {\n            _this.element.removeAttribute(attrb);\n        });\n    };\n    Accordion.prototype.preRender = function () {\n        var nested = closest(this.element, '.' + CLS_CONTENT);\n        this.isNested = false;\n        this.templateEle = [];\n        if (!this.isDestroy) {\n            this.isDestroy = false;\n        }\n        if (!isNOU(nested)) {\n            nested.classList.add(CLS_NEST);\n            this.isNested = true;\n        }\n        else {\n            this.element.classList.add(CLS_ACRDN_ROOT);\n        }\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL);\n        }\n        if (!this.enablePersistence || isNOU(this.expandedItems)) {\n            this.expandedItems = [];\n        }\n    };\n    Accordion.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Accordion.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    /**\n     * To initialize the control rendering\n     * @private\n     */\n    Accordion.prototype.render = function () {\n        this.initialize();\n        this.renderControl();\n        this.wireEvents();\n    };\n    Accordion.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        setStyle(this.element, { 'width': width, 'height': height });\n        var ariaAttr = {\n            'aria-disabled': 'false', 'role': 'presentation', 'aria-multiselectable': 'true'\n        };\n        if (this.expandedItems.length > 0) {\n            this.initExpand = this.expandedItems;\n        }\n        attributes(this.element, ariaAttr);\n        if (this.expandMode === 'Single') {\n            this.element.setAttribute('aria-multiselectable', 'false');\n        }\n    };\n    Accordion.prototype.renderControl = function () {\n        this.trgtEle = (this.element.children.length > 0) ? select('div', this.element) : null;\n        this.renderItems();\n        this.initItemExpand();\n    };\n    Accordion.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        if (!isNOU(this.keyModule)) {\n            this.keyModule.destroy();\n        }\n    };\n    Accordion.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        if (!this.isNested && !this.isDestroy) {\n            rippleEffect(this.element, { selector: '.' + CLS_HEADER });\n        }\n        if (!this.isNested) {\n            this.keyModule = new KeyboardEvents(this.element, {\n                keyAction: this.keyActionHandler.bind(this),\n                keyConfigs: this.keyConfigs,\n                eventName: 'keydown'\n            });\n        }\n    };\n    Accordion.prototype.focusIn = function (e) {\n        e.target.parentElement.classList.add(CLS_ITEMFOCUS);\n    };\n    Accordion.prototype.focusOut = function (e) {\n        e.target.parentElement.classList.remove(CLS_ITEMFOCUS);\n    };\n    Accordion.prototype.ctrlTemplate = function () {\n        var _this = this;\n        this.ctrlTem = this.element.cloneNode(true);\n        var innerEles = this.element.children;\n        var content;\n        addClass(innerEles, [CLS_ITEM]);\n        [].slice.call(innerEles).forEach(function (el) {\n            el.id = getUniqueID('acrdn_item');\n            if (el.children.length > 0) {\n                _this.add(el.children[0], CLS_HEADER);\n                var header = el.children[0];\n                attributes(header, { 'tabindex': '0', 'role': 'heading', 'aria-level': innerEles.length.toString() });\n                header.id = getUniqueID('acrdn_header');\n                EventHandler.add(header, 'focus', _this.focusIn, _this);\n                EventHandler.add(header, 'blur', _this.focusOut, _this);\n                var headerEle = header.firstElementChild;\n                if (headerEle) {\n                    headerEle.classList.add(CLS_HEADERCTN);\n                }\n                content = el.children[1];\n                if (content) {\n                    content.id = getUniqueID('acrdn_panel');\n                    header.setAttribute('aria-controls', content.id);\n                    content.style.display = '';\n                    el.classList.add(CLS_SLCT);\n                    el.children[0].appendChild(_this.toggleIconGenerate());\n                    classList(content, [CLS_CONTENT, CLS_CTNHIDE], []);\n                    attributes(content, { 'aria-labelledby': header.id, 'aria-hidden': 'true' });\n                    content = content.firstElementChild;\n                    if (content) {\n                        content.classList.add(CLS_CTENT);\n                        content.style.display = '';\n                    }\n                }\n            }\n        });\n    };\n    Accordion.prototype.toggleIconGenerate = function () {\n        var tglIcon = buildTag('div', { className: CLS_TOOGLEICN });\n        var hdrColIcon = buildTag('span', { className: CLS_COLLAPSEICN });\n        tglIcon.appendChild(hdrColIcon);\n        return tglIcon;\n    };\n    Accordion.prototype.initItemExpand = function () {\n        var len = this.initExpand.length;\n        if (len === 0) {\n            return;\n        }\n        if (this.expandMode === 'Single') {\n            this.expandItem(true, this.initExpand[len - 1]);\n        }\n        else {\n            for (var i = 0; i < len; i++) {\n                this.expandItem(true, this.initExpand[i]);\n            }\n        }\n    };\n    Accordion.prototype.renderItems = function () {\n        var _this = this;\n        var ele = this.element;\n        var innerItem;\n        if (isNOU(this.initExpand)) {\n            this.initExpand = [];\n        }\n        var items = this.items;\n        if (!isNOU(this.trgtEle)) {\n            this.ctrlTemplate();\n        }\n        else if (ele && items.length > 0) {\n            items.forEach(function (item, index) {\n                innerItem = _this.renderInnerItem(item, index);\n                ele.appendChild(innerItem);\n                if (innerItem.childElementCount > 0) {\n                    EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n                    EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n                }\n            });\n        }\n    };\n    Accordion.prototype.clickHandler = function (e) {\n        var _this = this;\n        var trgt = e.target;\n        var eventArgs = {};\n        var index;\n        var tglIcon;\n        var acrdEle = closest(trgt, '.' + CLS_ROOT);\n        if (acrdEle !== this.element) {\n            return;\n        }\n        trgt.classList.add('e-target');\n        var acrdnItem = closest(trgt, '.' + CLS_ITEM);\n        var acrdnHdr = closest(trgt, '.' + CLS_HEADER);\n        var acrdnCtn = closest(trgt, '.' + CLS_CONTENT);\n        if (acrdnItem && (isNOU(acrdnHdr) || isNOU(acrdnCtn))) {\n            acrdnHdr = acrdnItem.children[0];\n            acrdnCtn = acrdnItem.children[1];\n        }\n        if (acrdnHdr) {\n            tglIcon = select('.' + CLS_TOOGLEICN, acrdnHdr);\n        }\n        var acrdnCtnItem;\n        if (acrdnCtn) {\n            acrdnCtnItem = closest(acrdnCtn, '.' + CLS_ITEM);\n        }\n        var acrdActive = [];\n        index = this.getIndexByItem(acrdnItem);\n        if (acrdnCtnItem) {\n            eventArgs.item = this.items[this.getIndexByItem(acrdnCtnItem)];\n        }\n        eventArgs.originalEvent = e;\n        var ctnCheck = !isNOU(tglIcon) && isNOU(this.trgtEle) && acrdnItem.childElementCount <= 1;\n        if (ctnCheck && (isNOU(acrdnCtn) || !isNOU(select('.' + CLS_HEADER + ' .' + CLS_TOOGLEICN, acrdnCtnItem)))) {\n            acrdnItem.appendChild(this.contentRendering(index));\n            this.ariaAttrUpdate(acrdnItem);\n        }\n        this.trigger('clicked', eventArgs);\n        var cntclkCheck = (acrdnCtn && !isNOU(select('.e-target', acrdnCtn)));\n        cntclkCheck = cntclkCheck && (isNOU(select('.' + CLS_ROOT, acrdnCtn)) || !(closest(trgt, '.' + CLS_ROOT) === this.element));\n        trgt.classList.remove('e-target');\n        if (trgt.classList.contains(CLS_CONTENT) || trgt.classList.contains(CLS_CTENT) || cntclkCheck) {\n            return;\n        }\n        [].slice.call(this.element.children).forEach(function (el) {\n            if (el.classList.contains(CLS_ACTIVE)) {\n                acrdActive.push(el);\n            }\n        });\n        var acrdAniEle = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM + ' [' + CLS_ANIMATE + ']'));\n        if (acrdAniEle.length > 0) {\n            for (var _i = 0, acrdAniEle_1 = acrdAniEle; _i < acrdAniEle_1.length; _i++) {\n                var el = acrdAniEle_1[_i];\n                acrdActive.push(el.parentElement);\n            }\n        }\n        var sameContentCheck = acrdActive.indexOf(acrdnCtnItem) !== -1 && acrdnCtn.getAttribute('e-animate') === 'true';\n        var sameHeader = false;\n        if (!isNOU(acrdnItem) && !isNOU(acrdnHdr)) {\n            var acrdnCtn_1 = select('.' + CLS_CONTENT, acrdnItem);\n            var acrdnRoot = closest(acrdnItem, '.' + CLS_ACRDN_ROOT);\n            var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n            if (isNOU(acrdnCtn_1)) {\n                return;\n            }\n            sameHeader = (expandState === acrdnItem);\n            if (isVisible(acrdnCtn_1) && (!sameContentCheck || acrdnCtnItem.classList.contains(CLS_SLCTED))) {\n                this.collapse(acrdnCtn_1);\n            }\n            else {\n                if ((acrdActive.length > 0) && this.expandMode === 'Single' && !sameContentCheck) {\n                    acrdActive.forEach(function (el) {\n                        _this.collapse(select('.' + CLS_CONTENT, el));\n                        el.classList.remove(CLS_EXPANDSTATE);\n                    });\n                }\n                this.expand(acrdnCtn_1);\n            }\n            if (!isNOU(expandState) && !sameHeader) {\n                expandState.classList.remove(CLS_EXPANDSTATE);\n            }\n        }\n    };\n    Accordion.prototype.eleMoveFocus = function (action, root, trgt) {\n        var clst;\n        var clstItem = closest(trgt, '.' + CLS_ITEM);\n        if (trgt === root) {\n            clst = ((action === 'moveUp' ? trgt.lastElementChild : trgt).querySelector('.' + CLS_HEADER));\n        }\n        else if (trgt.classList.contains(CLS_HEADER)) {\n            clstItem = (action === 'moveUp' ? clstItem.previousElementSibling : clstItem.nextElementSibling);\n            if (clstItem) {\n                clst = select('.' + CLS_HEADER, clstItem);\n            }\n        }\n        if (clst) {\n            clst.focus();\n        }\n    };\n    Accordion.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        if (trgt.tagName === 'INPUT') {\n            return;\n        }\n        e.preventDefault();\n        var clst;\n        var root = this.element;\n        var content;\n        switch (e.action) {\n            case 'moveUp':\n                this.eleMoveFocus(e.action, root, trgt);\n                break;\n            case 'moveDown':\n                this.eleMoveFocus(e.action, root, trgt);\n                break;\n            case 'space':\n            case 'enter':\n                content = trgt.nextElementSibling;\n                if (!isNOU(content) && content.classList.contains(CLS_CONTENT)) {\n                    if (content.getAttribute('e-animate') !== 'true') {\n                        trgt.click();\n                    }\n                }\n                else {\n                    trgt.click();\n                }\n                break;\n            case 'home':\n            case 'end':\n                clst = e.action === 'home' ? root.firstElementChild.children[0] : root.lastElementChild.children[0];\n                clst.focus();\n                break;\n        }\n    };\n    Accordion.prototype.headerEleGenerate = function () {\n        var header = buildTag('div', { className: CLS_HEADER, id: getUniqueID('acrdn_header') });\n        var ariaAttr = {\n            'tabindex': '0', 'role': 'heading', 'aria-expanded': 'false', 'aria-selected': 'false',\n            'aria-disabled': 'false', 'aria-level': this.items.length.toString()\n        };\n        attributes(header, ariaAttr);\n        return header;\n    };\n    Accordion.prototype.renderInnerItem = function (item, index) {\n        var innerEle;\n        innerEle = buildTag('div', { className: CLS_ITEM });\n        innerEle.id = getUniqueID('acrdn_item');\n        if (item.header) {\n            var ctnEle = this.headerEleGenerate();\n            var hdrEle = buildTag('div', { className: CLS_HEADERCTN });\n            ctnEle.appendChild(hdrEle);\n            ctnEle.appendChild(this.fetchElement(hdrEle, item.header, index, true));\n            innerEle.appendChild(ctnEle);\n        }\n        var hdr = select('.' + CLS_HEADER, innerEle);\n        if (item.expanded && !isNOU(index) && (!this.enablePersistence)) {\n            if (this.initExpand.indexOf(index) === -1) {\n                this.initExpand.push(index);\n            }\n        }\n        if (item.cssClass) {\n            innerEle.classList.add(item.cssClass);\n        }\n        if (item.iconCss) {\n            var hdrIcnEle = buildTag('div', { className: CLS_HEADERICN });\n            var icon = buildTag('span', { className: item.iconCss + ' e-icons' });\n            hdrIcnEle.appendChild(icon);\n            if (isNOU(hdr)) {\n                hdr = this.headerEleGenerate();\n                hdr.appendChild(hdrIcnEle);\n                innerEle.appendChild(hdr);\n            }\n            else {\n                hdr.insertBefore(hdrIcnEle, hdr.childNodes[0]);\n            }\n        }\n        if (item.content) {\n            var hdrIcon = this.toggleIconGenerate();\n            if (isNOU(hdr)) {\n                hdr = this.headerEleGenerate();\n                innerEle.appendChild(hdr);\n            }\n            hdr.appendChild(hdrIcon);\n            this.add(innerEle, CLS_SLCT);\n        }\n        return innerEle;\n    };\n    Accordion.prototype.fetchElement = function (ele, value, index, isHeader) {\n        var templateFn;\n        var temString;\n        try {\n            if (document.querySelectorAll(value).length) {\n                var eleVal = document.querySelector(value);\n                temString = eleVal.outerHTML.trim();\n                ele.appendChild(eleVal);\n                eleVal.style.display = '';\n            }\n        }\n        catch (e) {\n            templateFn = templateCompiler(value);\n        }\n        if (!isNOU(templateFn) && templateFn().length > 0 && !(isNOU(templateFn()[0].tagName) && templateFn().length === 1)) {\n            [].slice.call(templateFn()).forEach(function (el) {\n                if (!isNOU(el.tagName)) {\n                    el.style.display = '';\n                }\n                ele.appendChild(el);\n            });\n        }\n        else if (ele.childElementCount === 0) {\n            ele.innerHTML = value;\n        }\n        if (!isNOU(temString)) {\n            this.templateEle.push(value);\n        }\n        return ele;\n    };\n    Accordion.prototype.ariaAttrUpdate = function (itemEle) {\n        var header = select('.' + CLS_HEADER, itemEle);\n        var content = select('.' + CLS_CONTENT, itemEle);\n        header.setAttribute('aria-controls', content.id);\n        content.setAttribute('aria-labelledby', header.id);\n    };\n    Accordion.prototype.contentRendering = function (index) {\n        var content = this.items[index].content;\n        var itemcnt = buildTag('div', { className: CLS_CONTENT + ' ' + CLS_CTNHIDE, id: getUniqueID('acrdn_panel') });\n        attributes(itemcnt, { 'aria-hidden': 'true' });\n        var ctn = buildTag('div', { className: CLS_CTENT });\n        itemcnt.appendChild(this.fetchElement(ctn, content, index, false));\n        return itemcnt;\n    };\n    Accordion.prototype.expand = function (trgt) {\n        var eventArgs;\n        var trgtItemEle = closest(trgt, '.' + CLS_ITEM);\n        if (isNOU(trgt) || (isVisible(trgt) && trgt.getAttribute('e-animate') !== 'true') || trgtItemEle.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        var acrdnRoot = closest(trgtItemEle, '.' + CLS_ACRDN_ROOT);\n        var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n        var animation = {\n            name: this.animation.expand.effect,\n            duration: this.animation.expand.duration,\n            timingFunction: this.animation.expand.easing\n        };\n        var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n        eventArgs = { element: trgtItemEle,\n            item: this.items[this.getIndexByItem(trgtItemEle)],\n            isExpanded: true };\n        var eff = animation.name;\n        this.trigger('expanding', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        icon.classList.add(CLS_TOGANIMATE);\n        this.expandedItemsPush(trgtItemEle);\n        if (!isNOU(expandState)) {\n            expandState.classList.remove(CLS_EXPANDSTATE);\n        }\n        trgtItemEle.classList.add(CLS_EXPANDSTATE);\n        if ((animation.name === 'None')) {\n            this.expandProgress('begin', icon, trgt, trgtItemEle, eventArgs);\n            this.expandProgress('end', icon, trgt, trgtItemEle, eventArgs);\n            return;\n        }\n        this.expandAnimation(eff, icon, trgt, trgtItemEle, animation, eventArgs);\n    };\n    Accordion.prototype.expandAnimation = function (ef, icn, trgt, trgtItemEle, animate, args) {\n        var _this = this;\n        var height;\n        var trgtHgt;\n        if (ef === 'SlideDown') {\n            animate.begin = function () {\n                _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n                trgt.style.position = 'absolute';\n                height = trgtItemEle.offsetHeight;\n                trgtHgt = trgt.offsetHeight;\n                trgt.style.maxHeight = (trgt.offsetHeight) + 'px';\n                trgtItemEle.style.maxHeight = '';\n            };\n            animate.progress = function () {\n                trgtItemEle.style.minHeight = (height + trgt.offsetHeight) + 'px';\n            };\n            animate.end = function () {\n                setStyle(trgt, { 'position': '', 'maxHeight': '' });\n                trgtItemEle.style.minHeight = '';\n                _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n            };\n        }\n        else {\n            animate.begin = function () {\n                _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n            };\n            animate.end = function () {\n                _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n            };\n        }\n        new Animation(animate).animate(trgt);\n    };\n    Accordion.prototype.expandProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n        this.remove(trgt, CLS_CTNHIDE);\n        this.add(trgtItemEle, CLS_SLCTED);\n        this.add(icon, CLS_EXPANDICN);\n        if (progress === 'end') {\n            this.add(trgtItemEle, CLS_ACTIVE);\n            trgt.setAttribute('aria-hidden', 'false');\n            attributes(trgt.previousElementSibling, { 'aria-selected': 'true', 'aria-expanded': 'true' });\n            icon.classList.remove(CLS_TOGANIMATE);\n            this.trigger('expanded', eventArgs);\n        }\n    };\n    Accordion.prototype.expandedItemsPush = function (item) {\n        var index = this.getIndexByItem(item);\n        if (this.expandedItems.indexOf(index) === -1) {\n            this.expandedItems.push(index);\n        }\n    };\n    Accordion.prototype.getIndexByItem = function (item) {\n        return [].slice.call(this.element.children).indexOf(item);\n    };\n    Accordion.prototype.expandedItemsPop = function (item) {\n        var index = this.getIndexByItem(item);\n        this.expandedItems.splice(this.expandedItems.indexOf(index), 1);\n    };\n    Accordion.prototype.collapse = function (trgt) {\n        var eventArgs;\n        var trgtItemEle = closest(trgt, '.' + CLS_ITEM);\n        if (isNOU(trgt) || !isVisible(trgt) || trgtItemEle.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        var animation = {\n            name: this.animation.collapse.effect,\n            duration: this.animation.collapse.duration,\n            timingFunction: this.animation.collapse.easing,\n        };\n        var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n        eventArgs = { element: trgtItemEle,\n            item: this.items[this.getIndexByItem(trgtItemEle)],\n            isExpanded: false };\n        var eff = animation.name;\n        this.trigger('expanding', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.expandedItemsPop(trgtItemEle);\n        trgtItemEle.classList.add(CLS_EXPANDSTATE);\n        icon.classList.add(CLS_TOGANIMATE);\n        if ((animation.name === 'None')) {\n            this.collapseProgress('begin', icon, trgt, trgtItemEle, eventArgs);\n            this.collapseProgress('end', icon, trgt, trgtItemEle, eventArgs);\n            return;\n        }\n        this.collapseAnimation(eff, trgt, trgtItemEle, icon, animation, eventArgs);\n    };\n    Accordion.prototype.collapseAnimation = function (ef, trgt, trgtItEl, icn, animate, args) {\n        var _this = this;\n        var height;\n        var trgtHeight;\n        var itemHeight;\n        var remain;\n        if (ef === 'SlideUp') {\n            animate.begin = function () {\n                itemHeight = trgtItEl.offsetHeight;\n                trgtItEl.style.minHeight = itemHeight + 'px';\n                trgt.style.position = 'absolute';\n                height = trgtItEl.offsetHeight;\n                trgtHeight = trgt.offsetHeight;\n                trgt.style.maxHeight = trgtHeight + 'px';\n                _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n            };\n            animate.progress = function () {\n                remain = ((height - (trgtHeight - trgt.offsetHeight)));\n                if (remain < itemHeight) {\n                    trgtItEl.style.minHeight = remain + 'px';\n                }\n            };\n            animate.end = function () {\n                trgt.style.display = 'none';\n                _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n                trgtItEl.style.minHeight = '';\n                setStyle(trgt, { 'position': '', 'maxHeight': '', 'display': '' });\n            };\n        }\n        else {\n            animate.begin = function () {\n                _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n            };\n            animate.end = function () {\n                _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n            };\n        }\n        new Animation(animate).animate(trgt);\n    };\n    Accordion.prototype.collapseProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n        this.remove(icon, CLS_EXPANDICN);\n        this.remove(trgtItemEle, CLS_SLCTED);\n        if (progress === 'end') {\n            this.add(trgt, CLS_CTNHIDE);\n            icon.classList.remove(CLS_TOGANIMATE);\n            this.remove(trgtItemEle, CLS_ACTIVE);\n            trgt.setAttribute('aria-hidden', 'true');\n            attributes(trgt.previousElementSibling, { 'aria-selected': 'false', 'aria-expanded': 'false' });\n            this.trigger('expanded', eventArgs);\n        }\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Accordion.prototype.getModuleName = function () {\n        return 'accordion';\n    };\n    Accordion.prototype.itemAttribUpdate = function () {\n        var itemEle = [].slice.call(this.element.children);\n        var itemLen = this.items.length;\n        itemEle.forEach(function (ele) {\n            select('.' + CLS_HEADER, ele).setAttribute('aria-level', '' + itemLen);\n        });\n    };\n    /**\n     * Adds new item to the Accordion with the specified index of the Accordion.\n     * @param  {AccordionItemModel} item - Item array that is to be added to the Accordion.\n     * @param  {number} index - Number value that determines where the item should be added.\n     * By default, item is added at the last index if the index is not specified.\n     * @returns void\n     */\n    Accordion.prototype.addItem = function (item, index) {\n        var ele = this.element;\n        if (isNOU(index)) {\n            index = this.items.length;\n        }\n        if (ele.childElementCount >= index) {\n            this.items.splice(index, 0, item);\n            var innerItemEle = this.renderInnerItem(item, index);\n            if (ele.childElementCount === index) {\n                ele.appendChild(innerItemEle);\n            }\n            else {\n                ele.insertBefore(innerItemEle, ele.children[index]);\n            }\n            EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'focus', this.focusIn, this);\n            EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'blur', this.focusOut, this);\n            this.itemAttribUpdate();\n        }\n        this.expandedItems = [];\n        this.expandedItemRefresh(ele);\n        if (item.expanded) {\n            this.expandItem(true, index);\n        }\n    };\n    Accordion.prototype.expandedItemRefresh = function (ele) {\n        var _this = this;\n        [].slice.call(ele.children).forEach(function (el) {\n            if (el.classList.contains(CLS_SLCTED)) {\n                _this.expandedItemsPush(el);\n            }\n        });\n    };\n    /**\n     * Dynamically removes item from Accordion.\n     * @param  {number} index - Number value that determines which item should be removed.\n     * @returns void.\n     */\n    Accordion.prototype.removeItem = function (index) {\n        var ele = this.element.children[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        detach(ele);\n        this.items.splice(index, 1);\n        this.itemAttribUpdate();\n        this.expandedItems = [];\n        this.expandedItemRefresh(this.element);\n    };\n    /**\n     * Sets focus to the specified index item header in Accordion.\n     * @param  {number} index - Number value that determines which item should be focused.\n     * @returns void.\n     */\n    Accordion.prototype.select = function (index) {\n        var ele = this.element.children[index];\n        if (isNOU(ele) || isNOU(select('.' + CLS_HEADER, ele))) {\n            return;\n        }\n        ele.children[0].focus();\n    };\n    /**\n     * Shows or hides the specified item from Accordion.\n     * @param  {number} index - Number value that determines which item should be hidden/shown.\n     * @param  {Boolean} isHidden - Boolean value that determines the action either hide (true) or show (false). Default value is false.\n     *  If the `isHidden` value is false, the item is shown or else item it is hidden.\n     * @returns void.\n     */\n    Accordion.prototype.hideItem = function (index, isHidden) {\n        var ele = this.element.children[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        if (isNOU(isHidden)) {\n            isHidden = true;\n        }\n        isHidden ? this.add(ele, CLS_ITEMHIDE) : this.remove(ele, CLS_ITEMHIDE);\n    };\n    /**\n     * Enables/Disables the specified Accordion item.\n     * @param  {number} index - Number value that determines which item should be enabled/disabled.\n     * @param  {boolean} isEnable - Boolean value that determines the action as enable (true) or disable (false).\n     * If the `isEnable` value is true, the item is enabled or else it is disabled.\n     * @returns void.\n     */\n    Accordion.prototype.enableItem = function (index, isEnable) {\n        var ele = this.element.children[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        var eleHeader = ele.firstElementChild;\n        if (isEnable) {\n            this.remove(ele, CLS_DISABLE);\n            attributes(eleHeader, { 'tabindex': '0', 'aria-disabled': 'false' });\n            eleHeader.focus();\n        }\n        else {\n            if (ele.classList.contains(CLS_ACTIVE)) {\n                this.expandItem(false, index);\n                this.eleMoveFocus('movedown', this.element, eleHeader);\n            }\n            this.add(ele, CLS_DISABLE);\n            eleHeader.setAttribute('aria-disabled', 'true');\n            eleHeader.removeAttribute('tabindex');\n        }\n    };\n    /**\n     * Expands/Collapses the specified Accordion item.\n     * @param  {boolean} isExpand - Boolean value that determines the action as expand or collapse.\n     * @param  {number} index - Number value that determines which item should be expanded/collapsed.`index` is optional parameter.\n     *  Without Specifying index, based on the `isExpand` value all Accordion item can be expanded or collapsed.\n     * @returns void.\n     */\n    Accordion.prototype.expandItem = function (isExpand, index) {\n        var _this = this;\n        var root = this.element;\n        if (isNOU(index)) {\n            if (this.expandMode === 'Single' && isExpand) {\n                var ele = root.children[root.childElementCount - 1];\n                this.itemExpand(isExpand, ele, this.getIndexByItem(ele));\n            }\n            else {\n                [].slice.call(this.element.children).forEach(function (el) {\n                    _this.itemExpand(isExpand, el, _this.getIndexByItem(el));\n                });\n            }\n        }\n        else {\n            var ele = this.element.children[index];\n            if (isNOU(ele) || !ele.classList.contains(CLS_SLCT) || (ele.classList.contains(CLS_ACTIVE) && isExpand)) {\n                return;\n            }\n            else {\n                if (this.expandMode === 'Single') {\n                    this.expandItem(false);\n                }\n                this.itemExpand(isExpand, ele, index);\n            }\n        }\n    };\n    Accordion.prototype.itemExpand = function (isExpand, ele, index) {\n        var ctn = ele.children[1];\n        if (ele.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        if (isNOU(ctn) && isExpand) {\n            ctn = this.contentRendering(index);\n            ele.appendChild(ctn);\n            this.ariaAttrUpdate(ele);\n        }\n        else if (isNOU(ctn)) {\n            return;\n        }\n        isExpand ? this.expand(ctn) : this.collapse(ctn);\n    };\n    Accordion.prototype.destroyItems = function () {\n        [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) { detach(el); });\n    };\n    Accordion.prototype.updateItem = function (item, index) {\n        if (!isNOU(item)) {\n            var itemObj = this.items[index];\n            this.items.splice(index, 1);\n            detach(item);\n            this.addItem(itemObj, index);\n        }\n    };\n    Accordion.prototype.getPersistData = function () {\n        var keyEntity = ['expandedItems'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {AccordionModel} newProp\n     * @param  {AccordionModel} oldProp\n     * @returns void\n     * @private\n     */\n    Accordion.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var acrdn = this.element;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProp = Object.keys(newProp.items);\n                        for (var i = 0; i < changedProp.length; i++) {\n                            var index = parseInt(Object.keys(newProp.items)[i], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var oldVal = Object(oldProp.items[index])[property];\n                            var newVal = Object(newProp.items[index])[property];\n                            var item = selectAll('.' + CLS_ITEM, this.element)[index];\n                            if (property === 'header' || property === 'iconCss' || property === 'expanded') {\n                                this.updateItem(item, index);\n                            }\n                            if (property === 'cssClass' && !isNOU(item)) {\n                                item.classList.remove(oldVal);\n                                item.classList.add(newVal);\n                            }\n                            if (property === 'content' && !isNOU(item) && item.children.length === 2) {\n                                if (item.classList.contains(CLS_SLCTED)) {\n                                    this.expandItem(false, index);\n                                }\n                                detach(item.querySelector('.' + CLS_CONTENT));\n                            }\n                        }\n                    }\n                    else {\n                        this.destroyItems();\n                        this.renderItems();\n                        this.initItemExpand();\n                    }\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.add(acrdn, CLS_RTL) : this.remove(acrdn, CLS_RTL);\n                    break;\n                case 'height':\n                    setStyle(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'width':\n                    setStyle(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'expandMode':\n                    if (newProp.expandMode === 'Single') {\n                        this.element.setAttribute('aria-multiselectable', 'false');\n                        if (this.expandedItems.length > 1) {\n                            this.expandItem(false);\n                        }\n                    }\n                    else {\n                        this.element.setAttribute('aria-multiselectable', 'true');\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Collection([], AccordionItem)\n    ], Accordion.prototype, \"items\", void 0);\n    __decorate([\n        Property('100%')\n    ], Accordion.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Accordion.prototype, \"height\", void 0);\n    __decorate([\n        Property('Multiple')\n    ], Accordion.prototype, \"expandMode\", void 0);\n    __decorate([\n        Complex({}, AccordionAnimationSettings)\n    ], Accordion.prototype, \"animation\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"clicked\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"expanding\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"expanded\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"destroyed\", void 0);\n    Accordion = __decorate([\n        NotifyPropertyChanges\n    ], Accordion);\n    return Accordion;\n}(Component));\nexport { Accordion };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, ChildProperty, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, KeyboardEvents, Touch } from '@syncfusion/ej2-base';\nimport { attributes, Animation } from '@syncfusion/ej2-base';\nimport { Browser, Collection, setValue, getValue, getUniqueID, getInstance } from '@syncfusion/ej2-base';\nimport { select, selectAll, closest, createElement, detach, append, rippleEffect, isVisible } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { calculatePosition, isCollide, fit, getScrollableParent, getZindexPartial } from '@syncfusion/ej2-popups';\nvar DOWNARROW = 'downarrow';\nvar ENTER = 'enter';\nvar ESCAPE = 'escape';\nvar FOCUSED = 'e-focused';\nvar HEADER = 'e-menu-header';\nvar LEFTARROW = 'leftarrow';\nvar RIGHTARROW = 'rightarrow';\nvar RTL = 'e-rtl';\nvar SELECTED = 'e-selected';\nvar SEPARATOR = 'e-separator';\nvar UPARROW = 'uparrow';\nvar WRAPPER = 'e-contextmenu-wrapper';\nvar CARET = 'e-caret';\nvar ITEM = 'e-menu-item';\nvar DISABLED = 'e-disabled';\nvar HIDE = 'e-menu-hide';\nvar ICONS = 'e-icons';\n/**\n * Specifies context menu items.\n */\nvar MenuItem = /** @class */ (function (_super) {\n    __extends(MenuItem, _super);\n    function MenuItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"id\", void 0);\n    __decorate([\n        Property(false)\n    ], MenuItem.prototype, \"separator\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], MenuItem.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"url\", void 0);\n    return MenuItem;\n}(ChildProperty));\nexport { MenuItem };\n/**\n * The ContextMenu is a graphical user interface that appears on the user right click/touch hold operation.\n * ```html\n * <div id = 'target'></div>\n * <ul id = 'contextmenu'></ul>\n * ```\n * ```typescript\n * <script>\n * var contextMenuObj = new ContextMenu({items: [{ text: 'Cut' }, { text: 'Copy' },{ text: 'Paste' }], target: '#target'});\n * </script>\n * ```\n */\nvar ContextMenu = /** @class */ (function (_super) {\n    __extends(ContextMenu, _super);\n    /**\n     * Constructor for creating the widget.\n     * @private\n     */\n    function ContextMenu(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.animation = new Animation({});\n        _this.navIdx = [];\n        _this.isTapHold = false;\n        return _this;\n    }\n    /**\n     * Initialized animation with parent menu animation settings.\n     * @private\n     */\n    ContextMenu.prototype.preRender = function () {\n        if (this.element.tagName === 'EJS-CONTEXTMENU') {\n            this.element.style.display = 'none';\n            this.element.classList.remove('e-' + this.getModuleName());\n            this.element.classList.remove('e-control');\n            var ejInst = getValue('ej2_instances', this.element);\n            var ul = createElement('ul');\n            this.ngElement = this.element;\n            this.element = ul;\n            this.element.classList.add('e-control');\n            this.element.classList.add('e-' + this.getModuleName());\n            setValue('ej2_instances', ejInst, this.element);\n            if (!this.element.id) {\n                this.element.id = getUniqueID(this.getModuleName());\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    ContextMenu.prototype.render = function () {\n        this.initWrapper();\n        this.renderItems();\n        this.wireEvents();\n    };\n    ContextMenu.prototype.initWrapper = function () {\n        var wrapper = this.getWrapper();\n        if (!wrapper) {\n            wrapper = createElement('div', { className: WRAPPER });\n            document.body.appendChild(wrapper);\n        }\n        if (this.cssClass) {\n            wrapper.classList.add(this.cssClass);\n        }\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        attributes(this.element, { 'role': 'menu', 'tabindex': '0' });\n        wrapper.appendChild(this.element);\n        this.element.style.zIndex = getZindexPartial(this.element).toString();\n    };\n    ContextMenu.prototype.renderItems = function () {\n        if (!this.items.length) {\n            this.items = ListBase.createJsonFromElement(this.element);\n            this.element.innerHTML = '';\n        }\n        var ul = this.createItems(this.items);\n        append(Array.prototype.slice.call(ul.children), this.element);\n        this.element.classList.add('e-menu-parent');\n    };\n    ContextMenu.prototype.wireEvents = function () {\n        var wrapper = this.getWrapper();\n        if (this.target) {\n            var target = void 0;\n            var targetElems = selectAll(this.target);\n            for (var i = 0, len = targetElems.length; i < len; i++) {\n                target = targetElems[i];\n                if (Browser.isIos) {\n                    new Touch(target, { tapHold: this.touchHandler.bind(this) });\n                }\n                else {\n                    EventHandler.add(target, 'contextmenu', this.cmenuHandler, this);\n                }\n            }\n            this.targetElement = target;\n            for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n                var parent_1 = _a[_i];\n                EventHandler.add(parent_1, 'scroll', this.scrollHandler, this);\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.add(wrapper, 'mouseover', this.moverHandler, this);\n            EventHandler.add(document, 'mousedown', this.mouseDownHandler, this);\n        }\n        this.delegateClickHandler = this.clickHandler.bind(this);\n        EventHandler.add(document, 'click', this.delegateClickHandler, this);\n        new KeyboardEvents(wrapper, {\n            keyAction: this.keyBoardHandler.bind(this),\n            keyConfigs: {\n                downarrow: DOWNARROW,\n                uparrow: UPARROW,\n                enter: ENTER,\n                leftarrow: LEFTARROW,\n                rightarrow: RIGHTARROW,\n                escape: ESCAPE\n            }\n        });\n        rippleEffect(wrapper, { selector: '.' + ITEM });\n    };\n    ContextMenu.prototype.mouseDownHandler = function (e) {\n        if (closest(e.target, '.' + WRAPPER) !== this.getWrapper()) {\n            this.closeMenu(this.navIdx.length, e);\n        }\n    };\n    ContextMenu.prototype.keyBoardHandler = function (e) {\n        e.preventDefault();\n        switch (e.action) {\n            case DOWNARROW:\n            case UPARROW:\n                this.upDownKeyHandler(e);\n                break;\n            case RIGHTARROW:\n                this.rightEnterKeyHandler(e);\n                break;\n            case LEFTARROW:\n                this.leftEscKeyHandler(e);\n                break;\n            case ENTER:\n                this.rightEnterKeyHandler(e);\n                break;\n            case ESCAPE:\n                this.leftEscKeyHandler(e);\n                break;\n        }\n    };\n    ContextMenu.prototype.upDownKeyHandler = function (e) {\n        var wrapper = this.getWrapper();\n        var cul = wrapper.children[this.navIdx.length];\n        var defaultIdx = e.action === DOWNARROW ? 0 : cul.childElementCount - 1;\n        var fliIdx = defaultIdx;\n        var fli = this.getLIByClass(cul, FOCUSED);\n        if (fli) {\n            fliIdx = this.getIdx(cul, fli);\n            fli.classList.remove(FOCUSED);\n            e.action === DOWNARROW ? fliIdx++ : fliIdx--;\n            if (fliIdx === (e.action === DOWNARROW ? cul.childElementCount : -1)) {\n                fliIdx = defaultIdx;\n            }\n        }\n        var cli = cul.children[fliIdx];\n        fliIdx = this.isValidLI(cli, fliIdx, e.action);\n        cul.children[fliIdx].classList.add(FOCUSED);\n        cul.children[fliIdx].focus();\n    };\n    ContextMenu.prototype.isValidLI = function (cli, index, action) {\n        var wrapper = this.getWrapper();\n        var cul = wrapper.children[this.navIdx.length];\n        if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n            ((action === DOWNARROW) || (action === RIGHTARROW)) ? index++ : index--;\n        }\n        cli = cul.children[index];\n        if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n            index = this.isValidLI(cli, index, action);\n        }\n        return index;\n    };\n    ContextMenu.prototype.rightEnterKeyHandler = function (e) {\n        var eventArgs;\n        var wrapper = this.getWrapper();\n        var cul = wrapper.children[this.navIdx.length];\n        var fli = this.getLIByClass(cul, FOCUSED);\n        if (fli) {\n            var fliIdx = this.getIdx(cul, fli);\n            var navIdx = this.navIdx.concat(fliIdx);\n            var index = void 0;\n            var item = this.getItem(navIdx);\n            if (item.items.length) {\n                this.navIdx.push(fliIdx);\n                this.openMenu(fli, item, null, null, e);\n                fli.classList.remove(FOCUSED);\n                fli.classList.add(SELECTED);\n                if (e.action === ENTER) {\n                    eventArgs = { element: fli, item: item };\n                    this.trigger('select', eventArgs);\n                }\n                fli.focus();\n                cul = wrapper.children[this.navIdx.length];\n                index = this.isValidLI(cul.children[0], 0, e.action);\n                cul.children[index].classList.add(FOCUSED);\n                cul.children[index].focus();\n            }\n            else {\n                if (e.action === ENTER) {\n                    fli.classList.remove(FOCUSED);\n                    fli.classList.add(SELECTED);\n                    eventArgs = { element: fli, item: item };\n                    this.trigger('select', eventArgs);\n                    this.closeMenu(null, e);\n                }\n            }\n        }\n    };\n    ContextMenu.prototype.leftEscKeyHandler = function (e) {\n        if (this.navIdx.length) {\n            var wrapper = this.getWrapper();\n            this.closeMenu(this.navIdx.length, e);\n            var cul = wrapper.children[this.navIdx.length];\n            var sli = this.getLIByClass(cul, SELECTED);\n            if (sli) {\n                sli.setAttribute('aria-expanded', 'false');\n                sli.classList.remove(SELECTED);\n                sli.classList.add(FOCUSED);\n                sli.focus();\n            }\n        }\n        else {\n            if (e.action === ESCAPE) {\n                this.closeMenu(null, e);\n            }\n        }\n    };\n    ContextMenu.prototype.scrollHandler = function (e) {\n        this.closeMenu(null, e);\n    };\n    ContextMenu.prototype.touchHandler = function (e) {\n        this.isTapHold = true;\n        this.cmenuHandler(e.originalEvent);\n    };\n    ContextMenu.prototype.cmenuHandler = function (e) {\n        e.preventDefault();\n        this.closeMenu(null, e);\n        if (this.canOpen(e.target)) {\n            if (e.changedTouches) {\n                this.openMenu(null, null, e.changedTouches[0].pageY + 1, e.changedTouches[0].pageX + 1, e);\n            }\n            else {\n                this.openMenu(null, null, e.pageY + 1, e.pageX + 1, e);\n            }\n        }\n    };\n    /**\n     * Closes the ContextMenu if it is opened.\n     */\n    ContextMenu.prototype.close = function () {\n        this.closeMenu();\n    };\n    ContextMenu.prototype.closeMenu = function (ulIndex, e) {\n        if (ulIndex === void 0) { ulIndex = 0; }\n        if (e === void 0) { e = null; }\n        if (this.isMenuVisible()) {\n            var ul = void 0;\n            var item = void 0;\n            var items = void 0;\n            var closeArgs = void 0;\n            var beforeCloseArgs = void 0;\n            var wrapper = this.getWrapper();\n            for (var cnt = wrapper.childElementCount; cnt > ulIndex; cnt--) {\n                item = this.navIdx.length ? this.getItem(this.navIdx) : null;\n                items = item ? item.items : this.items;\n                ul = wrapper.children[cnt - 1];\n                beforeCloseArgs = { element: ul, parentItem: item, items: items, event: e, cancel: false };\n                this.trigger('beforeClose', beforeCloseArgs);\n                if (!beforeCloseArgs.cancel) {\n                    this.toggleAnimation(ul, false);\n                    this.navIdx.length = ulIndex ? ulIndex - 1 : ulIndex;\n                    closeArgs = { element: ul, parentItem: item, items: items };\n                    this.trigger('onClose', closeArgs);\n                }\n            }\n        }\n    };\n    ContextMenu.prototype.isMenuVisible = function () {\n        return (this.navIdx.length > 0 || (this.element.classList.contains('e-contextmenu') && isVisible(this.element).valueOf()));\n    };\n    ContextMenu.prototype.canOpen = function (target) {\n        var canOpen = true;\n        if (this.filter) {\n            canOpen = false;\n            var filter = this.filter.split(' ');\n            for (var i = 0, len = target.classList.length; i < len; i++) {\n                if (filter.indexOf(target.classList[i]) > -1) {\n                    canOpen = true;\n                    break;\n                }\n            }\n        }\n        return canOpen;\n    };\n    /**\n     * This method is used to open the ContextMenu in specified position.\n     * @param top To specify ContextMenu vertical positioning.\n     * @param left To specify ContextMenu horizontal positioning.\n     * @returns void\n     */\n    ContextMenu.prototype.open = function (top, left) {\n        this.openMenu(null, null, top, left);\n    };\n    ContextMenu.prototype.openMenu = function (li, item, top, left, e) {\n        if (top === void 0) { top = 0; }\n        if (left === void 0) { left = 0; }\n        if (e === void 0) { e = null; }\n        var ul;\n        var navIdx;\n        var wrapper = this.getWrapper();\n        if (li) {\n            ul = this.createItems(item.items);\n            if (Browser.isDevice) {\n                wrapper.lastChild.style.display = 'none';\n                var data = { text: item.text, iconCss: ICONS + ' e-previous' };\n                var hdata = new MenuItem(this.items[0], null, data, true);\n                var hli = this.createItems([hdata]).children[0];\n                hli.classList.add(HEADER);\n                ul.insertBefore(hli, ul.children[0]);\n            }\n            ul.style.zIndex = this.element.style.zIndex;\n            wrapper.appendChild(ul);\n        }\n        else {\n            ul = this.element;\n        }\n        navIdx = this.getIndex(li ? this.getTextContent(li) : null);\n        var items = li ? item.items : this.items;\n        var eventArgs = { element: ul, items: items, parentItem: item, event: e, cancel: false };\n        this.trigger('beforeOpen', eventArgs);\n        if (eventArgs.cancel) {\n            this.navIdx.pop();\n        }\n        else {\n            this.setPosition(li, ul, top, left);\n            this.toggleAnimation(ul);\n        }\n    };\n    ContextMenu.prototype.setPosition = function (li, ul, top, left) {\n        var px = 'px';\n        this.toggleVisiblity(ul);\n        if (ul === this.element) {\n            var collide = isCollide(ul, null, left, top);\n            if (collide.indexOf('right') > -1) {\n                left = left - ul.offsetWidth;\n            }\n            if (collide.indexOf('bottom') > -1) {\n                var offset = fit(ul, null, { X: false, Y: true }, { top: top, left: left });\n                top = offset.top - 20;\n            }\n            collide = isCollide(ul, null, left, top);\n            if (collide.indexOf('left') > -1) {\n                var offset = fit(ul, null, { X: true, Y: false }, { top: top, left: left });\n                left = offset.left;\n            }\n        }\n        else {\n            if (Browser.isDevice) {\n                top = Number(this.element.style.top.replace(px, ''));\n                left = Number(this.element.style.left.replace(px, ''));\n            }\n            else {\n                var x = this.enableRtl ? 'left' : 'right';\n                var offset = calculatePosition(li, x, 'top');\n                top = offset.top;\n                left = offset.left;\n                var collide = isCollide(ul, null, this.enableRtl ? left - ul.offsetWidth : left, top);\n                var xCollision = collide.indexOf('left') > -1 || collide.indexOf('right') > -1;\n                if (xCollision) {\n                    offset = calculatePosition(li, this.enableRtl ? 'right' : 'left', 'top');\n                    left = offset.left;\n                }\n                if (this.enableRtl || xCollision) {\n                    left = (this.enableRtl && xCollision) ? left : left - ul.offsetWidth;\n                }\n                if (collide.indexOf('bottom') > -1) {\n                    offset = fit(ul, null, { X: false, Y: true }, { top: top, left: left });\n                    top = offset.top;\n                }\n            }\n        }\n        this.toggleVisiblity(ul, false);\n        ul.style.top = top + px;\n        ul.style.left = left + px;\n    };\n    ContextMenu.prototype.toggleVisiblity = function (ul, isVisible) {\n        if (isVisible === void 0) { isVisible = true; }\n        ul.style.visibility = isVisible ? 'hidden' : '';\n        ul.style.display = isVisible ? 'block' : 'none';\n    };\n    ContextMenu.prototype.createItems = function (items) {\n        var _this = this;\n        var showIcon = this.hasField(items, 'iconCss');\n        var listBaseOptions = {\n            showIcon: showIcon,\n            moduleName: 'menu',\n            itemCreating: function (args) {\n                args.curData.htmlAttributes = {\n                    role: 'menuitem',\n                    tabindex: '-1'\n                };\n            },\n            itemCreated: function (args) {\n                if (args.curData.separator) {\n                    args.item.classList.add(SEPARATOR);\n                    args.item.removeAttribute('role');\n                }\n                if (showIcon && !args.curData.iconCss && !args.curData.separator) {\n                    args.item.classList.add('e-blankicon');\n                }\n                if (args.curData.items && args.curData.items.length) {\n                    var span = createElement('span', { className: ICONS + ' ' + CARET });\n                    args.item.appendChild(span);\n                    args.item.setAttribute('aria-haspopup', 'true');\n                    args.item.setAttribute('aria-expanded', 'false');\n                    args.item.removeAttribute('role');\n                    args.item.classList.add('e-menu-caret-icon');\n                }\n                var eventArgs = { item: args.curData, element: args.item };\n                _this.trigger('beforeItemRender', eventArgs);\n            }\n        };\n        var ul = ListBase.createList(this.toRawObject(items.slice()), listBaseOptions, true);\n        ul.setAttribute('tabindex', '0');\n        return ul;\n    };\n    ContextMenu.prototype.toRawObject = function (items) {\n        var item;\n        var menuItems = [];\n        for (var i = 0, len = items.length; i < len; i++) {\n            item = items[i].properties;\n            menuItems.push(item);\n        }\n        return menuItems;\n    };\n    ContextMenu.prototype.moverHandler = function (e) {\n        var wrapper = this.getWrapper();\n        var trgt = e.target;\n        var cli = this.getLI(trgt);\n        if (cli && closest(cli, '.' + WRAPPER)) {\n            var fli = select('.' + FOCUSED, wrapper);\n            if (fli) {\n                fli.classList.remove(FOCUSED);\n            }\n            cli.classList.add(FOCUSED);\n            if (!this.showItemOnClick) {\n                this.clickHandler(e);\n            }\n        }\n    };\n    ContextMenu.prototype.hasField = function (items, field) {\n        for (var i = 0, len = items.length; i < len; i++) {\n            if (items[i][field]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    ContextMenu.prototype.getWrapper = function () {\n        return closest(this.element, '.' + WRAPPER);\n    };\n    ContextMenu.prototype.getTextContent = function (li) {\n        var node;\n        for (var i = 0; i < li.childNodes.length; i++) {\n            node = li.childNodes[i];\n            if (node.nodeType === 3 || (node.nodeType === 1 && node.classList.contains('e-menu-url'))) {\n                return node.textContent;\n            }\n        }\n        return '';\n    };\n    ContextMenu.prototype.clickHandler = function (e) {\n        if (this.isTapHold) {\n            this.isTapHold = false;\n        }\n        else {\n            var wrapper = this.getWrapper();\n            var trgt = e.target;\n            var cli = this.getLI(trgt);\n            var cliWrapper = cli ? closest(cli, '.' + WRAPPER) : null;\n            var isInstLI = cli && cliWrapper && wrapper.firstElementChild.id === cliWrapper.firstElementChild.id;\n            if (isInstLI && e.type === 'click' && !cli.classList.contains(HEADER)) {\n                this.setLISelected(cli);\n                var navIdx = this.getIndex(this.getTextContent(cli));\n                var item = this.getItem(navIdx);\n                var eventArgs = { element: cli, item: item };\n                this.trigger('select', eventArgs);\n            }\n            if (isInstLI && (e.type === 'mouseover' || Browser.isDevice || this.showItemOnClick)) {\n                var ul = void 0;\n                if (cli.classList.contains(HEADER)) {\n                    ul = wrapper.children[this.navIdx.length - 1];\n                    this.toggleAnimation(ul);\n                    var sli = this.getLIByClass(ul, SELECTED);\n                    if (sli) {\n                        sli.classList.remove(SELECTED);\n                    }\n                    detach(cli.parentNode);\n                    this.navIdx.pop();\n                }\n                else {\n                    if (!cli.classList.contains(SEPARATOR)) {\n                        var showSubMenu = true;\n                        var cul = cli.parentNode;\n                        var cliIdx = this.getIdx(cul, cli);\n                        if (!Browser.isDevice) {\n                            var culIdx = this.getIdx(wrapper, cul);\n                            if (this.navIdx[culIdx] === cliIdx) {\n                                showSubMenu = false;\n                            }\n                            if (culIdx !== this.navIdx.length && (e.type !== 'mouseover' || showSubMenu)) {\n                                var sli = this.getLIByClass(cul, SELECTED);\n                                if (sli) {\n                                    sli.classList.remove(SELECTED);\n                                }\n                                this.closeMenu(culIdx + 1, e);\n                            }\n                        }\n                        if (showSubMenu) {\n                            var idx = this.navIdx.concat(cliIdx);\n                            var item = this.getItem(idx);\n                            if (item.items.length) {\n                                if (e.type === 'mouseover') {\n                                    this.setLISelected(cli);\n                                }\n                                cli.setAttribute('aria-expanded', 'true');\n                                this.navIdx.push(cliIdx);\n                                this.openMenu(cli, item, null, null, e);\n                            }\n                            else {\n                                if (e.type !== 'mouseover') {\n                                    this.closeMenu(null, e);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                if (trgt.tagName !== 'UL' || trgt.parentElement !== wrapper) {\n                    if (!cli || !cli.querySelector('.' + CARET)) {\n                        this.closeMenu(null, e);\n                    }\n                }\n            }\n        }\n    };\n    ContextMenu.prototype.setLISelected = function (li) {\n        var sli = this.getLIByClass(li.parentElement, SELECTED);\n        if (sli) {\n            sli.classList.remove(SELECTED);\n        }\n        li.classList.remove(FOCUSED);\n        li.classList.add(SELECTED);\n    };\n    ContextMenu.prototype.getLIByClass = function (ul, classname) {\n        for (var i = 0, len = ul.children.length; i < len; i++) {\n            if (ul.children[i].classList.contains(classname)) {\n                return ul.children[i];\n            }\n        }\n        return null;\n    };\n    ContextMenu.prototype.getItem = function (navIdx) {\n        navIdx = navIdx.slice();\n        var idx = navIdx.pop();\n        var items = this.getItems(navIdx);\n        return items[idx];\n    };\n    ContextMenu.prototype.getItems = function (navIdx) {\n        var items = this.items;\n        for (var i = 0; i < navIdx.length; i++) {\n            items = items[navIdx[i]].items;\n        }\n        return items;\n    };\n    ContextMenu.prototype.getIdx = function (ul, li, skipHdr) {\n        if (skipHdr === void 0) { skipHdr = true; }\n        var idx = Array.prototype.indexOf.call(ul.children, li);\n        if (skipHdr && ul.children[0].classList.contains(HEADER)) {\n            idx--;\n        }\n        return idx;\n    };\n    ContextMenu.prototype.getLI = function (elem) {\n        if (elem.tagName === 'LI') {\n            return elem;\n        }\n        return closest(elem, 'li');\n    };\n    /**\n     * Called internally if any of the property value changed\n     * @private\n     * @param {ContextMenuModel} newProp\n     * @param {ContextMenuModel} oldProp\n     * @returns void\n     */\n    ContextMenu.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        wrapper.classList.remove(oldProp.cssClass);\n                    }\n                    if (newProp.cssClass) {\n                        wrapper.classList.add(newProp.cssClass);\n                    }\n                    break;\n                case 'enableRtl':\n                    wrapper.classList.toggle(RTL);\n                    break;\n                case 'filter':\n                    this.closeMenu();\n                    this.filter = newProp.filter;\n                    break;\n                case 'showItemOnClick':\n                    this.unWireEvents();\n                    this.showItemOnClick = newProp.showItemOnClick;\n                    this.wireEvents();\n                    break;\n                case 'target':\n                    this.unWireEvents();\n                    this.target = newProp.target;\n                    this.wireEvents();\n                    break;\n                case 'items':\n                    var idx = void 0;\n                    var navIdx = void 0;\n                    var item = void 0;\n                    var keys = Object.keys(newProp.items);\n                    for (var i = 0; i < keys.length; i++) {\n                        navIdx = this.getChangedItemIndex(newProp, [], Number(keys[i]));\n                        if (navIdx.length <= this.getWrapper().children.length) {\n                            idx = navIdx.pop();\n                            item = this.getItems(navIdx);\n                            this.insertAfter([item[idx]], item[idx].text);\n                            this.removeItem(item, navIdx, idx);\n                        }\n                        navIdx.length = 0;\n                    }\n                    break;\n            }\n        }\n    };\n    ContextMenu.prototype.getChangedItemIndex = function (newProp, index, idx) {\n        index.push(idx);\n        var key = Object.keys(newProp.items[idx]).pop();\n        if (key === 'items') {\n            var item = newProp.items[idx];\n            this.getChangedItemIndex(item, index, Number(Object.keys(item.items).pop()));\n        }\n        else {\n            if (key === 'isParentArray' && index.length > 1) {\n                index.pop();\n            }\n        }\n        return index;\n    };\n    ContextMenu.prototype.removeItem = function (item, navIdx, idx) {\n        item.splice(idx, 1);\n        var uls = this.getWrapper().children;\n        if (navIdx.length < uls.length) {\n            detach(uls[navIdx.length].children[idx]);\n        }\n    };\n    /**\n     * Used to unwire the bind events.\n     * @private\n     */\n    ContextMenu.prototype.unWireEvents = function () {\n        var wrapper = this.getWrapper();\n        if (this.target) {\n            var target = void 0;\n            var touchModule = void 0;\n            var targetElems = selectAll(this.target);\n            for (var i = 0, len = targetElems.length; i < len; i++) {\n                target = targetElems[i];\n                if (Browser.isIos) {\n                    touchModule = getInstance(target, Touch);\n                    if (touchModule) {\n                        touchModule.destroy();\n                    }\n                }\n                else {\n                    EventHandler.remove(target, 'contextmenu', this.cmenuHandler);\n                }\n            }\n            for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n                var parent_2 = _a[_i];\n                EventHandler.remove(parent_2, 'scroll', this.scrollHandler);\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.remove(wrapper, 'mouseover', this.moverHandler);\n            EventHandler.remove(document, 'mousedown', this.mouseDownHandler);\n        }\n        EventHandler.remove(document, 'click', this.delegateClickHandler);\n        var keyboardModule = getInstance(wrapper, KeyboardEvents);\n        if (keyboardModule) {\n            keyboardModule.destroy();\n        }\n    };\n    ContextMenu.prototype.toggleAnimation = function (ul, isMenuOpen) {\n        var _this = this;\n        if (isMenuOpen === void 0) { isMenuOpen = true; }\n        if (this.animationSettings.effect === 'None' || !isMenuOpen) {\n            this.end(ul, isMenuOpen);\n        }\n        else {\n            this.animation.animate(ul, {\n                name: this.animationSettings.effect,\n                duration: this.animationSettings.duration,\n                timingFunction: this.animationSettings.easing,\n                begin: function (options) {\n                    options.element.style.display = 'block';\n                    options.element.style.maxHeight = options.element.getBoundingClientRect().height + 'px';\n                },\n                end: function (options) {\n                    _this.end(options.element, isMenuOpen);\n                }\n            });\n        }\n    };\n    ContextMenu.prototype.end = function (ul, isMenuOpen) {\n        if (isMenuOpen) {\n            ul.style.display = 'block';\n            ul.style.maxHeight = '';\n            var item = this.navIdx.length ? this.getItem(this.navIdx) : null;\n            var eventArgs = { element: ul, parentItem: item, items: item ? item.items : this.items };\n            this.trigger('onOpen', eventArgs);\n            if (ul.querySelector('.' + FOCUSED)) {\n                ul.querySelector('.' + FOCUSED).focus();\n            }\n            else {\n                var ele = void 0;\n                ele = this.getWrapper().children[this.getIdx(this.getWrapper(), ul) - 1];\n                if (ele) {\n                    ele.querySelector('.' + SELECTED).focus();\n                }\n                else {\n                    this.element.focus();\n                }\n            }\n        }\n        else {\n            if (ul === this.element) {\n                var fli = this.getLIByClass(this.element, FOCUSED);\n                if (fli) {\n                    fli.classList.remove(FOCUSED);\n                }\n                var sli = this.getLIByClass(this.element, SELECTED);\n                if (sli) {\n                    sli.classList.remove(SELECTED);\n                }\n                ul.style.display = 'none';\n            }\n            else {\n                detach(ul);\n            }\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     */\n    ContextMenu.prototype.getPersistData = function () {\n        return '';\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextmenu';\n    };\n    ContextMenu.prototype.getIndex = function (data, items, navIdx, isCallBack) {\n        if (items === void 0) { items = this.items; }\n        if (navIdx === void 0) { navIdx = []; }\n        if (isCallBack === void 0) { isCallBack = false; }\n        var item;\n        for (var i = 0, len = items.length; i < len; i++) {\n            item = items[i];\n            if (item.text === data) {\n                navIdx.push(i);\n                break;\n            }\n            else if (item.items.length) {\n                navIdx = this.getIndex(data, item.items, navIdx, true);\n                if (navIdx[navIdx.length - 1] === -1) {\n                    if (i !== len - 1) {\n                        navIdx.pop();\n                    }\n                }\n                else {\n                    navIdx.unshift(i);\n                    break;\n                }\n            }\n            else {\n                if (i === len - 1) {\n                    navIdx.push(-1);\n                }\n            }\n        }\n        return (!isCallBack && navIdx[0] === -1) ? [] : navIdx;\n    };\n    /**\n     * This method is used to enable or disable the menu items in the ContextMenu based on the items and enable argument.\n     * @param items Text items that needs to be enabled/disabled.\n     * @param enable Set `true`/`false` to enable/disable the list items.\n     * @returns void\n     */\n    ContextMenu.prototype.enableItems = function (items, enable) {\n        if (enable === void 0) { enable = true; }\n        var ul;\n        var idx;\n        var navIdx;\n        var disabled = DISABLED;\n        var wrapper = this.getWrapper();\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i]);\n            idx = navIdx.pop();\n            ul = wrapper.children[navIdx.length];\n            if (ul) {\n                if (enable) {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[idx + 1].classList.remove(disabled);\n                    }\n                    else {\n                        ul.children[idx].classList.remove(disabled);\n                    }\n                }\n                else {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[idx + 1].classList.add(disabled);\n                    }\n                    else {\n                        ul.children[idx].classList.add(disabled);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * This method is used to show the menu items in the ContextMenu based on the items text.\n     * @param items Text items that needs to be shown.\n     * @returns void\n     */\n    ContextMenu.prototype.showItems = function (items) {\n        this.showHideItems(items, false);\n    };\n    /**\n     * This method is used to hide the menu items in the ContextMenu based on the items text.\n     * @param items Text items that needs to be hidden.\n     * @returns void\n     */\n    ContextMenu.prototype.hideItems = function (items) {\n        this.showHideItems(items, true);\n    };\n    ContextMenu.prototype.showHideItems = function (items, ishide) {\n        var ul;\n        var idx;\n        var navIdx;\n        var wrapper = this.getWrapper();\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i]);\n            idx = navIdx.pop();\n            ul = wrapper.children[navIdx.length];\n            if (ul) {\n                if (ishide) {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[idx + 1].classList.add(HIDE);\n                    }\n                    else {\n                        ul.children[idx].classList.add(HIDE);\n                    }\n                }\n                else {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[idx + 1].classList.remove(HIDE);\n                    }\n                    else {\n                        ul.children[idx].classList.remove(HIDE);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * It is used to remove the menu items from the ContextMenu based on the items text.\n     * @param items Text items that needs to be removed.\n     * @returns void\n     */\n    ContextMenu.prototype.removeItems = function (items) {\n        var idx;\n        var navIdx;\n        var iitems;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i]);\n            idx = navIdx.pop();\n            iitems = this.getItems(navIdx);\n            this.removeItem(iitems, navIdx, idx);\n        }\n    };\n    /**\n     * It is used to insert the menu items after the specified menu item text.\n     * @param items Items that needs to be inserted.\n     * @param text Text item after that the element to be inserted.\n     * @returns void\n     */\n    ContextMenu.prototype.insertAfter = function (items, text) {\n        this.insertItems(items, text);\n    };\n    /**\n     * It is used to insert the menu items before the specified menu item text.\n     * @param items Items that needs to be inserted.\n     * @param text Text item before that the element to be inserted.\n     * @returns void\n     */\n    ContextMenu.prototype.insertBefore = function (items, text) {\n        this.insertItems(items, text, false);\n    };\n    ContextMenu.prototype.insertItems = function (items, text, isAfter) {\n        if (isAfter === void 0) { isAfter = true; }\n        var li;\n        var idx;\n        var navIdx;\n        var iitems;\n        var menuitem;\n        var showIcon;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(text);\n            idx = navIdx.pop();\n            iitems = this.getItems(navIdx);\n            menuitem = new MenuItem(iitems[0], null, items[i], true);\n            iitems.splice(isAfter ? idx + 1 : idx, 0, menuitem);\n            var uls = this.getWrapper().children;\n            if (navIdx.length < uls.length) {\n                idx = isAfter ? idx + 1 : idx;\n                showIcon = this.hasField(iitems, 'iconCss');\n                li = this.createItems(iitems).children[idx];\n                uls[navIdx.length].insertBefore(li, uls[navIdx.length].children[idx]);\n            }\n        }\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    ContextMenu.prototype.destroy = function () {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        if (wrapper) {\n            _super.prototype.destroy.call(this);\n            this.unWireEvents();\n            if (this.ngElement) {\n                this.ngElement.style.display = 'block';\n            }\n            else {\n                this.closeMenu();\n                this.element.innerHTML = '';\n                ['top', 'left', 'display', 'z-index'].forEach(function (key) {\n                    _this.element.style.removeProperty(key);\n                });\n                ['role', 'tabindex', 'class', 'style'].forEach(function (key) {\n                    if (['class', 'style'].indexOf(key) === -1 || !_this.element.getAttribute(key)) {\n                        _this.element.removeAttribute(key);\n                    }\n                });\n                wrapper.parentNode.insertBefore(this.element, wrapper);\n            }\n            detach(wrapper);\n        }\n    };\n    __decorate([\n        Property('')\n    ], ContextMenu.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], ContextMenu.prototype, \"filter\", void 0);\n    __decorate([\n        Property(false)\n    ], ContextMenu.prototype, \"showItemOnClick\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], ContextMenu.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], ContextMenu.prototype, \"target\", void 0);\n    __decorate([\n        Property({ duration: 400, easing: 'ease', effect: 'SlideDown' })\n    ], ContextMenu.prototype, \"animationSettings\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"onOpen\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"onClose\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"select\", void 0);\n    ContextMenu = __decorate([\n        NotifyPropertyChanges\n    ], ContextMenu);\n    return ContextMenu;\n}(Component));\nexport { ContextMenu };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, closest, Collection, Complex, attributes, detach } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, select, isVisible } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, Browser, formatUnit, L10n } from '@syncfusion/ej2-base';\nimport { createElement as buildTag, setStyleAttribute as setStyle, isNullOrUndefined as isNOU, selectAll } from '@syncfusion/ej2-base';\nimport { EventHandler, rippleEffect, Touch, compile, Animation } from '@syncfusion/ej2-base';\nimport { Toolbar } from '../toolbar/toolbar';\nvar CLS_TAB = 'e-tab';\nvar CLS_HEADER = 'e-tab-header';\nvar CLS_CONTENT = 'e-content';\nvar CLS_NEST = 'e-nested';\nvar CLS_ITEMS = 'e-items';\nvar CLS_ITEM = 'e-item';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_RTL = 'e-rtl';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_DISABLE = 'e-disable';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_FOCUS = 'e-focused';\nvar CLS_ICONS = 'e-icons';\nvar CLS_ICON = 'e-icon';\nvar CLS_ICON_CLOSE = 'e-close-icon';\nvar CLS_CLOSE_SHOW = 'e-close-show';\nvar CLS_TEXT = 'e-tab-text';\nvar CLS_INDICATOR = 'e-indicator';\nvar CLS_WRAP = 'e-tab-wrap';\nvar CLS_TEXT_WRAP = 'e-text-wrap';\nvar CLS_TAB_ICON = 'e-tab-icon';\nvar CLS_TB_ITEMS = 'e-toolbar-items';\nvar CLS_TB_ITEM = 'e-toolbar-item';\nvar CLS_TB_POP = 'e-toolbar-pop';\nvar CLS_TB_POPUP = 'e-toolbar-popup';\nvar CLS_POPUP_OPEN = 'e-popup-open';\nvar CLS_POPUP_CLOSE = 'e-popup-close';\nvar CLS_PROGRESS = 'e-progress';\nvar CLS_IGNORE = 'e-ignore';\nvar CLS_OVERLAY = 'e-overlay';\nvar TabActionSettings = /** @class */ (function (_super) {\n    __extends(TabActionSettings, _super);\n    function TabActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideLeftIn')\n    ], TabActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(600)\n    ], TabActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('ease')\n    ], TabActionSettings.prototype, \"easing\", void 0);\n    return TabActionSettings;\n}(ChildProperty));\nexport { TabActionSettings };\nvar TabAnimationSettings = /** @class */ (function (_super) {\n    __extends(TabAnimationSettings, _super);\n    function TabAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideLeftIn', duration: 600, easing: 'ease' }, TabActionSettings)\n    ], TabAnimationSettings.prototype, \"previous\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideRightIn', duration: 600, easing: 'ease' }, TabActionSettings)\n    ], TabAnimationSettings.prototype, \"next\", void 0);\n    return TabAnimationSettings;\n}(ChildProperty));\nexport { TabAnimationSettings };\n/**\n * Objects used for configuring the Tab item header properties.\n */\nvar Header = /** @class */ (function (_super) {\n    __extends(Header, _super);\n    function Header() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Header.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], Header.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('left')\n    ], Header.prototype, \"iconPosition\", void 0);\n    return Header;\n}(ChildProperty));\nexport { Header };\n/**\n * An array of object that is used to configure the Tab.\n */\nvar TabItem = /** @class */ (function (_super) {\n    __extends(TabItem, _super);\n    function TabItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({}, Header)\n    ], TabItem.prototype, \"header\", void 0);\n    __decorate([\n        Property('')\n    ], TabItem.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], TabItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], TabItem.prototype, \"disabled\", void 0);\n    return TabItem;\n}(ChildProperty));\nexport { TabItem };\n/**\n * Tab is a content panel to show multiple contents in a single space, one at a time.\n * Each Tab item has an associated content, that will be displayed based on the active Tab header item.\n * ```html\n * <div id=\"tab\"></div>\n * <script>\n *   var tabObj = new Tab();\n *   tab.appendTo(\"#tab\");\n * </script>\n * ```\n */\nvar Tab = /** @class */ (function (_super) {\n    __extends(Tab, _super);\n    /**\n     * Initializes a new instance of the Tab class.\n     * @param options  - Specifies Tab model properties as options.\n     * @param element  - Specifies the element that is rendered as a Tab.\n     */\n    function Tab(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.prevIndex = 0;\n        _this.show = { name: 'SlideDown', duration: 100 };\n        _this.hide = { name: 'SlideUp', duration: 100 };\n        _this.animateOptions = {};\n        _this.animObj = new Animation(_this.animateOptions);\n        _this.maxHeight = 0;\n        _this.title = 'Close';\n        /**\n         * Contains the keyboard configuration of the Tab.\n         */\n        _this.keyConfigs = {\n            tab: 'tab',\n            home: 'home',\n            end: 'end',\n            enter: 'enter',\n            space: 'space',\n            delete: 'delete',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow'\n        };\n        return _this;\n    }\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers, attributes and classes.\n     * @returns void\n     */\n    Tab.prototype.destroy = function () {\n        var _this = this;\n        if (!isNOU(this.tbObj)) {\n            this.tbObj.destroy();\n        }\n        this.unWireEvents();\n        ['role', 'aria-disabled', 'aria-activedescendant', 'tabindex', 'aria-orientation'].forEach(function (val) {\n            _this.element.removeAttribute(val);\n        });\n        this.expTemplateContent();\n        if (!this.isTemplate) {\n            this.element.innerHTML = '';\n        }\n        else {\n            var cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n            this.element.classList.remove(CLS_TEMPLATE);\n            if (!isNOU(cntEle)) {\n                cntEle.innerHTML = this.cnt;\n            }\n        }\n        _super.prototype.destroy.call(this);\n        this.trigger('destroyed');\n    };\n    /**\n     * Initialize component\n     * @private\n     */\n    Tab.prototype.preRender = function () {\n        var nested = closest(this.element, '.' + CLS_CONTENT);\n        this.isNested = false;\n        this.isPopup = false;\n        this.initRender = true;\n        this.isSwipeed = false;\n        this.templateEle = [];\n        if (!isNOU(nested)) {\n            nested.parentElement.classList.add(CLS_NEST);\n            this.isNested = true;\n        }\n        var name = Browser.info.name;\n        var css = (name === 'msie') ? 'e-ie' : (name === 'edge') ? 'e-edge' : (name === 'safari') ? 'e-safari' : '';\n        setStyle(this.element, { 'width': formatUnit(this.width), 'height': formatUnit(this.height) });\n        this.setCssClass(this.element, this.cssClass, true);\n        attributes(this.element, { role: 'tablist', 'aria-disabled': 'false', 'aria-activedescendant': '' });\n        this.setCssClass(this.element, css, true);\n    };\n    /**\n     * Initialize the component rendering\n     * @private\n     */\n    Tab.prototype.render = function () {\n        this.renderContainer();\n        this.wireEvents();\n        this.initRender = false;\n    };\n    Tab.prototype.renderContainer = function () {\n        var ele = this.element;\n        if (this.items.length > 0 && ele.children.length === 0) {\n            ele.appendChild(buildTag('div', { className: CLS_CONTENT }));\n            this.setOrientation(this.headerPlacement, buildTag('div', { className: CLS_HEADER }));\n            this.isTemplate = false;\n        }\n        else if (this.element.children.length > 0) {\n            this.isTemplate = true;\n            ele.classList.add(CLS_TEMPLATE);\n            var header = ele.querySelector('.' + CLS_HEADER);\n            if (header && this.headerPlacement === 'Bottom') {\n                this.setOrientation(this.headerPlacement, header);\n            }\n        }\n        if (!isNOU(select('.' + CLS_HEADER, this.element)) && !isNOU(select('.' + CLS_CONTENT, this.element))) {\n            this.renderHeader();\n            this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n            if (!isNOU(this.tbItems)) {\n                rippleEffect(this.tbItems, { selector: '.e-tab-wrap' });\n            }\n            this.renderContent();\n            if (selectAll('.' + CLS_TB_ITEM, this.element).length > 0) {\n                this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n                this.bdrLine = buildTag('div', { className: CLS_INDICATOR + ' ' + CLS_HIDDEN + ' ' + CLS_IGNORE });\n                var scrCnt = select('.e-hscroll-content', this.tbItems);\n                if (!isNOU(scrCnt)) {\n                    scrCnt.insertBefore(this.bdrLine, scrCnt.firstChild);\n                }\n                else {\n                    this.tbItems.insertBefore(this.bdrLine, this.tbItems.firstChild);\n                }\n                this.setContentHeight(true);\n                this.select(this.selectedItem);\n            }\n            this.setRTL(this.enableRtl);\n        }\n    };\n    Tab.prototype.renderHeader = function () {\n        var _this = this;\n        var tabItems = [];\n        this.hdrEle = select('.' + CLS_HEADER, this.element);\n        this.btnCls = buildTag('span', { className: CLS_ICONS + ' ' + CLS_ICON_CLOSE, attrs: { title: this.title } }).outerHTML;\n        if (!this.isTemplate) {\n            tabItems = this.parseObject(this.items, 0);\n        }\n        else {\n            var count = this.hdrEle.children.length;\n            var hdrItems = [];\n            for (var i = 0; i < count; i++) {\n                hdrItems.push(this.hdrEle.children.item(i).innerHTML);\n            }\n            if (count > 0) {\n                this.hdrEle.innerHTML = '';\n                this.hdrEle.appendChild(buildTag('div', { className: CLS_ITEMS }));\n                hdrItems.forEach(function (item, index) {\n                    var attr = {\n                        className: CLS_ITEM, id: CLS_ITEM + '_' + index,\n                        attrs: { role: 'tab', 'aria-controls': CLS_CONTENT + '_' + index, 'aria-selected': 'false' }\n                    };\n                    var txt = buildTag('span', { className: CLS_TEXT, innerHTML: item, attrs: { 'role': 'presentation' } }).outerHTML;\n                    var cont = buildTag('div', { className: CLS_TEXT_WRAP, innerHTML: txt + _this.btnCls }).outerHTML;\n                    var wrap = buildTag('div', { className: CLS_WRAP, innerHTML: cont, attrs: { tabIndex: '-1' } });\n                    select('.' + CLS_ITEMS, _this.element).appendChild(buildTag('div', attr));\n                    selectAll('.' + CLS_ITEM, _this.element)[index].appendChild(wrap);\n                });\n            }\n        }\n        this.tbObj = new Toolbar({\n            width: '100%',\n            overflowMode: this.overflowMode,\n            items: (tabItems.length !== 0) ? tabItems : [],\n            clicked: this.clickHandler.bind(this)\n        });\n        this.tbObj.appendTo(this.hdrEle);\n        attributes(this.element, { 'aria-orientation': 'horizontal' });\n        this.setCloseButton(this.showCloseButton);\n        this.setProperties({ headerPlacement: (this.element.children.item(0).classList.contains(CLS_HEADER)) ? 'Top' : 'Bottom' }, true);\n    };\n    Tab.prototype.renderContent = function () {\n        this.cntEle = select('.' + CLS_CONTENT, this.element);\n        var hdrItem = selectAll('.' + CLS_TB_ITEM, this.element);\n        if (this.isTemplate) {\n            this.cnt = (this.cntEle.children.length > 0) ? this.cntEle.innerHTML : '';\n            var contents = this.cntEle.children;\n            for (var i = 0; i < hdrItem.length; i++) {\n                if (contents.length - 1 >= i) {\n                    contents.item(i).className += CLS_ITEM;\n                    attributes(contents.item(i), { 'role': 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + i });\n                    contents.item(i).id = CLS_CONTENT + '_' + i;\n                }\n            }\n        }\n    };\n    Tab.prototype.parseObject = function (items, index) {\n        var _this = this;\n        var inHTML = '';\n        var tbCount = selectAll('.' + CLS_TB_ITEM, this.element).length;\n        var tItems = [];\n        items.forEach(function (item, i) {\n            var pos = (isNOU(item.header.iconPosition)) ? '' : item.header.iconPosition;\n            var css = (isNOU(item.header.iconCss)) ? '' : item.header.iconCss;\n            var txt = item.header.text;\n            var id = ((tbCount === 0) ? i : (_this.isReplace === true) ? (i + index) : tbCount + i);\n            var disabled = (item.disabled) ? ' ' + CLS_DISABLE + ' ' + CLS_OVERLAY : '';\n            var tHtml = ((txt instanceof Object) ? txt.outerHTML : txt);\n            var txtEmpty = (!isNOU(tHtml) && tHtml !== '');\n            var tEle = (txtEmpty) ? buildTag('div', {\n                className: CLS_TEXT, innerHTML: tHtml, attrs: { 'role': 'presentation' }\n            }).outerHTML : '';\n            var icon = buildTag('span', {\n                className: CLS_ICONS + ' ' + CLS_TAB_ICON + ' ' + CLS_ICON + '-' + pos + ' ' + css\n            }).outerHTML;\n            if ((txt === '' || txt === undefined) && css === '') {\n                return;\n            }\n            else {\n                if ((txt !== '' && txt !== undefined) && css !== '') {\n                    inHTML = (pos === 'left' || pos === 'top') ? icon + '' + tEle : tEle + '' + icon;\n                }\n                else {\n                    inHTML = (css === '') ? tEle : icon;\n                }\n            }\n            var wrapAttrs = (item.disabled) ? {} : { tabIndex: '-1' };\n            var tCont = buildTag('div', { className: CLS_TEXT_WRAP, innerHTML: inHTML + '' + _this.btnCls }).outerHTML;\n            var wrap = buildTag('div', { className: CLS_WRAP, innerHTML: tCont, attrs: wrapAttrs });\n            var attrObj = {\n                id: CLS_ITEM + '_' + id, role: 'tab', 'aria-selected': 'false'\n            };\n            var tItem = { htmlAttributes: attrObj, template: wrap.outerHTML };\n            tItem.cssClass = item.cssClass + ' ' + disabled + ' ' + ((css !== '') ? 'e-i' + pos : '') + ' ' + ((!txtEmpty) ? CLS_ICON : '');\n            if (pos === 'top' || pos === 'bottom') {\n                _this.element.classList.add('e-vertical-icon');\n            }\n            tItems.push(tItem);\n        });\n        return tItems;\n    };\n    Tab.prototype.removeActiveClass = function (id) {\n        var hdrActEle = selectAll(':root .' + CLS_HEADER + ' .' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element)[0];\n        if (this.headerPlacement === 'Bottom') {\n            hdrActEle = selectAll(':root .' + CLS_HEADER + ' .' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element.children[1])[0];\n        }\n        if (!isNOU(hdrActEle)) {\n            hdrActEle.classList.remove(CLS_ACTIVE);\n            var no = this.extIndex(hdrActEle.id);\n            var trg = this.findEle(select('.' + CLS_CONTENT, this.element).children, CLS_CONTENT + '_' + no);\n        }\n    };\n    Tab.prototype.checkPopupOverflow = function (ele) {\n        this.tbPop = select('.' + CLS_TB_POP, this.element);\n        var popIcon = select('.e-hor-nav', this.element);\n        var tbrItems = select('.' + CLS_TB_ITEMS, this.element);\n        if ((this.enableRtl && ((popIcon.offsetLeft + popIcon.offsetWidth) > tbrItems.offsetLeft))\n            || (!this.enableRtl && popIcon.offsetLeft < tbrItems.offsetWidth)) {\n            ele.classList.add(CLS_TB_POPUP);\n            this.tbPop.insertBefore(ele.cloneNode(true), selectAll('.' + CLS_TB_POPUP, this.tbPop)[0]);\n            ele.outerHTML = '';\n        }\n        return true;\n    };\n    Tab.prototype.popupHandler = function (target) {\n        var ripEle = target.querySelector('.e-ripple-element');\n        if (!isNOU(ripEle)) {\n            ripEle.outerHTML = '';\n            target.querySelector('.' + CLS_WRAP).classList.remove('e-ripple');\n        }\n        this.tbItem = selectAll('.' + CLS_TB_ITEMS + ' .' + CLS_TB_ITEM, this.hdrEle);\n        var lastChild = this.tbItem[this.tbItem.length - 1];\n        if (this.tbItem.length !== 0) {\n            target.classList.remove(CLS_TB_POPUP);\n            this.tbItems.appendChild(target.cloneNode(true));\n            this.actEleId = target.id;\n            target.outerHTML = '';\n            if (this.checkPopupOverflow(lastChild)) {\n                var prevEle = this.tbItems.lastChild.previousElementSibling;\n                this.checkPopupOverflow(prevEle);\n            }\n            this.isPopup = true;\n        }\n        return selectAll('.' + CLS_TB_ITEM, this.tbItems).length - 1;\n    };\n    Tab.prototype.setCloseButton = function (val) {\n        var trg = select('.' + CLS_HEADER, this.element);\n        (val === true) ? trg.classList.add(CLS_CLOSE_SHOW) : trg.classList.remove(CLS_CLOSE_SHOW);\n        this.tbObj.refreshOverflow();\n        this.refreshActElePosition();\n    };\n    Tab.prototype.prevCtnAnimation = function (prev, current) {\n        var animation;\n        var checkRTL = this.enableRtl || this.element.classList.contains(CLS_RTL);\n        if (this.isPopup || prev <= current) {\n            if (this.animation.previous.effect === 'SlideLeftIn') {\n                animation = { name: 'SlideLeftOut',\n                    duration: this.animation.previous.duration, timingFunction: this.animation.previous.easing };\n            }\n            else {\n                animation = null;\n            }\n        }\n        else {\n            if (this.animation.next.effect === 'SlideRightIn') {\n                animation = { name: 'SlideRightOut',\n                    duration: this.animation.next.duration, timingFunction: this.animation.next.easing };\n            }\n            else {\n                animation = null;\n            }\n        }\n        return animation;\n    };\n    Tab.prototype.triggerPrevAnimation = function (oldCnt, prevIndex) {\n        var animateObj = this.prevCtnAnimation(prevIndex, this.selectedItem);\n        if (!isNOU(animateObj)) {\n            animateObj.begin = function () {\n                setStyle(oldCnt, { 'position': 'absolute' });\n                oldCnt.classList.add(CLS_PROGRESS);\n                oldCnt.classList.add('e-view');\n            };\n            animateObj.end = function () {\n                oldCnt.style.display = 'none';\n                oldCnt.classList.remove(CLS_ACTIVE);\n                oldCnt.classList.remove(CLS_PROGRESS);\n                oldCnt.classList.remove('e-view');\n                setStyle(oldCnt, { 'display': '', 'position': '' });\n            };\n            new Animation(animateObj).animate(oldCnt);\n        }\n        else {\n            oldCnt.classList.remove(CLS_ACTIVE);\n        }\n    };\n    Tab.prototype.triggerAnimation = function (id, value) {\n        var _this = this;\n        var prevIndex = this.prevIndex;\n        var itemCollection = [].slice.call(this.element.querySelector('.' + CLS_CONTENT).children);\n        var oldCnt;\n        itemCollection.forEach(function (item) {\n            if (item.id === _this.prevActiveEle) {\n                oldCnt = item;\n            }\n        });\n        var prevEle = this.tbItem[prevIndex];\n        var no = this.extIndex(this.tbItem[this.selectedItem].id);\n        var newCnt = this.getTrgContent(this.cntEle, no);\n        if (isNOU(oldCnt) && !isNOU(prevEle)) {\n            var idNo = this.extIndex(prevEle.id);\n            oldCnt = this.getTrgContent(this.cntEle, idNo);\n        }\n        if (this.initRender || value === false || this.animation === {} || isNOU(this.animation)) {\n            if (oldCnt && oldCnt !== newCnt) {\n                oldCnt.classList.remove(CLS_ACTIVE);\n            }\n            return;\n        }\n        var cnt = select('.' + CLS_CONTENT, this.element);\n        var animateObj;\n        if (this.prevIndex > this.selectedItem && !this.isPopup) {\n            var openEff = this.animation.previous.effect;\n            animateObj = {\n                name: ((openEff === 'None') ? '' : ((openEff !== 'SlideLeftIn') ? openEff : 'SlideLeftIn')),\n                duration: this.animation.previous.duration,\n                timingFunction: this.animation.previous.easing\n            };\n        }\n        else if (this.isPopup || this.prevIndex < this.selectedItem || this.prevIndex === this.selectedItem) {\n            var clsEff = this.animation.next.effect;\n            animateObj = {\n                name: ((clsEff === 'None') ? '' : ((clsEff !== 'SlideRightIn') ? clsEff : 'SlideRightIn')),\n                duration: this.animation.next.duration,\n                timingFunction: this.animation.next.easing\n            };\n        }\n        animateObj.progress = function () {\n            cnt.classList.add(CLS_PROGRESS);\n            _this.setActiveBorder();\n        };\n        animateObj.end = function () {\n            cnt.classList.remove(CLS_PROGRESS);\n            newCnt.classList.add(CLS_ACTIVE);\n        };\n        if (!this.initRender) {\n            this.triggerPrevAnimation(oldCnt, prevIndex);\n        }\n        this.prevActiveEle = newCnt.id;\n        this.isPopup = false;\n        if (animateObj.name === '') {\n            newCnt.classList.add(CLS_ACTIVE);\n        }\n        else {\n            new Animation(animateObj).animate(newCnt);\n        }\n    };\n    Tab.prototype.keyPressed = function (trg) {\n        var trgParent = closest(trg, '.' + CLS_HEADER + ' .' + CLS_TB_ITEM);\n        var trgIndex = this.getEleIndex(trgParent);\n        if (!isNOU(this.popEle) && trg.classList.contains('e-hor-nav')) {\n            (this.popEle.classList.contains(CLS_POPUP_OPEN)) ? this.popObj.hide(this.hide) : this.popObj.show(this.show);\n        }\n        else if (trg.classList.contains('e-scroll-nav')) {\n            trg.click();\n        }\n        else {\n            if (!isNOU(trgParent) && trgParent.classList.contains(CLS_ACTIVE) === false) {\n                this.select(trgIndex);\n                if (!isNOU(this.popEle)) {\n                    this.popObj.hide(this.hide);\n                }\n            }\n        }\n    };\n    Tab.prototype.getEleIndex = function (item) {\n        return Array.prototype.indexOf.call(selectAll('.' + CLS_HEADER + ' .' + CLS_TB_ITEM, this.element), item);\n    };\n    Tab.prototype.extIndex = function (id) {\n        return id.replace(CLS_ITEM + '_', '');\n    };\n    Tab.prototype.expTemplateContent = function () {\n        var _this = this;\n        this.templateEle.forEach(function (eleStr) {\n            document.body.appendChild(_this.element.querySelector(eleStr)).style.display = 'none';\n        });\n    };\n    Tab.prototype.templateCompile = function (ele, cnt) {\n        var tempEle = buildTag('div');\n        var templateFn = compile(cnt);\n        if (!isNOU(templateFn) && templateFn().length > 0) {\n            [].slice.call(templateFn()).forEach(function (el) {\n                tempEle.appendChild(el);\n            });\n            ele.appendChild(tempEle);\n        }\n    };\n    Tab.prototype.getContent = function (ele, index, callType) {\n        var eleStr;\n        var cnt = this.items[Number(index)].content;\n        if (typeof cnt === 'string' || isNOU(cnt.innerHTML)) {\n            if (cnt[0] === '.' || cnt[0] === '#') {\n                if (document.querySelectorAll(cnt).length) {\n                    var eleVal = document.querySelector(cnt);\n                    eleStr = eleVal.outerHTML.trim();\n                    if (callType === 'clone') {\n                        ele.appendChild(eleVal.cloneNode(true));\n                    }\n                    else {\n                        ele.appendChild(eleVal);\n                        eleVal.style.display = '';\n                    }\n                }\n                else {\n                    this.templateCompile(ele, cnt);\n                }\n            }\n            else {\n                this.templateCompile(ele, cnt);\n            }\n        }\n        else {\n            ele.innerHTML = cnt.outerHTML;\n        }\n        if (!isNOU(eleStr)) {\n            this.templateEle.push(cnt.toString());\n        }\n    };\n    Tab.prototype.getTrgContent = function (cntEle, no) {\n        var ele;\n        if (this.element.classList.contains(CLS_NEST)) {\n            ele = select('.' + CLS_NEST + '> .' + CLS_CONTENT + ' > #' + CLS_CONTENT + '_' + no, this.element);\n        }\n        else {\n            ele = this.findEle(cntEle.children, CLS_CONTENT + '_' + no);\n        }\n        return ele;\n    };\n    Tab.prototype.findEle = function (items, key) {\n        var ele;\n        for (var i = 0; i < items.length; i++) {\n            if (items[i].id === key) {\n                ele = items[i];\n                break;\n            }\n        }\n        return ele;\n    };\n    Tab.prototype.setOrientation = function (place, ele) {\n        (place === 'Bottom') ? this.element.appendChild(ele) : this.element.insertBefore(ele, select('.' + CLS_CONTENT, this.element));\n    };\n    Tab.prototype.setCssClass = function (ele, cls, val) {\n        if (cls === '') {\n            return;\n        }\n        var list = cls.split(' ');\n        for (var i = 0; i < list.length; i++) {\n            if (val) {\n                ele.classList.add(list[i]);\n            }\n            else {\n                ele.classList.remove(list[i]);\n            }\n        }\n    };\n    Tab.prototype.setContentHeight = function (val) {\n        if (isNOU(this.cntEle)) {\n            return;\n        }\n        var height;\n        var hdrEle = select('.' + CLS_HEADER, this.element);\n        if (this.heightAdjustMode === 'None') {\n            if (this.height === 'auto') {\n                return;\n            }\n            else {\n                setStyle(this.cntEle, { 'height': (this.element.offsetHeight - hdrEle.offsetHeight) + 'px' });\n            }\n        }\n        else if (this.heightAdjustMode === 'Fill') {\n            setStyle(this.element, { 'height': '100%' });\n            setStyle(this.cntEle, { 'height': 'auto' });\n        }\n        else if (this.heightAdjustMode === 'Auto') {\n            var cnt = selectAll('.' + CLS_CONTENT + ' > .' + CLS_ITEM, this.element);\n            if (this.isTemplate === true) {\n                for (var i = 0; i < cnt.length; i++) {\n                    cnt[i].setAttribute('style', 'display:block; visibility: visible');\n                    this.maxHeight = Math.max(this.maxHeight, this.getHeight(cnt[i]));\n                    cnt[i].style.removeProperty('display');\n                    cnt[i].style.removeProperty('visibility');\n                }\n            }\n            else {\n                this.cntEle = select('.' + CLS_CONTENT, this.element);\n                if (val === true) {\n                    this.cntEle.appendChild(buildTag('div', {\n                        id: (CLS_CONTENT + '_' + 0), className: CLS_ITEM + ' ' + CLS_ACTIVE,\n                        attrs: { 'role': 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + 0 }\n                    }));\n                }\n                var ele = this.cntEle.children.item(0);\n                for (var i = 0; i < this.items.length; i++) {\n                    this.getContent(ele, i, 'clone');\n                    this.maxHeight = Math.max(this.maxHeight, this.getHeight(ele));\n                    ele.innerHTML = '';\n                }\n                this.templateEle = [];\n                this.getContent(ele, 0, 'render');\n                ele.classList.remove(CLS_ACTIVE);\n            }\n            setStyle(this.cntEle, { 'height': this.maxHeight + 'px' });\n        }\n        else {\n            setStyle(this.cntEle, { 'height': 'auto' });\n        }\n    };\n    Tab.prototype.getHeight = function (ele) {\n        var cs = window.getComputedStyle(ele);\n        return ele.offsetHeight + parseFloat(cs.getPropertyValue('padding-top')) + parseFloat(cs.getPropertyValue('padding-bottom')) +\n            parseFloat(cs.getPropertyValue('margin-top')) + parseFloat(cs.getPropertyValue('margin-bottom'));\n    };\n    Tab.prototype.setActiveBorder = function () {\n        var trg = select('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element);\n        if (this.headerPlacement === 'Bottom') {\n            trg = select('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element.children[1]);\n        }\n        if (trg === null) {\n            return;\n        }\n        var root = closest(trg, '.' + CLS_TAB);\n        if (this.element !== root) {\n            return;\n        }\n        var hsCnt = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS + ' .e-hscroll-content', this.element.children[0]);\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        var bar = select('.' + CLS_HEADER + ' .' + CLS_INDICATOR, this.element);\n        if (this.headerPlacement === 'Bottom') {\n            hsCnt = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS + ' .e-hscroll-content', this.element.children[1]);\n        }\n        var tbWidth = (isNOU(hsCnt)) ? this.tbItems.offsetWidth : hsCnt.offsetWidth;\n        if (tbWidth !== 0) {\n            setStyle(bar, { 'left': trg.offsetLeft + 'px', 'right': tbWidth - (trg.offsetLeft + trg.offsetWidth) + 'px' });\n        }\n        else {\n            setStyle(bar, { 'left': 'auto', 'right': 'auto' });\n        }\n        if (!isNOU(this.bdrLine)) {\n            this.bdrLine.classList.remove(CLS_HIDDEN);\n        }\n    };\n    Tab.prototype.setActive = function (value) {\n        this.tbItem = selectAll('.' + CLS_HEADER + ' .' + CLS_TB_ITEM, this.element);\n        var trg = this.tbItem[value];\n        if (value >= 0) {\n            this.setProperties({ selectedItem: value }, true);\n        }\n        if (value < 0 || isNaN(value) || this.tbItem.length === 0) {\n            return;\n        }\n        if (trg.classList.contains(CLS_ACTIVE)) {\n            this.setActiveBorder();\n            return;\n        }\n        if (!this.isTemplate) {\n            var prev = this.tbItem[this.prevIndex];\n            if (!isNOU(prev)) {\n                prev.removeAttribute('aria-controls');\n            }\n            attributes(trg, { 'aria-controls': CLS_CONTENT + '_' + value });\n        }\n        var id = trg.id;\n        this.removeActiveClass(id);\n        trg.classList.add(CLS_ACTIVE);\n        trg.setAttribute('aria-selected', 'true');\n        var no = Number(this.extIndex(id));\n        attributes(this.element, { 'aria-activedescendant': id });\n        if (this.isTemplate) {\n            if (select('.' + CLS_CONTENT, this.element).children.length > 0) {\n                var trg_1 = this.findEle(select('.' + CLS_CONTENT, this.element).children, CLS_CONTENT + '_' + no);\n                if (!isNOU(trg_1)) {\n                    trg_1.classList.add(CLS_ACTIVE);\n                }\n                this.triggerAnimation(id, this.enableAnimation);\n            }\n        }\n        else {\n            this.cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n            var item = this.getTrgContent(this.cntEle, this.extIndex(id));\n            if (isNOU(item)) {\n                this.cntEle.appendChild(buildTag('div', {\n                    id: CLS_CONTENT + '_' + this.extIndex(id), className: CLS_ITEM + ' ' + CLS_ACTIVE,\n                    attrs: { role: 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + this.extIndex(id) }\n                }));\n                var eleTrg = this.getTrgContent(this.cntEle, this.extIndex(id));\n                this.getContent(eleTrg, Number(this.extIndex(id)), 'render');\n            }\n            else {\n                item.classList.add(CLS_ACTIVE);\n            }\n            this.triggerAnimation(id, this.enableAnimation);\n        }\n        this.setActiveBorder();\n        var curActItem = select('.' + CLS_HEADER + ' #' + id, this.element);\n        this.refreshItemVisibility(curActItem);\n        curActItem.firstChild.focus();\n        var eventArg = {\n            previousItem: this.prevItem,\n            previousIndex: this.prevIndex,\n            selectedItem: trg,\n            selectedIndex: value,\n            isSwiped: this.isSwipeed\n        };\n        this.trigger('selected', eventArg);\n    };\n    Tab.prototype.setItems = function (items) {\n        this.isReplace = true;\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        this.tbObj.items = this.parseObject(items, 0);\n        this.tbObj.dataBind();\n        this.isReplace = false;\n    };\n    Tab.prototype.setRTL = function (value) {\n        this.tbObj.enableRtl = value;\n        this.tbObj.dataBind();\n        this.setCssClass(this.element, CLS_RTL, value);\n        this.refreshActiveBorder();\n    };\n    Tab.prototype.refreshActiveBorder = function () {\n        if (!isNOU(this.bdrLine)) {\n            this.bdrLine.classList.add(CLS_HIDDEN);\n        }\n        this.setActiveBorder();\n    };\n    Tab.prototype.wireEvents = function () {\n        window.addEventListener('resize', this.refreshActElePosition.bind(this));\n        EventHandler.add(this.element, 'mouseover', this.hoverHandler, this);\n        EventHandler.add(this.element, 'keydown', this.spaceKeyDown, this);\n        if (!isNOU(this.cntEle)) {\n            this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n        }\n        this.keyModule = new KeyboardEvents(this.element, { keyAction: this.keyHandler.bind(this), keyConfigs: this.keyConfigs });\n        this.tabKeyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyHandler.bind(this),\n            keyConfigs: { openPopup: 'shift+f10', tab: 'tab', shiftTab: 'shift+tab' },\n            eventName: 'keydown'\n        });\n    };\n    Tab.prototype.unWireEvents = function () {\n        this.keyModule.destroy();\n        this.tabKeyModule.destroy();\n        if (!isNOU(this.cntEle)) {\n            this.touchModule.destroy();\n        }\n        window.removeEventListener('resize', this.refreshActElePosition.bind(this));\n        this.element.removeEventListener('mouseover', this.hoverHandler.bind(this));\n    };\n    Tab.prototype.clickHandler = function (args) {\n        this.element.classList.remove(CLS_FOCUS);\n        var trg = args.originalEvent.target;\n        var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n        var trgIndex = this.getEleIndex(trgParent);\n        if (trg.classList.contains(CLS_ICON_CLOSE)) {\n            this.removeTab(trgIndex);\n        }\n        else {\n            this.isPopup = false;\n            if (!isNOU(trgParent) && trgIndex !== this.selectedItem) {\n                this.select(trgIndex);\n            }\n        }\n    };\n    Tab.prototype.swipeHandler = function (e) {\n        if (e.velocity < 3 && isNOU(e.originalEvent.changedTouches)) {\n            return;\n        }\n        this.isSwipeed = true;\n        if (e.swipeDirection === 'Right') {\n            this.select(this.selectedItem - 1);\n        }\n        else {\n            if (e.swipeDirection === 'Left' && (this.selectedItem !== selectAll('.' + CLS_TB_ITEM, this.element).length - 1)) {\n                this.select(this.selectedItem + 1);\n            }\n        }\n        this.isSwipeed = false;\n    };\n    Tab.prototype.spaceKeyDown = function (e) {\n        if ((e.keyCode === 32 && e.which === 32) || (e.keyCode === 35 && e.which === 35)) {\n            var clstHead = closest(e.target, '.' + CLS_HEADER);\n            if (!isNOU(clstHead)) {\n                e.preventDefault();\n            }\n        }\n    };\n    Tab.prototype.keyHandler = function (e) {\n        if (this.element.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        this.element.classList.add(CLS_FOCUS);\n        var trg = e.target;\n        var actEle = select('.' + CLS_HEADER + ' .' + CLS_ACTIVE, this.element);\n        var tabItem = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_TB_POPUP + ')', this.element);\n        this.popEle = select('.' + CLS_TB_POP, this.element);\n        if (!isNOU(this.popEle)) {\n            this.popObj = this.popEle.ej2_instances[0];\n        }\n        switch (e.action) {\n            case 'space':\n            case 'enter':\n                if (trg.parentElement.classList.contains(CLS_DISABLE)) {\n                    return;\n                }\n                if (e.action === 'enter' && trg.classList.contains('e-hor-nav')) {\n                    break;\n                }\n                this.keyPressed(trg);\n                break;\n            case 'tab':\n            case 'shiftTab':\n                if (trg.classList.contains(CLS_WRAP)\n                    && closest(trg, '.' + CLS_TB_ITEM).classList.contains(CLS_ACTIVE) === false) {\n                    trg.setAttribute('tabindex', '-1');\n                }\n                if (this.popObj && isVisible(this.popObj.element)) {\n                    this.popObj.hide(this.hide);\n                }\n                actEle.children.item(0).setAttribute('tabindex', '0');\n                break;\n            case 'moveLeft':\n            case 'moveRight':\n                var item = closest(document.activeElement, '.' + CLS_TB_ITEM);\n                if (!isNOU(item)) {\n                    this.refreshItemVisibility(item);\n                }\n                break;\n            case 'openPopup':\n                e.preventDefault();\n                if (!isNOU(this.popEle) && this.popEle.classList.contains(CLS_POPUP_CLOSE)) {\n                    this.popObj.show(this.show);\n                }\n                break;\n            case 'delete':\n                var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n                if (this.showCloseButton === true && !isNOU(trgParent)) {\n                    var nxtSib = trgParent.nextSibling;\n                    if (!isNOU(nxtSib) && nxtSib.classList.contains(CLS_TB_ITEM)) {\n                        nxtSib.firstChild.focus();\n                    }\n                    this.removeTab(this.getEleIndex(trgParent));\n                }\n                this.setActiveBorder();\n                break;\n        }\n    };\n    Tab.prototype.refreshActElePosition = function () {\n        var activeEle = select('.' + CLS_TB_ITEM + '.' + CLS_TB_POPUP + '.' + CLS_ACTIVE, this.element);\n        if (!isNOU(activeEle)) {\n            this.select(this.getEleIndex(activeEle));\n        }\n        this.refreshActiveBorder();\n    };\n    Tab.prototype.refreshItemVisibility = function (target) {\n        var scrCnt = select('.e-hscroll-content', this.tbItems);\n        if (!isNOU(scrCnt)) {\n            var scrBar = select('.e-hscroll-bar', this.tbItems);\n            var scrStart = scrBar.scrollLeft;\n            var scrEnd = scrStart + scrBar.offsetWidth;\n            var eleStart = target.offsetLeft;\n            var eleWidth = target.offsetWidth;\n            var eleEnd = target.offsetLeft + target.offsetWidth;\n            if ((scrStart < eleStart) && (scrEnd < eleEnd)) {\n                var eleViewRange = scrEnd - eleStart;\n                scrBar.scrollLeft = scrStart + (eleWidth - eleViewRange);\n            }\n            else {\n                if ((scrStart > eleStart) && (scrEnd > eleEnd)) {\n                    var eleViewRange = eleEnd - scrStart;\n                    scrBar.scrollLeft = scrStart - (eleWidth - eleViewRange);\n                }\n            }\n        }\n        else {\n            return;\n        }\n    };\n    Tab.prototype.hoverHandler = function (e) {\n        var trg = e.target;\n        if (!isNOU(trg.classList) && trg.classList.contains(CLS_ICON_CLOSE)) {\n            trg.setAttribute('title', new L10n('tab', { closeButtonTitle: this.title }, this.locale).getConstant('closeButtonTitle'));\n        }\n    };\n    /**\n     * Enables or disables the specified Tab item. On passing value as `false`, the item will be disabled.\n     * @param  {number} index - Index value of target Tab item.\n     * @param  {boolean} value - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, isEnable is true.\n     * @returns void.\n     */\n    Tab.prototype.enableTab = function (index, value) {\n        var tbItems = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNOU(tbItems)) {\n            return;\n        }\n        if (value === true) {\n            tbItems.classList.remove(CLS_DISABLE, CLS_OVERLAY);\n            tbItems.firstChild.setAttribute('tabindex', '-1');\n        }\n        else {\n            tbItems.classList.add(CLS_DISABLE, CLS_OVERLAY);\n            tbItems.firstChild.removeAttribute('tabindex');\n            if (tbItems.classList.contains(CLS_ACTIVE)) {\n                this.select(index + 1);\n            }\n        }\n        tbItems.setAttribute('aria-disabled', (value === true) ? 'false' : 'true');\n    };\n    /**\n     * Adds new items to the Tab that accepts an array as Tab items.\n     * @param  {TabItemsModel[]} items - An array of item that is added to the Tab.\n     * @param  {number} index - Number value that determines where the items to be added. By default, index is 0.\n     * @returns void.\n     */\n    Tab.prototype.addTab = function (items, index) {\n        var _this = this;\n        this.trigger('adding', { addedItems: items });\n        if (isNOU(index)) {\n            index = selectAll('.' + CLS_TB_ITEM).length - 1;\n        }\n        if (this.isTemplate === true || selectAll('.' + CLS_TB_ITEM).length - 1 < index || index < 0 || isNaN(index)) {\n            return;\n        }\n        this.bdrLine.classList.add(CLS_HIDDEN);\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        var tabItems = this.parseObject(items, index);\n        items.forEach(function (item, place) {\n            if (_this.isReplace === true) {\n                var hdrItem = select('.' + CLS_TB_ITEMS + ' #' + CLS_ITEM + '_' + index, _this.element);\n                detach(hdrItem);\n                _this.items.splice((index + place), 0, item);\n            }\n            else {\n                _this.items.push(item);\n            }\n        });\n        this.tbObj.addItems(tabItems, index);\n        this.trigger('added', { addedItems: items });\n        if (this.selectedItem === index) {\n            this.select(index);\n        }\n        else {\n            this.setActiveBorder();\n        }\n    };\n    /**\n     * Removes the items in the Tab from the specified index.\n     * @param  {number} index - Index of target item that is going to be removed.\n     * @returns void.\n     */\n    Tab.prototype.removeTab = function (index) {\n        var trg = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        var removingArgs = { removedItem: trg, removedIndex: index };\n        this.trigger('removing', removingArgs);\n        if (isNOU(trg)) {\n            return;\n        }\n        this.tbObj.removeItems(index);\n        this.refreshActiveBorder();\n        var no = this.extIndex(trg.id);\n        var cntTrg = this.findEle(select('.' + CLS_CONTENT, this.element).children, CLS_CONTENT + '_' + no);\n        if (!isNOU(cntTrg)) {\n            cntTrg.outerHTML = '';\n        }\n        var removedArgs = { removedItem: trg, removedIndex: index };\n        this.trigger('removed', removedArgs);\n        if (trg.classList.contains(CLS_ACTIVE)) {\n            index = (index > selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_TB_POPUP + ')', this.element).length - 1) ? index - 1 : index;\n            this.enableAnimation = false;\n            this.select(index);\n        }\n        if (selectAll('.' + CLS_TB_ITEM, this.element).length === 0) {\n            this.hdrEle.style.display = 'none';\n        }\n        this.enableAnimation = true;\n    };\n    /**\n     * Shows or hides the Tab that is in the specified index.\n     * @param  {number} index - Index value of target item.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (false) or show (true). By default, value is true.\n     * @returns void.\n     */\n    Tab.prototype.hideTab = function (index, value) {\n        var item = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNOU(item)) {\n            return;\n        }\n        if (isNOU(value)) {\n            value = true;\n        }\n        this.bdrLine.classList.add(CLS_HIDDEN);\n        if (value === true) {\n            item.classList.add(CLS_HIDDEN);\n            if (item.classList.contains(CLS_ACTIVE)) {\n                this.select((index !== 0) ? index - 1 : index + 1);\n            }\n        }\n        else {\n            item.classList.remove(CLS_HIDDEN);\n        }\n        this.setActiveBorder();\n        item.setAttribute('aria-hidden', '' + value);\n    };\n    /**\n     * Specifies the index or HTMLElement to select an item from the Tab.\n     * @param  {number | HTMLElement} args - Index or DOM element is used for selecting an item from the Tab.\n     * @returns void.\n     */\n    Tab.prototype.select = function (args) {\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        this.tbItem = selectAll('.' + CLS_HEADER + ' .' + CLS_TB_ITEM, this.element);\n        this.prevItem = this.tbItem[this.prevIndex];\n        if (!isNOU(this.prevItem) && !this.prevItem.classList.contains(CLS_DISABLE)) {\n            this.prevItem.children.item(0).setAttribute('tabindex', '-1');\n        }\n        var eventArg = {\n            previousItem: this.prevItem,\n            previousIndex: this.prevIndex,\n            selectedItem: this.tbItem[this.selectedItem],\n            selectedIndex: this.selectedItem,\n            isSwiped: this.isSwipeed\n        };\n        this.trigger('selecting', eventArg);\n        if (eventArg.cancel) {\n            return;\n        }\n        if (typeof args === 'number') {\n            if (!isNOU(this.tbItem[args]) && this.tbItem[args].classList.contains(CLS_DISABLE)) {\n                for (var i = args + 1; i < this.items.length; i++) {\n                    if (this.items[i].disabled === false) {\n                        args = i;\n                        break;\n                    }\n                    else {\n                        args = 0;\n                    }\n                }\n            }\n            if (this.tbItem.length > args && args >= 0 && !isNaN(args)) {\n                this.prevIndex = this.selectedItem;\n                if (this.tbItem[args].classList.contains(CLS_TB_POPUP)) {\n                    this.setActive(this.popupHandler(this.tbItem[args]));\n                }\n                else {\n                    this.setActive(args);\n                }\n            }\n            else {\n                this.setActive(0);\n            }\n        }\n        else if (args instanceof (HTMLElement)) {\n            this.setActive(this.getEleIndex(args));\n        }\n    };\n    /**\n     * Specifies the value to disable/enable the Tab component.\n     * When set to `true`, the component will be disabled.\n     * @param  {boolean} value - Based on this Boolean value, Tab will be enabled (false) or disabled (true).\n     * @returns void.\n     */\n    Tab.prototype.disable = function (value) {\n        this.setCssClass(this.element, CLS_DISABLE, value);\n        this.element.setAttribute('aria-disabled', '' + value);\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     */\n    Tab.prototype.getPersistData = function () {\n        return this.addOnPersist(['selectedItem', 'actEleId']);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Tab.prototype.getModuleName = function () {\n        return 'tab';\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {TabModel} newProp\n     * @param  {TabModel} oldProp\n     * @returns void\n     * @private\n     */\n    Tab.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyle(this.element, { width: formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyle(this.element, { height: formatUnit(newProp.height) });\n                    this.setContentHeight(false);\n                    break;\n                case 'cssClass':\n                    this.setCssClass(this.element, newProp.cssClass, true);\n                    break;\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProp = Object.keys(newProp.items);\n                        for (var i = 0; i < changedProp.length; i++) {\n                            var index = parseInt(Object.keys(newProp.items)[i], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var oldVal = Object(oldProp.items[index])[property];\n                            var newVal = Object(newProp.items[index])[property];\n                            var hdrItem = select('.' + CLS_TB_ITEMS + ' #' + CLS_ITEM + '_' + index, this.element);\n                            var cntItem = select('.' + CLS_CONTENT + ' #' + CLS_CONTENT + '_' + index, this.element);\n                            if (property === 'header') {\n                                var arr = [];\n                                arr.push(this.items[index]);\n                                this.items.splice(index, 1);\n                                this.tbObj.items.splice(index, 1);\n                                this.isReplace = true;\n                                this.addTab(arr, index);\n                                this.isReplace = false;\n                            }\n                            if (property === 'content') {\n                                if (!isNOU(cntItem)) {\n                                    (cntItem.classList.contains('e-active') ? (cntItem.innerHTML = newVal) : cntItem.remove());\n                                }\n                            }\n                            if (property === 'cssClass') {\n                                if (!isNOU(hdrItem)) {\n                                    hdrItem.classList.remove(oldVal);\n                                    hdrItem.classList.add(newVal);\n                                }\n                                if (!isNOU(cntItem)) {\n                                    cntItem.classList.remove(oldVal);\n                                    cntItem.classList.add(newVal);\n                                }\n                            }\n                            if (property === 'disabled') {\n                                this.enableTab(index, ((newVal === true) ? false : true));\n                            }\n                        }\n                    }\n                    else {\n                        if (isNOU(this.tbObj)) {\n                            this.renderContainer();\n                            if (!isNOU(this.cntEle)) {\n                                this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n                            }\n                        }\n                        else {\n                            this.setItems(newProp.items);\n                            select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element).innerHTML = '';\n                            this.select(this.selectedItem);\n                        }\n                    }\n                    break;\n                case 'showCloseButton':\n                    this.setCloseButton(newProp.showCloseButton);\n                    break;\n                case 'selectedItem':\n                    this.selectedItem = oldProp.selectedItem;\n                    this.select(newProp.selectedItem);\n                    break;\n                case 'headerPlacement':\n                    var tempHdrEle = select('.' + CLS_HEADER, this.element);\n                    this.setOrientation(newProp.headerPlacement, tempHdrEle);\n                    this.select(this.selectedItem);\n                    break;\n                case 'enableRtl':\n                    this.setRTL(newProp.enableRtl);\n                    break;\n                case 'overflowMode':\n                    this.tbObj.overflowMode = newProp.overflowMode;\n                    this.tbObj.dataBind();\n                    this.refreshActElePosition();\n                    break;\n                case 'heightAdjustMode':\n                    this.setContentHeight(false);\n                    this.select(this.selectedItem);\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Collection([], TabItem)\n    ], Tab.prototype, \"items\", void 0);\n    __decorate([\n        Property('100%')\n    ], Tab.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Tab.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], Tab.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(0)\n    ], Tab.prototype, \"selectedItem\", void 0);\n    __decorate([\n        Property('Top')\n    ], Tab.prototype, \"headerPlacement\", void 0);\n    __decorate([\n        Property('Content')\n    ], Tab.prototype, \"heightAdjustMode\", void 0);\n    __decorate([\n        Property('Scrollable')\n    ], Tab.prototype, \"overflowMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"showCloseButton\", void 0);\n    __decorate([\n        Complex({}, TabAnimationSettings)\n    ], Tab.prototype, \"animation\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"adding\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"added\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"selecting\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"selected\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"removing\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"removed\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"destroyed\", void 0);\n    Tab = __decorate([\n        NotifyPropertyChanges\n    ], Tab);\n    return Tab;\n}(Component));\nexport { Tab };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, isUndefined, Browser, compile } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { rippleEffect, Animation } from '@syncfusion/ej2-base';\nimport { Draggable, Droppable } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, closest, matches, detach, select, selectAll, isVisible, createElement, append } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { isNullOrUndefined as isNOU, Touch, getValue, setValue } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { createCheckBox, rippleMouseHandler } from '@syncfusion/ej2-buttons';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nvar ROOT = 'e-treeview';\nvar COLLAPSIBLE = 'e-icon-collapsible';\nvar EXPANDABLE = 'e-icon-expandable';\nvar LISTITEM = 'e-list-item';\nvar LISTTEXT = 'e-list-text';\nvar PARENTITEM = 'e-list-parent';\nvar HOVER = 'e-hover';\nvar ACTIVE = 'e-active';\nvar LOAD = 'e-icons-spinner';\nvar PROCESS = 'e-process';\nvar ICON = 'e-icons';\nvar TEXTWRAP = 'e-text-content';\nvar INPUT = 'e-input';\nvar INPUTGROUP = 'e-input-group';\nvar TREEINPUT = 'e-tree-input';\nvar EDITING = 'e-editing';\nvar RTL = 'e-rtl';\nvar DRAGITEM = 'e-drag-item';\nvar DROPPABLE = 'e-droppable';\nvar DRAGGING = 'e-dragging';\nvar SIBLING = 'e-sibling';\nvar DROPIN = 'e-drop-in';\nvar DROPNEXT = 'e-drop-next';\nvar DROPOUT = 'e-drop-out';\nvar NODROP = 'e-no-drop';\nvar FULLROWWRAP = 'e-fullrow-wrap';\nvar FULLROW = 'e-fullrow';\nvar SELECTED = 'e-selected';\nvar EXPANDED = 'e-expanded';\nvar NODECOLLAPSED = 'e-node-collapsed';\nvar DISABLE = 'e-disable';\nvar CONTENT = 'e-content';\nvar DOWNTAIL = 'e-downtail';\nvar DROPCOUNT = 'e-drop-count';\nvar CHECK = 'e-check';\nvar INDETERMINATE = 'e-stop';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECKBOXRIPPLE = 'e-ripple-container';\nvar FOCUS = 'e-node-focus';\nvar IMAGE = 'e-list-img';\nvar BIGGER = 'e-bigger';\nvar SMALL = 'e-small';\nvar treeAriaAttr = {\n    treeRole: 'tree',\n    itemRole: 'treeitem',\n    listRole: 'group',\n    itemText: '',\n    wrapperRole: '',\n};\n/**\n * Configures the fields to bind to the properties of node in the TreeView component.\n */\nvar FieldsSettings = /** @class */ (function (_super) {\n    __extends(FieldsSettings, _super);\n    function FieldsSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('child')\n    ], FieldsSettings.prototype, \"child\", void 0);\n    __decorate([\n        Property([])\n    ], FieldsSettings.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('expanded')\n    ], FieldsSettings.prototype, \"expanded\", void 0);\n    __decorate([\n        Property('hasChildren')\n    ], FieldsSettings.prototype, \"hasChildren\", void 0);\n    __decorate([\n        Property('htmlAttributes')\n    ], FieldsSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('iconCss')\n    ], FieldsSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('id')\n    ], FieldsSettings.prototype, \"id\", void 0);\n    __decorate([\n        Property('imageUrl')\n    ], FieldsSettings.prototype, \"imageUrl\", void 0);\n    __decorate([\n        Property('isChecked')\n    ], FieldsSettings.prototype, \"isChecked\", void 0);\n    __decorate([\n        Property('parentID')\n    ], FieldsSettings.prototype, \"parentID\", void 0);\n    __decorate([\n        Property(null)\n    ], FieldsSettings.prototype, \"query\", void 0);\n    __decorate([\n        Property('selected')\n    ], FieldsSettings.prototype, \"selected\", void 0);\n    __decorate([\n        Property(null)\n    ], FieldsSettings.prototype, \"tableName\", void 0);\n    __decorate([\n        Property('text')\n    ], FieldsSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property('tooltip')\n    ], FieldsSettings.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property('navigateUrl')\n    ], FieldsSettings.prototype, \"navigateUrl\", void 0);\n    return FieldsSettings;\n}(ChildProperty));\nexport { FieldsSettings };\n/**\n * Configures animation settings for the TreeView component.\n */\nvar ActionSettings = /** @class */ (function (_super) {\n    __extends(ActionSettings, _super);\n    function ActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideDown')\n    ], ActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], ActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('linear')\n    ], ActionSettings.prototype, \"easing\", void 0);\n    return ActionSettings;\n}(ChildProperty));\nexport { ActionSettings };\n/**\n * Configures the animation settings for expanding and collapsing nodes in TreeView.\n */\nvar NodeAnimationSettings = /** @class */ (function (_super) {\n    __extends(NodeAnimationSettings, _super);\n    function NodeAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideUp', duration: 400, easing: 'linear' }, ActionSettings)\n    ], NodeAnimationSettings.prototype, \"collapse\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideDown', duration: 400, easing: 'linear' }, ActionSettings)\n    ], NodeAnimationSettings.prototype, \"expand\", void 0);\n    return NodeAnimationSettings;\n}(ChildProperty));\nexport { NodeAnimationSettings };\n/**\n * The TreeView component is used to represent hierarchical data in a tree like structure with advanced\n * functions to perform edit, drag and drop, selection with check-box, and more.\n * ```html\n *  <div id=\"tree\"></div>\n * ```\n * ```typescript\n *  let treeObj: TreeView = new TreeView();\n *  treeObj.appendTo('#tree');\n * ```\n */\nvar TreeView = /** @class */ (function (_super) {\n    __extends(TreeView, _super);\n    function TreeView(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.mouseDownStatus = false;\n        return _this;\n    }\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    TreeView.prototype.getModuleName = function () {\n        return 'treeview';\n    };\n    /**\n     * Initialize the event handler\n     */\n    TreeView.prototype.preRender = function () {\n        var _this = this;\n        this.checkActionNodes = [];\n        this.dragStartAction = false;\n        this.isAnimate = false;\n        this.keyConfigs = {\n            escape: 'escape',\n            end: 'end',\n            enter: 'enter',\n            f2: 'f2',\n            home: 'home',\n            moveDown: 'downarrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlUp: 'ctrl+uparrow',\n            ctrlEnter: 'ctrl+enter',\n            ctrlHome: 'ctrl+home',\n            ctrlEnd: 'ctrl+end',\n            ctrlA: 'ctrl+A',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            shiftEnter: 'shift+enter',\n            shiftHome: 'shift+home',\n            shiftEnd: 'shift+end',\n            csDown: 'ctrl+shift+downarrow',\n            csUp: 'ctrl+shift+uparrow',\n            csEnter: 'ctrl+shift+enter',\n            csHome: 'ctrl+shift+home',\n            csEnd: 'ctrl+shift+end',\n            space: 'space',\n        };\n        this.listBaseOption = {\n            expandCollapse: true,\n            fields: this.fields.properties,\n            showIcon: true,\n            expandIconClass: EXPANDABLE,\n            ariaAttributes: treeAriaAttr,\n            expandIconPosition: 'Left',\n            itemCreated: function (e) {\n                _this.beforeNodeCreate(e);\n            },\n        };\n        this.listBaseOption.fields.url = this.fields.navigateUrl;\n        this.aniObj = new Animation({});\n        this.treeList = [];\n        this.isLoaded = false;\n        this.setTouchClass();\n        if (isNOU(this.selectedNodes)) {\n            this.setProperties({ selectedNodes: [] }, true);\n        }\n        if (isNOU(this.checkedNodes)) {\n            this.setProperties({ checkedNodes: [] }, true);\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     * @hidden\n     */\n    TreeView.prototype.getPersistData = function () {\n        var keyEntity = ['selectedNodes', 'checkedNodes'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    TreeView.prototype.render = function () {\n        this.isAnimate = true;\n        this.initialize();\n        this.setDataBinding();\n        this.setExpandOnType();\n        this.setRipple();\n        this.wireEditingEvents(this.allowEditing);\n        this.setDragAndDrop(this.allowDragAndDrop);\n        this.wireEvents();\n    };\n    TreeView.prototype.initialize = function () {\n        this.element.setAttribute('role', 'tree');\n        this.element.setAttribute('tabindex', '0');\n        this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n        this.setCssClass(null, this.cssClass);\n        this.setEnableRtl();\n        this.setFullRow(this.fullRowSelect);\n        this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n    };\n    TreeView.prototype.setEnableRtl = function () {\n        this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n    };\n    TreeView.prototype.setRipple = function () {\n        var tempStr = '.' + FULLROW + ',.' + TEXTWRAP;\n        var rippleModel = {\n            selector: tempStr,\n            ignore: '.' + TEXTWRAP + ' > .' + ICON + ',.' + INPUTGROUP + ',.' + INPUT + ', .' + CHECKBOXWRAP\n        };\n        this.rippleFn = rippleEffect(this.element, rippleModel);\n        var iconModel = {\n            selector: '.' + TEXTWRAP + ' > .' + ICON,\n            isCenterRipple: true,\n        };\n        this.rippleIconFn = rippleEffect(this.element, iconModel);\n    };\n    TreeView.prototype.setFullRow = function (isEnabled) {\n        isEnabled ? addClass([this.element], FULLROWWRAP) : removeClass([this.element], FULLROWWRAP);\n    };\n    TreeView.prototype.setMultiSelect = function (isEnabled) {\n        var firstUl = select('.' + PARENTITEM, this.element);\n        if (isEnabled) {\n            firstUl.setAttribute('aria-multiselectable', 'true');\n        }\n        else {\n            firstUl.removeAttribute('aria-multiselectable');\n        }\n    };\n    TreeView.prototype.templateComplier = function (template) {\n        if (template) {\n            var e = void 0;\n            try {\n                if (document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n            }\n            catch (e) {\n                return compile(template);\n            }\n        }\n        return undefined;\n    };\n    TreeView.prototype.setDataBinding = function () {\n        var _this = this;\n        this.treeList.push('false');\n        if (this.fields.dataSource instanceof DataManager) {\n            this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then(function (e) {\n                _this.treeList.pop();\n                _this.treeData = e.result;\n                _this.isNumberTypeId = _this.getType();\n                _this.setRootData();\n                _this.renderItems(true);\n                if (_this.treeList.length === 0 && !_this.isLoaded) {\n                    _this.finalize();\n                }\n            });\n        }\n        else {\n            this.treeList.pop();\n            if (isNOU(this.fields.dataSource)) {\n                this.rootData = this.treeData = [];\n            }\n            else {\n                this.treeData = this.fields.dataSource;\n                this.setRootData();\n            }\n            this.renderItems(false);\n        }\n        if (this.treeList.length === 0 && !this.isLoaded) {\n            this.finalize();\n        }\n    };\n    TreeView.prototype.getQuery = function (mapper, value) {\n        if (value === void 0) { value = null; }\n        var columns = [];\n        var query;\n        if (!mapper.query) {\n            query = new Query();\n            var prop = this.getActualProperties(mapper);\n            for (var _i = 0, _a = Object.keys(prop); _i < _a.length; _i++) {\n                var col = _a[_i];\n                if (col !== 'dataSource' && col !== 'tableName' && col !== 'child' && !!mapper[col]\n                    && columns.indexOf(mapper[col]) === -1) {\n                    columns.push(mapper[col]);\n                }\n            }\n            query.select(columns);\n            if (prop.hasOwnProperty('tableName')) {\n                query.from(mapper.tableName);\n            }\n        }\n        else {\n            query = mapper.query.clone();\n        }\n        ListBase.addSorting(this.sortOrder, mapper.text, query);\n        if (!isNOU(value) && !isNOU(mapper.parentID)) {\n            query.where(mapper.parentID, 'equal', (this.isNumberTypeId ? parseFloat(value) : value));\n        }\n        return query;\n    };\n    TreeView.prototype.getType = function () {\n        return this.treeData[0] ? ((typeof getValue(this.fields.id, this.treeData[0]) === 'number') ? true : false) : false;\n    };\n    TreeView.prototype.setRootData = function () {\n        this.dataType = this.getDataType(this.treeData, this.fields);\n        if (this.dataType === 1) {\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n            var rootItems = this.getChildNodes(this.treeData, undefined, true);\n            if (isNOU(rootItems)) {\n                this.rootData = [];\n            }\n            else {\n                this.rootData = rootItems;\n            }\n        }\n        else {\n            this.rootData = this.treeData;\n        }\n    };\n    TreeView.prototype.renderItems = function (isSorted) {\n        this.listBaseOption.ariaAttributes.level = 1;\n        this.ulElement = ListBase.createList(isSorted ? this.rootData : this.getSortedData(this.rootData), this.listBaseOption);\n        this.element.appendChild(this.ulElement);\n        this.finalizeNode(this.element);\n    };\n    TreeView.prototype.beforeNodeCreate = function (e) {\n        if (this.showCheckBox) {\n            var checkboxEle = createCheckBox(true, { cssClass: this.touchClass });\n            var icon = select('div.' + ICON, e.item);\n            var id = e.item.getAttribute('data-uid');\n            e.item.childNodes[0].insertBefore(checkboxEle, e.item.childNodes[0].childNodes[isNOU(icon) ? 0 : 1]);\n            var checkValue = getValue(e.fields.isChecked, e.curData);\n            if (this.checkedNodes.indexOf(id) > -1) {\n                select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n                checkboxEle.setAttribute('aria-checked', 'true');\n                this.addCheck(e.item);\n            }\n            else if (!isNOU(checkValue) && checkValue.toString() === 'true') {\n                select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n                checkboxEle.setAttribute('aria-checked', 'true');\n                this.addCheck(e.item);\n            }\n            else {\n                checkboxEle.setAttribute('aria-checked', 'false');\n            }\n            var frame = select('.' + CHECKBOXFRAME, checkboxEle);\n            EventHandler.add(frame, 'mousedown', this.frameMouseHandler, this);\n            EventHandler.add(frame, 'mouseup', this.frameMouseHandler, this);\n        }\n        if (this.fullRowSelect) {\n            this.createFullRow(e.item);\n        }\n        if (this.allowMultiSelection && !e.item.classList.contains(SELECTED)) {\n            e.item.setAttribute('aria-selected', 'false');\n        }\n        var fields = e.fields;\n        this.addActionClass(e, fields.selected, SELECTED);\n        this.addActionClass(e, fields.expanded, EXPANDED);\n        if (!isNOU(this.nodeTemplateFn)) {\n            var textEle = e.item.querySelector('.' + LISTTEXT);\n            textEle.innerHTML = '';\n            append(this.nodeTemplateFn(e.curData), textEle);\n        }\n        var eventArgs = {\n            node: e.item,\n            nodeData: e.curData,\n            text: e.text,\n        };\n        this.trigger('drawNode', eventArgs);\n    };\n    TreeView.prototype.frameMouseHandler = function (e) {\n        var rippleSpan = select('.' + CHECKBOXRIPPLE, e.target.parentElement);\n        rippleMouseHandler(e, rippleSpan);\n    };\n    TreeView.prototype.addActionClass = function (e, action, cssClass) {\n        var data = e.curData;\n        var actionValue = getValue(action, data);\n        if (!isNOU(actionValue) && actionValue.toString() !== 'false') {\n            e.item.classList.add(cssClass);\n        }\n    };\n    TreeView.prototype.getDataType = function (ds, mapper) {\n        if (this.fields.dataSource instanceof DataManager) {\n            return 2;\n        }\n        for (var i = 0, len = ds.length; i < len; i++) {\n            if ((typeof mapper.child === 'string') && !isNOU(getValue(mapper.child, ds[i]))) {\n                return 2;\n            }\n            if (!isNOU(getValue(mapper.parentID, ds[i])) || !isNOU(getValue(mapper.hasChildren, ds[i]))) {\n                return 1;\n            }\n        }\n        return 1;\n    };\n    TreeView.prototype.getGroupedData = function (dataSource, groupBy) {\n        var cusQuery = new Query().group(groupBy);\n        var ds = ListBase.getDataSource(dataSource, cusQuery);\n        var grpItem = [];\n        for (var j = 0; j < ds.length; j++) {\n            var itemObj = ds[j].items;\n            grpItem.push(itemObj);\n        }\n        return grpItem;\n    };\n    TreeView.prototype.getSortedData = function (list) {\n        if (list && this.sortOrder !== 'None') {\n            list = ListBase.getDataSource(list, ListBase.addSorting(this.sortOrder, this.fields.text));\n        }\n        return list;\n    };\n    TreeView.prototype.finalizeNode = function (element) {\n        var iNodes = selectAll('.' + IMAGE, element);\n        for (var k = 0; k < iNodes.length; k++) {\n            iNodes[k].setAttribute('alt', IMAGE);\n        }\n        if (this.isLoaded) {\n            var sNodes = selectAll('.' + SELECTED, element);\n            for (var i = 0; i < sNodes.length; i++) {\n                this.selectNode(sNodes[i], null);\n                break;\n            }\n            removeClass(sNodes, SELECTED);\n        }\n        var cNodes = selectAll('.' + LISTITEM + ':not(.' + EXPANDED + ')', element);\n        for (var j = 0; j < cNodes.length; j++) {\n            var icon = select('div.' + ICON, cNodes[j]);\n            if (icon && icon.classList.contains(EXPANDABLE)) {\n                cNodes[j].setAttribute('aria-expanded', 'false');\n                addClass([cNodes[j]], NODECOLLAPSED);\n            }\n        }\n        var eNodes = selectAll('.' + EXPANDED, element);\n        for (var i = 0; i < eNodes.length; i++) {\n            this.renderChildNodes(eNodes[i]);\n        }\n        removeClass(eNodes, EXPANDED);\n        this.updateList();\n        if (this.isLoaded) {\n            this.updateCheckedProp();\n        }\n    };\n    TreeView.prototype.updateCheckedProp = function () {\n        var _this = this;\n        if (this.showCheckBox) {\n            var nodes_1 = [].concat([], this.checkedNodes);\n            this.checkedNodes.forEach(function (value, index) {\n                var checkBox = _this.element.querySelector('[data-uid=\"' + value + '\"]');\n                if (isNOU(checkBox)) {\n                    nodes_1 = nodes_1.filter(function (e) { return e !== value; });\n                }\n            });\n            this.setProperties({ checkedNodes: nodes_1 }, true);\n        }\n    };\n    TreeView.prototype.ensureParentCheckState = function (element) {\n        if (!isNOU(element)) {\n            if (element.classList.contains(ROOT)) {\n                return;\n            }\n            var ulElement = element;\n            if (element.classList.contains(LISTITEM)) {\n                ulElement = select('.' + PARENTITEM, element);\n            }\n            var checkedNodes = selectAll('.' + CHECK, ulElement);\n            var nodes = selectAll('.' + LISTITEM, ulElement);\n            var checkBoxEle = element.getElementsByClassName(CHECKBOXWRAP)[0];\n            if (nodes.length === checkedNodes.length) {\n                this.changeState(checkBoxEle, 'check', null, true, true);\n            }\n            else if (checkedNodes.length > 0) {\n                this.changeState(checkBoxEle, 'indeterminate', null, true, true);\n            }\n            else if (checkedNodes.length === 0) {\n                this.changeState(checkBoxEle, 'uncheck', null, true, true);\n            }\n            var parentUL = closest(element, '.' + PARENTITEM);\n            if (!isNOU(parentUL)) {\n                var currentParent = closest(parentUL, '.' + LISTITEM);\n                this.ensureParentCheckState(currentParent);\n            }\n        }\n    };\n    TreeView.prototype.ensureChildCheckState = function (element, e) {\n        if (!isNOU(element)) {\n            var childElement = select('.' + PARENTITEM, element);\n            var checkBoxes = void 0;\n            if (!isNOU(childElement)) {\n                checkBoxes = selectAll('.' + CHECKBOXWRAP, childElement);\n                var isChecked = element.getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n                var checkedState = void 0;\n                for (var index = 0; index < checkBoxes.length; index++) {\n                    if (!isNOU(this.currentLoadData) && !isNOU(getValue(this.fields.isChecked, this.currentLoadData[index]))) {\n                        checkedState = getValue(this.fields.isChecked, this.currentLoadData[index]) ? 'check' : 'uncheck';\n                    }\n                    else {\n                        var isNodeChecked = checkBoxes[index].getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n                        checkedState = (!this.isLoaded && isNodeChecked) ? 'check' : (isChecked ? 'check' : 'uncheck');\n                    }\n                    this.changeState(checkBoxes[index], checkedState, e, true, true);\n                }\n            }\n        }\n    };\n    TreeView.prototype.doCheckBoxAction = function (nodes, doCheck) {\n        if (!isNOU(nodes)) {\n            for (var i = 0, len = nodes.length; i < len; i++) {\n                var liEle = this.getElement(nodes[i]);\n                if (isNOU(liEle)) {\n                    continue;\n                }\n                var checkBox = select('.' + PARENTITEM + ' .' + CHECKBOXWRAP, liEle);\n                this.validateCheckNode(checkBox, !doCheck, liEle, null);\n            }\n        }\n        else {\n            var checkBoxes = selectAll('.' + CHECKBOXWRAP, this.element);\n            for (var index = 0; index < checkBoxes.length; index++) {\n                this.changeState(checkBoxes[index], doCheck ? 'check' : 'uncheck');\n            }\n        }\n    };\n    TreeView.prototype.changeState = function (wrapper, state, e, isPrevent, isAdd) {\n        var ariaState;\n        var eventArgs;\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        if (!isPrevent) {\n            this.checkActionNodes = [];\n            eventArgs = this.getCheckEvent(currLi, state, e);\n            this.trigger('nodeChecking', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n        }\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            this.addCheck(currLi);\n            ariaState = 'true';\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            this.removeCheck(currLi);\n            ariaState = 'false';\n        }\n        else if (state === 'indeterminate' && !frameSpan.classList.contains(INDETERMINATE)) {\n            frameSpan.classList.remove(CHECK);\n            frameSpan.classList.add(INDETERMINATE);\n            this.removeCheck(currLi);\n            ariaState = 'mixed';\n        }\n        ariaState = state === 'check' ? 'true' : state === 'uncheck' ? 'false' : ariaState;\n        if (!isNOU(ariaState)) {\n            wrapper.setAttribute('aria-checked', ariaState);\n        }\n        if (isAdd) {\n            var data = [].concat([], this.checkActionNodes);\n            eventArgs = this.getCheckEvent(currLi, state, e);\n            if (isUndefined(isPrevent)) {\n                eventArgs.data = data;\n            }\n        }\n        if (!isPrevent) {\n            if (!isNOU(ariaState)) {\n                wrapper.setAttribute('aria-checked', ariaState);\n                eventArgs.data[0].checked = ariaState;\n                this.trigger('nodeChecked', eventArgs);\n                this.checkActionNodes = [];\n            }\n        }\n    };\n    TreeView.prototype.addCheck = function (liEle) {\n        var id = liEle.getAttribute('data-uid');\n        if (!isNOU(id) && this.checkedNodes.indexOf(id) === -1) {\n            this.checkedNodes.push(id);\n        }\n    };\n    TreeView.prototype.removeCheck = function (liEle) {\n        var index = this.checkedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.checkedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.getCheckEvent = function (currLi, action, e) {\n        this.checkActionNodes.push(this.getNodeData(currLi));\n        var nodeData = this.checkActionNodes;\n        return { action: action, cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, data: nodeData };\n    };\n    TreeView.prototype.finalize = function () {\n        var firstUl = select('.' + PARENTITEM, this.element);\n        firstUl.setAttribute('role', treeAriaAttr.treeRole);\n        this.setMultiSelect(this.allowMultiSelection);\n        var firstNode = select('.' + LISTITEM, this.element);\n        if (firstNode) {\n            addClass([firstNode], FOCUS);\n            this.updateIdAttr(null, firstNode);\n        }\n        this.doSelectionAction();\n        this.updateCheckedProp();\n        this.isLoaded = true;\n        this.isAnimate = false;\n        var eventArgs = { data: this.treeData };\n        this.trigger('dataBound', eventArgs);\n    };\n    TreeView.prototype.doSelectionAction = function () {\n        var sNodes = selectAll('.' + SELECTED, this.element);\n        var sUids = this.selectedNodes;\n        if (sUids.length > 0) {\n            this.setProperties({ selectedNodes: [] }, true);\n            for (var i = 0; i < sUids.length; i++) {\n                var sNode = select('[data-uid=\"' + sUids[i] + '\"]', this.element);\n                this.selectNode(sNode, null, true);\n                if (!this.allowMultiSelection) {\n                    break;\n                }\n            }\n        }\n        else {\n            this.selectGivenNodes(sNodes);\n        }\n        removeClass(sNodes, SELECTED);\n    };\n    TreeView.prototype.selectGivenNodes = function (sNodes) {\n        for (var i = 0; i < sNodes.length; i++) {\n            this.selectNode(sNodes[i], null, true);\n            if (!this.allowMultiSelection) {\n                break;\n            }\n        }\n    };\n    TreeView.prototype.clickHandler = function (event) {\n        var target = event.originalEvent.target;\n        EventHandler.remove(this.element, 'contextmenu', this.preventContextMenu);\n        if (!target || this.dragStartAction) {\n            return;\n        }\n        else {\n            var classList = target.classList;\n            var li = closest(target, '.' + LISTITEM);\n            if (!li) {\n                return;\n            }\n            else {\n                this.removeHover();\n                this.setFocusElement(li);\n                if (this.showCheckBox && !li.classList.contains('e-disable')) {\n                    var checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n                    if (!isNOU(checkWrapper)) {\n                        var checkElement = select('.' + CHECKBOXFRAME, checkWrapper);\n                        this.validateCheckNode(checkWrapper, checkElement.classList.contains(CHECK), li, event.originalEvent);\n                        this.triggerClickEvent(event.originalEvent, li);\n                        return;\n                    }\n                }\n                if (classList.contains(EXPANDABLE)) {\n                    this.expandAction(li, target, event);\n                }\n                else if (classList.contains(COLLAPSIBLE)) {\n                    this.collapseNode(li, target, event);\n                }\n                else {\n                    if (!classList.contains(PARENTITEM) && !classList.contains(LISTITEM)) {\n                        this.toggleSelect(li, event.originalEvent, false);\n                    }\n                }\n                this.triggerClickEvent(event.originalEvent, li);\n            }\n        }\n    };\n    TreeView.prototype.nodeCheckingEvent = function (wrapper, isCheck, e) {\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        this.checkActionNodes = [];\n        var ariaState = !isCheck ? 'true' : 'false';\n        if (!isNOU(ariaState)) {\n            wrapper.setAttribute('aria-checked', ariaState);\n        }\n        var eventArgs = this.getCheckEvent(currLi, !isCheck ? 'uncheck' : 'check', e);\n        this.trigger('nodeChecking', eventArgs);\n        return eventArgs;\n    };\n    TreeView.prototype.nodeCheckedEvent = function (wrapper, isCheck, e) {\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        var eventArgs = this.getCheckEvent(wrapper, isCheck ? 'uncheck' : 'check', e);\n        eventArgs.data = eventArgs.data.splice(0, eventArgs.data.length - 1);\n        this.trigger('nodeChecked', eventArgs);\n    };\n    TreeView.prototype.triggerClickEvent = function (e, li) {\n        var eventArgs = {\n            event: e,\n            node: li,\n        };\n        this.trigger('nodeClicked', eventArgs);\n    };\n    TreeView.prototype.expandNode = function (currLi, icon) {\n        var _this = this;\n        if (icon.classList.contains(LOAD)) {\n            this.hideSpinner(icon);\n        }\n        removeClass([icon], EXPANDABLE);\n        addClass([icon], COLLAPSIBLE);\n        var start = 0;\n        var end = 0;\n        var proxy = this;\n        var ul = select('.' + PARENTITEM, currLi);\n        var liEle = currLi;\n        this.setHeight(liEle, ul);\n        if (!this.isAnimate) {\n            this.aniObj.animate(ul, {\n                name: this.animation.expand.effect,\n                duration: this.animation.expand.duration,\n                timingFunction: this.animation.expand.easing,\n                begin: function (args) {\n                    liEle.style.overflow = 'hidden';\n                    start = liEle.offsetHeight;\n                    end = select('.' + TEXTWRAP, currLi).offsetHeight;\n                },\n                progress: function (args) {\n                    args.element.style.display = 'block';\n                    proxy.animateHeight(args, start, end);\n                },\n                end: function (args) {\n                    args.element.style.display = 'block';\n                    _this.expandedNode(liEle, ul, icon);\n                }\n            });\n        }\n        else {\n            this.expandedNode(liEle, ul, icon);\n        }\n    };\n    TreeView.prototype.expandedNode = function (currLi, ul, icon) {\n        ul.style.display = 'block';\n        currLi.style.display = 'block';\n        currLi.style.overflow = '';\n        currLi.style.height = '';\n        removeClass([icon], PROCESS);\n        currLi.setAttribute('aria-expanded', 'true');\n        removeClass([currLi], NODECOLLAPSED);\n        if (this.isLoaded && this.expandArgs) {\n            this.trigger('nodeExpanded', this.expandArgs);\n        }\n    };\n    TreeView.prototype.collapseNode = function (currLi, icon, e) {\n        var _this = this;\n        if (icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            addClass([icon], PROCESS);\n        }\n        var colArgs;\n        if (this.isLoaded) {\n            colArgs = this.getExpandEvent(currLi, e);\n            this.trigger('nodeCollapsing', colArgs);\n            if (colArgs.cancel) {\n                removeClass([icon], PROCESS);\n                return;\n            }\n        }\n        removeClass([icon], COLLAPSIBLE);\n        addClass([icon], EXPANDABLE);\n        var start = 0;\n        var end = 0;\n        var proxy = this;\n        var ul = select('.' + PARENTITEM, currLi);\n        var liEle = currLi;\n        addClass([currLi], NODECOLLAPSED);\n        this.aniObj.animate(ul, {\n            name: this.animation.collapse.effect,\n            duration: this.animation.collapse.duration,\n            timingFunction: this.animation.collapse.easing,\n            begin: function (args) {\n                liEle.style.overflow = 'hidden';\n                start = select('.' + TEXTWRAP, currLi).offsetHeight;\n                end = liEle.offsetHeight;\n            },\n            progress: function (args) {\n                proxy.animateHeight(args, start, end);\n            },\n            end: function (args) {\n                liEle.style.overflow = '';\n                args.element.style.display = 'none';\n                liEle.style.height = '';\n                removeClass([icon], PROCESS);\n                currLi.setAttribute('aria-expanded', 'false');\n                if (_this.isLoaded) {\n                    _this.trigger('nodeCollapsed', colArgs);\n                }\n            }\n        });\n    };\n    TreeView.prototype.setHeight = function (currLi, ul) {\n        ul.style.display = 'block';\n        ul.style.visibility = 'hidden';\n        currLi.style.height = currLi.offsetHeight + 'px';\n        ul.style.display = 'none';\n        ul.style.visibility = '';\n    };\n    TreeView.prototype.animateHeight = function (args, start, end) {\n        var remaining = (args.duration - args.timeStamp) / args.duration;\n        var currentHeight = (end - start) * remaining + start;\n        args.element.parentElement.style.height = currentHeight + 'px';\n    };\n    TreeView.prototype.renderChildNodes = function (parentLi, expandChild) {\n        var _this = this;\n        var eicon = select('div.' + ICON, parentLi);\n        if (isNOU(eicon)) {\n            return;\n        }\n        this.showSpinner(eicon);\n        var childItems;\n        if (this.fields.dataSource instanceof DataManager) {\n            var level = this.parents(parentLi, '.' + PARENTITEM).length;\n            var mapper_1 = this.getChildFields(this.fields, level, 1);\n            if (isNOU(mapper_1) || isNOU(mapper_1.dataSource)) {\n                detach(eicon);\n                parentLi.removeAttribute('aria-expanded');\n                return;\n            }\n            this.treeList.push('false');\n            mapper_1.dataSource.executeQuery(this.getQuery(mapper_1, parentLi.getAttribute('data-uid'))).then(function (e) {\n                _this.treeList.pop();\n                childItems = e.result;\n                _this.currentLoadData = childItems;\n                if (isNOU(childItems) || childItems.length === 0) {\n                    detach(eicon);\n                    parentLi.removeAttribute('aria-expanded');\n                }\n                else {\n                    var prop = _this.getActualProperties(mapper_1);\n                    _this.listBaseOption.fields = prop;\n                    _this.listBaseOption.fields.url = prop.navigateUrl;\n                    var id = parentLi.getAttribute('data-uid');\n                    var nodeData = _this.getNodeObject(id);\n                    setValue('child', childItems, nodeData);\n                    _this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n                    parentLi.appendChild(ListBase.createList(childItems, _this.listBaseOption));\n                    _this.expandNode(parentLi, eicon);\n                    _this.ensureCheckNode(parentLi);\n                    _this.finalizeNode(parentLi);\n                    _this.renderSubChild(parentLi, expandChild);\n                }\n                if (_this.treeList.length === 0 && !_this.isLoaded) {\n                    _this.finalize();\n                }\n            });\n        }\n        else {\n            childItems = this.getChildNodes(this.treeData, parentLi.getAttribute('data-uid'));\n            this.currentLoadData = childItems;\n            if (isNOU(childItems) || childItems.length === 0) {\n                detach(eicon);\n                parentLi.removeAttribute('aria-expanded');\n                return;\n            }\n            else {\n                this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n                parentLi.appendChild(ListBase.createList(this.getSortedData(childItems), this.listBaseOption));\n                this.expandNode(parentLi, eicon);\n                this.ensureCheckNode(parentLi);\n                this.finalizeNode(parentLi);\n                this.renderSubChild(parentLi, expandChild);\n            }\n        }\n    };\n    TreeView.prototype.ensureCheckNode = function (element) {\n        if (this.showCheckBox) {\n            this.ensureChildCheckState(element);\n            this.ensureParentCheckState(element);\n        }\n        this.currentLoadData = null;\n    };\n    TreeView.prototype.getFields = function (mapper, nodeLevel, dataLevel) {\n        if (nodeLevel === dataLevel) {\n            return mapper;\n        }\n        else {\n            return this.getFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n        }\n    };\n    TreeView.prototype.getChildFields = function (mapper, nodeLevel, dataLevel) {\n        var childData;\n        if (nodeLevel === dataLevel) {\n            return this.getChildMapper(mapper);\n        }\n        else {\n            return this.getChildFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n        }\n    };\n    TreeView.prototype.getChildMapper = function (mapper) {\n        return (typeof mapper.child === 'string' || isNOU(mapper.child)) ? mapper : mapper.child;\n    };\n    TreeView.prototype.getChildNodes = function (obj, parentId, isRoot) {\n        if (isRoot === void 0) { isRoot = false; }\n        var childNodes;\n        if (isNOU(obj)) {\n            return childNodes;\n        }\n        else if (this.dataType === 1) {\n            return this.getChildGroup(this.groupedData, parentId, isRoot);\n        }\n        else {\n            if (typeof this.fields.child === 'string') {\n                for (var i = 0, objlen = obj.length; i < objlen; i++) {\n                    var dataId = getValue(this.fields.id, obj[i]);\n                    if (dataId && dataId.toString() === parentId) {\n                        return getValue(this.fields.child, obj[i]);\n                    }\n                    else if (!isNOU(getValue(this.fields.child, obj[i]))) {\n                        childNodes = this.getChildNodes(getValue(this.fields.child, obj[i]), parentId);\n                        if (childNodes !== undefined) {\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return childNodes;\n    };\n    TreeView.prototype.getChildGroup = function (data, parentId, isRoot) {\n        var childNodes;\n        if (isNOU(data)) {\n            return childNodes;\n        }\n        for (var i = 0, objlen = data.length; i < objlen; i++) {\n            if (!isNOU(data[i][0]) && !isNOU(getValue(this.fields.parentID, data[i][0]))) {\n                if (getValue(this.fields.parentID, data[i][0]).toString() === parentId) {\n                    return data[i];\n                }\n            }\n            else if (isRoot) {\n                return data[i];\n            }\n            else {\n                return [];\n            }\n        }\n        return childNodes;\n    };\n    TreeView.prototype.renderSubChild = function (element, expandChild) {\n        if (expandChild) {\n            var cIcons = selectAll('.' + EXPANDABLE, element);\n            for (var i = 0, len = cIcons.length; i < len; i++) {\n                var icon = cIcons[i];\n                var curLi = closest(icon, '.' + LISTITEM);\n                this.renderChildNodes(curLi, expandChild);\n            }\n        }\n    };\n    TreeView.prototype.toggleSelect = function (li, e, multiSelect) {\n        if (!li.classList.contains('e-disable')) {\n            if (this.allowMultiSelection && ((e && e.ctrlKey) || multiSelect) && this.isActive(li)) {\n                this.unselectNode(li, e);\n            }\n            else {\n                this.selectNode(li, e, multiSelect);\n            }\n        }\n    };\n    TreeView.prototype.isActive = function (li) {\n        return li.classList.contains(ACTIVE) ? true : false;\n    };\n    TreeView.prototype.selectNode = function (li, e, multiSelect) {\n        if (isNOU(li) || (!this.allowMultiSelection && this.isActive(li) && !isNOU(e))) {\n            this.setFocusElement(li);\n            return;\n        }\n        var eventArgs;\n        if (this.isLoaded) {\n            eventArgs = this.getSelectEvent(li, 'select', e);\n            this.trigger('nodeSelecting', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n        }\n        if (!this.allowMultiSelection || (!multiSelect && (!e || (e && !e.ctrlKey)))) {\n            this.removeSelectAll();\n        }\n        if (this.allowMultiSelection && e && e.shiftKey) {\n            if (!this.startNode) {\n                this.startNode = li;\n            }\n            var startIndex = this.liList.indexOf(this.startNode);\n            var endIndex = this.liList.indexOf(li);\n            if (startIndex > endIndex) {\n                var temp = startIndex;\n                startIndex = endIndex;\n                endIndex = temp;\n            }\n            for (var i = startIndex; i <= endIndex; i++) {\n                var currNode = this.liList[i];\n                if (isVisible(currNode)) {\n                    this.addSelect(currNode);\n                }\n            }\n        }\n        else {\n            this.startNode = li;\n            this.addSelect(li);\n        }\n        this.setFocusElement(li);\n        if (this.isLoaded) {\n            this.trigger('nodeSelected', eventArgs);\n        }\n    };\n    TreeView.prototype.unselectNode = function (li, e) {\n        var eventArgs;\n        if (this.isLoaded) {\n            eventArgs = this.getSelectEvent(li, 'un-select', e);\n            this.trigger('nodeSelecting', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n        }\n        this.removeSelect(li);\n        this.setFocusElement(li);\n        if (this.isLoaded) {\n            this.trigger('nodeSelected', eventArgs);\n        }\n    };\n    TreeView.prototype.setFocusElement = function (li) {\n        if (!isNOU(li)) {\n            var focusedNode = this.getFocusedNode();\n            if (focusedNode) {\n                removeClass([focusedNode], FOCUS);\n            }\n            addClass([li], FOCUS);\n            this.updateIdAttr(focusedNode, li);\n        }\n    };\n    TreeView.prototype.addSelect = function (liEle) {\n        liEle.setAttribute('aria-selected', 'true');\n        addClass([liEle], ACTIVE);\n        var id = liEle.getAttribute('data-uid');\n        if (!isNOU(id) && this.selectedNodes.indexOf(id) === -1) {\n            this.selectedNodes.push(id);\n        }\n    };\n    TreeView.prototype.removeSelect = function (liEle) {\n        if (this.allowMultiSelection) {\n            liEle.setAttribute('aria-selected', 'false');\n        }\n        else {\n            liEle.removeAttribute('aria-selected');\n        }\n        removeClass([liEle], ACTIVE);\n        var index = this.selectedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.selectedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.removeSelectAll = function () {\n        var selectedLI = this.element.querySelectorAll('.' + ACTIVE);\n        for (var _i = 0, selectedLI_1 = selectedLI; _i < selectedLI_1.length; _i++) {\n            var ele = selectedLI_1[_i];\n            if (this.allowMultiSelection) {\n                ele.setAttribute('aria-selected', 'false');\n            }\n            else {\n                ele.removeAttribute('aria-selected');\n            }\n        }\n        removeClass(selectedLI, ACTIVE);\n        this.setProperties({ selectedNodes: [] }, true);\n    };\n    TreeView.prototype.getSelectEvent = function (currLi, action, e) {\n        var nodeData = this.getNodeData(currLi);\n        return { action: action, cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, nodeData: nodeData };\n    };\n    TreeView.prototype.setExpandOnType = function () {\n        this.expandOnType = (this.expandOn === 'Auto') ? (Browser.isDevice ? 'Click' : 'DblClick') : this.expandOn;\n    };\n    TreeView.prototype.expandHandler = function (e) {\n        var target = e.originalEvent.target;\n        if (!target || target.classList.contains(INPUT) || target.classList.contains(ROOT) ||\n            target.classList.contains(PARENTITEM) || target.classList.contains(LISTITEM) ||\n            target.classList.contains(ICON) || this.showCheckBox && closest(target, '.' + CHECKBOXWRAP)) {\n            return;\n        }\n        else {\n            this.expandCollapseAction(closest(target, '.' + LISTITEM), e);\n        }\n    };\n    TreeView.prototype.expandCollapseAction = function (currLi, e) {\n        var icon = select('div.' + ICON, currLi);\n        if (!icon || icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            var classList = icon.classList;\n            if (classList.contains(EXPANDABLE)) {\n                this.expandAction(currLi, icon, e);\n            }\n            else {\n                this.collapseNode(currLi, icon, e);\n            }\n        }\n    };\n    TreeView.prototype.expandAction = function (currLi, icon, e, expandChild) {\n        if (icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            addClass([icon], PROCESS);\n        }\n        if (this.isLoaded) {\n            this.expandArgs = this.getExpandEvent(currLi, e);\n            this.trigger('nodeExpanding', this.expandArgs);\n            if (this.expandArgs.cancel) {\n                removeClass([icon], PROCESS);\n                return;\n            }\n        }\n        var ul = select('.' + PARENTITEM, currLi);\n        if (ul && ul.nodeName === 'UL') {\n            this.expandNode(currLi, icon);\n        }\n        else {\n            this.renderChildNodes(currLi, expandChild);\n        }\n    };\n    TreeView.prototype.keyActionHandler = function (e) {\n        var target = e.target;\n        var focusedNode = this.getFocusedNode();\n        if (target && target.classList.contains(INPUT)) {\n            var inpEle = target;\n            if (e.action === 'enter') {\n                inpEle.blur();\n                this.element.focus();\n                addClass([focusedNode], HOVER);\n            }\n            else if (e.action === 'escape') {\n                inpEle.value = this.oldText;\n                inpEle.blur();\n                this.element.focus();\n                addClass([focusedNode], HOVER);\n            }\n            return;\n        }\n        e.preventDefault();\n        var eventArgs = {\n            cancel: false,\n            event: e,\n            node: focusedNode,\n        };\n        this.trigger('keyPress', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        switch (e.action) {\n            case 'space':\n                if (this.showCheckBox) {\n                    this.checkNode(e);\n                }\n                break;\n            case 'moveRight':\n                this.openNode(this.enableRtl ? false : true, e);\n                break;\n            case 'moveLeft':\n                this.openNode(this.enableRtl ? true : false, e);\n                break;\n            case 'shiftDown':\n                this.shiftKeySelect(true, e);\n                break;\n            case 'moveDown':\n            case 'ctrlDown':\n            case 'csDown':\n                this.navigateNode(true);\n                break;\n            case 'shiftUp':\n                this.shiftKeySelect(false, e);\n                break;\n            case 'moveUp':\n            case 'ctrlUp':\n            case 'csUp':\n                this.navigateNode(false);\n                break;\n            case 'home':\n            case 'shiftHome':\n            case 'ctrlHome':\n            case 'csHome':\n                this.navigateRootNode(true);\n                break;\n            case 'end':\n            case 'shiftEnd':\n            case 'ctrlEnd':\n            case 'csEnd':\n                this.navigateRootNode(false);\n                break;\n            case 'enter':\n            case 'ctrlEnter':\n            case 'shiftEnter':\n            case 'csEnter':\n                this.toggleSelect(focusedNode, e);\n                break;\n            case 'f2':\n                if (this.allowEditing) {\n                    this.createTextbox(focusedNode, e);\n                }\n                break;\n            case 'ctrlA':\n                if (this.allowMultiSelection) {\n                    var sNodes = selectAll('.' + LISTITEM + ':not(.' + ACTIVE + ')', this.element);\n                    this.selectGivenNodes(sNodes);\n                }\n                break;\n        }\n    };\n    TreeView.prototype.navigateToFocus = function (isUp) {\n        var focusNode = this.getFocusedNode().querySelector('.' + TEXTWRAP);\n        var pos = focusNode.getBoundingClientRect();\n        var parent = this.getScrollParent(this.element);\n        if (!isNOU(parent)) {\n            var parentPos = parent.getBoundingClientRect();\n            if (pos.bottom > parentPos.bottom) {\n                parent.scrollTop += pos.bottom - parentPos.bottom;\n            }\n            else if (pos.top < parentPos.top) {\n                parent.scrollTop -= parentPos.top - pos.top;\n            }\n        }\n        var isVisible = this.isVisibleInViewport(focusNode);\n        if (!isVisible) {\n            focusNode.scrollIntoView(isUp);\n        }\n    };\n    TreeView.prototype.isVisibleInViewport = function (txtWrap) {\n        var pos = txtWrap.getBoundingClientRect();\n        return (pos.top >= 0 && pos.left >= 0 && pos.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n            pos.right <= (window.innerWidth || document.documentElement.clientWidth));\n    };\n    TreeView.prototype.getScrollParent = function (node) {\n        if (isNOU(node)) {\n            return null;\n        }\n        return (node.scrollHeight > node.clientHeight) ? node : this.getScrollParent(node.parentElement);\n    };\n    TreeView.prototype.shiftKeySelect = function (isTowards, e) {\n        if (this.allowMultiSelection) {\n            var focusedNode = this.getFocusedNode();\n            var nextNode = isTowards ? this.getNextNode(focusedNode) : this.getPrevNode(focusedNode);\n            this.removeHover();\n            this.setFocusElement(nextNode);\n            this.toggleSelect(nextNode, e, false);\n            this.navigateToFocus(!isTowards);\n        }\n        else {\n            this.navigateNode(isTowards);\n        }\n    };\n    TreeView.prototype.checkNode = function (e) {\n        var focusedNode = this.getFocusedNode();\n        var checkWrap = select('.' + CHECKBOXWRAP, focusedNode);\n        var isChecked = select(' .' + CHECKBOXFRAME, checkWrap).classList.contains(CHECK);\n        this.validateCheckNode(checkWrap, isChecked, focusedNode, e);\n    };\n    TreeView.prototype.validateCheckNode = function (checkWrap, isCheck, li, e) {\n        var eventArgs = this.nodeCheckingEvent(checkWrap, isCheck, e);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true);\n        this.ensureChildCheckState(li);\n        this.ensureParentCheckState(closest(closest(li, '.' + PARENTITEM), '.' + LISTITEM));\n        this.nodeCheckedEvent(checkWrap, isCheck, e);\n    };\n    TreeView.prototype.openNode = function (toBeOpened, e) {\n        var focusedNode = this.getFocusedNode();\n        var icon = select('div.' + ICON, focusedNode);\n        if (toBeOpened) {\n            if (!icon) {\n                return;\n            }\n            else if (icon.classList.contains(EXPANDABLE)) {\n                this.expandAction(focusedNode, icon, e);\n            }\n            else {\n                this.focusNextNode(focusedNode, true);\n            }\n        }\n        else {\n            if (icon && icon.classList.contains(COLLAPSIBLE)) {\n                this.collapseNode(focusedNode, icon, e);\n            }\n            else {\n                var parentLi = closest(closest(focusedNode, '.' + PARENTITEM), '.' + LISTITEM);\n                if (!parentLi) {\n                    return;\n                }\n                else {\n                    this.setFocus(focusedNode, parentLi);\n                    this.navigateToFocus(true);\n                }\n            }\n        }\n    };\n    TreeView.prototype.navigateNode = function (isTowards) {\n        var focusedNode = this.getFocusedNode();\n        this.focusNextNode(focusedNode, isTowards);\n    };\n    TreeView.prototype.navigateRootNode = function (isBackwards) {\n        var focusedNode = this.getFocusedNode();\n        var rootNode = isBackwards ? this.getRootNode() : this.getEndNode();\n        this.setFocus(focusedNode, rootNode);\n        this.navigateToFocus(isBackwards);\n    };\n    TreeView.prototype.getFocusedNode = function () {\n        var fNode = select('.' + LISTITEM + '.' + FOCUS, this.element);\n        return isNOU(fNode) ? select('.' + LISTITEM, this.element) : fNode;\n    };\n    TreeView.prototype.focusNextNode = function (li, isTowards) {\n        var nextNode = isTowards ? this.getNextNode(li) : this.getPrevNode(li);\n        this.setFocus(li, nextNode);\n        this.navigateToFocus(!isTowards);\n        if (nextNode.classList.contains('e-disable')) {\n            this.focusNextNode(nextNode, isTowards);\n        }\n    };\n    TreeView.prototype.getNextNode = function (li) {\n        var index = this.liList.indexOf(li);\n        var nextNode;\n        var i;\n        do {\n            index++;\n            if (index === this.liList.length && li.classList.contains('e-disable')) {\n                for (i = index - 1; i > 0; i--) {\n                    if (!this.liList[i].classList.contains('e-disable')) {\n                        index = i;\n                        break;\n                    }\n                }\n            }\n            nextNode = this.liList[index];\n            if (isNOU(nextNode)) {\n                return li;\n            }\n        } while (!isVisible(nextNode));\n        return nextNode;\n    };\n    TreeView.prototype.getPrevNode = function (li) {\n        var index = this.liList.indexOf(li);\n        var prevNode;\n        var i;\n        do {\n            index--;\n            if (index < 0 && li.classList.contains('e-disable')) {\n                for (i = 1; i < this.liList.length; i++) {\n                    if (!this.liList[i].classList.contains('e-disable')) {\n                        index = i;\n                        break;\n                    }\n                }\n            }\n            prevNode = this.liList[index];\n            if (isNOU(prevNode)) {\n                return li;\n            }\n        } while (!isVisible(prevNode));\n        return prevNode;\n    };\n    TreeView.prototype.getRootNode = function () {\n        var index = 0;\n        var rootNode;\n        do {\n            rootNode = this.liList[index];\n            index++;\n        } while (!isVisible(rootNode));\n        return rootNode;\n    };\n    TreeView.prototype.getEndNode = function () {\n        var index = this.liList.length - 1;\n        var endNode;\n        do {\n            endNode = this.liList[index];\n            index--;\n        } while (!isVisible(endNode));\n        return endNode;\n    };\n    TreeView.prototype.setFocus = function (preNode, nextNode) {\n        removeClass([preNode], [HOVER, FOCUS]);\n        addClass([nextNode], [HOVER, FOCUS]);\n        this.updateIdAttr(preNode, nextNode);\n    };\n    TreeView.prototype.updateIdAttr = function (preNode, nextNode) {\n        this.element.removeAttribute('aria-activedescendant');\n        if (preNode) {\n            preNode.removeAttribute('id');\n        }\n        nextNode.setAttribute('id', this.element.id + '_active');\n        this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n    };\n    TreeView.prototype.focusIn = function () {\n        if (!this.mouseDownStatus) {\n            addClass([this.getFocusedNode()], HOVER);\n        }\n        this.mouseDownStatus = false;\n    };\n    TreeView.prototype.focusOut = function () {\n        removeClass([this.getFocusedNode()], HOVER);\n    };\n    TreeView.prototype.onMouseOver = function (e) {\n        var target = e.target;\n        var classList = target.classList;\n        var currentLi = closest(target, '.' + LISTITEM);\n        if (!currentLi || classList.contains(PARENTITEM) || classList.contains(LISTITEM)) {\n            this.removeHover();\n            return;\n        }\n        else {\n            if (currentLi && !currentLi.classList.contains('e-disable')) {\n                this.setHover(currentLi);\n            }\n        }\n    };\n    TreeView.prototype.setHover = function (li) {\n        if (!li.classList.contains(HOVER)) {\n            this.removeHover();\n            addClass([li], HOVER);\n        }\n    };\n    ;\n    TreeView.prototype.onMouseLeave = function (e) {\n        this.removeHover();\n    };\n    TreeView.prototype.removeHover = function () {\n        var hoveredNode = selectAll('.' + HOVER, this.element);\n        if (hoveredNode && hoveredNode.length) {\n            removeClass(hoveredNode, HOVER);\n        }\n    };\n    ;\n    TreeView.prototype.getNodeData = function (currLi, fromDS) {\n        if (!isNOU(currLi) && currLi.classList.contains(LISTITEM)) {\n            var id = currLi.getAttribute('data-uid');\n            var text = this.getText(currLi, fromDS);\n            var pNode = closest(currLi.parentNode, '.' + LISTITEM);\n            var pid = pNode ? pNode.getAttribute('data-uid') : null;\n            var selected = currLi.classList.contains(ACTIVE);\n            var expanded = (currLi.getAttribute('aria-expanded') === 'true') ? true : false;\n            var checked = null;\n            if (this.showCheckBox) {\n                checked = select('.' + CHECKBOXWRAP, currLi).getAttribute('aria-checked');\n            }\n            return { id: id, text: text, parentID: pid, selected: selected, expanded: expanded, isChecked: checked };\n        }\n        return { id: '', text: '', parentID: '', selected: '', expanded: '', isChecked: '' };\n    };\n    TreeView.prototype.getText = function (currLi, fromDS) {\n        if (fromDS) {\n            var nodeData = this.getNodeObject(currLi.getAttribute('data-uid'));\n            var level = parseFloat(currLi.getAttribute('aria-level'));\n            var nodeFields = this.getFields(this.fields, level, 1);\n            return getValue(nodeFields.text, nodeData);\n        }\n        return select('.' + LISTTEXT, currLi).textContent;\n    };\n    TreeView.prototype.getExpandEvent = function (currLi, e) {\n        var nodeData = this.getNodeData(currLi);\n        return { cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, nodeData: nodeData, event: e };\n    };\n    TreeView.prototype.reRenderNodes = function () {\n        this.element.innerHTML = '';\n        this.setTouchClass();\n        this.setProperties({ selectedNodes: [], checkedNodes: [] }, true);\n        this.isLoaded = false;\n        this.setDataBinding();\n    };\n    TreeView.prototype.setCssClass = function (oldClass, newClass) {\n        if (!isNOU(oldClass) && oldClass !== '') {\n            removeClass([this.element], oldClass.split(' '));\n        }\n        if (!isNOU(newClass) && newClass !== '') {\n            addClass([this.element], newClass.split(' '));\n        }\n    };\n    TreeView.prototype.editingHandler = function (e) {\n        var target = e.target;\n        if (!target || target.classList.contains(ROOT) || target.classList.contains(PARENTITEM) ||\n            target.classList.contains(LISTITEM) || target.classList.contains(ICON) ||\n            target.classList.contains(INPUT) || target.classList.contains(INPUTGROUP)) {\n            return;\n        }\n        else {\n            var liEle = closest(target, '.' + LISTITEM);\n            this.createTextbox(liEle, e);\n        }\n    };\n    TreeView.prototype.createTextbox = function (liEle, e) {\n        var oldInpEle = select('.' + TREEINPUT, this.element);\n        if (oldInpEle) {\n            oldInpEle.blur();\n        }\n        var textEle = select('.' + LISTTEXT, liEle);\n        this.updateOldText(liEle);\n        var innerEle = createElement('input', { className: TREEINPUT, attrs: { value: this.oldText } });\n        var eventArgs = this.getEditEvent(liEle, null, innerEle.outerHTML);\n        this.trigger('nodeEditing', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        var inpWidth = textEle.offsetWidth + 5;\n        var style = 'width:' + inpWidth + 'px';\n        addClass([liEle], EDITING);\n        textEle.innerHTML = eventArgs.innerHtml;\n        var inpEle = select('.' + TREEINPUT, textEle);\n        this.inputObj = Input.createInput({\n            element: inpEle,\n            properties: {\n                enableRtl: this.enableRtl,\n            }\n        });\n        this.inputObj.container.setAttribute('style', style);\n        inpEle.focus();\n        var inputEle = inpEle;\n        inputEle.setSelectionRange(0, inputEle.value.length);\n        this.wireInputEvents(inpEle);\n    };\n    TreeView.prototype.updateOldText = function (liEle) {\n        var id = liEle.getAttribute('data-uid');\n        this.editData = this.getNodeObject(id);\n        var level = parseFloat(liEle.getAttribute('aria-level'));\n        this.editFields = this.getFields(this.fields, level, 1);\n        this.oldText = getValue(this.editFields.text, this.editData);\n    };\n    TreeView.prototype.inputFocusOut = function (e) {\n        if (!select('.' + TREEINPUT, this.element)) {\n            return;\n        }\n        var target = e.target;\n        var newText = target.value;\n        var txtEle = closest(target, '.' + LISTTEXT);\n        var liEle = closest(target, '.' + LISTITEM);\n        detach(this.inputObj.container);\n        this.appendNewText(liEle, txtEle, newText, true);\n    };\n    TreeView.prototype.appendNewText = function (liEle, txtEle, newText, isInput) {\n        var newData = setValue(this.editFields.text, newText, this.editData);\n        if (!isNOU(this.nodeTemplateFn)) {\n            txtEle.innerHTML = '';\n            append(this.nodeTemplateFn(newData), txtEle);\n        }\n        else {\n            txtEle.innerHTML = newText;\n        }\n        if (isInput) {\n            removeClass([liEle], EDITING);\n            txtEle.focus();\n        }\n        this.trigger('nodeEdited', this.getEditEvent(liEle, newText, null));\n    };\n    TreeView.prototype.getElement = function (ele) {\n        if (isNOU(ele)) {\n            return null;\n        }\n        else if (typeof ele === 'string') {\n            return this.element.querySelector('[data-uid=\"' + ele + '\"]');\n        }\n        else if (typeof ele === 'object') {\n            return ele;\n        }\n        else {\n            return null;\n        }\n    };\n    TreeView.prototype.getEditEvent = function (liEle, newText, inpEle) {\n        var data = this.getNodeData(liEle);\n        return { cancel: false, newText: newText, node: liEle, nodeData: data, oldText: this.oldText, innerHtml: inpEle };\n    };\n    TreeView.prototype.getNodeObject = function (id) {\n        var childNodes;\n        if (isNOU(id)) {\n            return childNodes;\n        }\n        else if (this.dataType === 1) {\n            for (var i = 0, objlen = this.treeData.length; i < objlen; i++) {\n                var dataId = getValue(this.fields.id, this.treeData[i]);\n                if (!isNOU(this.treeData[i]) && !isNOU(dataId) && dataId.toString() === id) {\n                    return this.treeData[i];\n                }\n            }\n        }\n        else {\n            return this.getChildNodeObject(this.treeData, this.fields, id);\n        }\n        return childNodes;\n    };\n    TreeView.prototype.getChildNodeObject = function (obj, mapper, id) {\n        var newList;\n        if (isNOU(obj)) {\n            return newList;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var dataId = getValue(mapper.id, obj[i]);\n            if (obj[i] && dataId && dataId.toString() === id) {\n                return obj[i];\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var childData = getValue(mapper.child, obj[i]);\n                newList = this.getChildNodeObject(childData, this.getChildMapper(mapper), id);\n                if (newList !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                var child = 'child';\n                newList = this.getChildNodeObject(getValue(child, obj[i]), this.getChildMapper(mapper), id);\n                if (newList !== undefined) {\n                    break;\n                }\n            }\n        }\n        return newList;\n    };\n    TreeView.prototype.setDragAndDrop = function (toBind) {\n        if (toBind) {\n            this.initializeDrag();\n        }\n        else {\n            this.destroyDrag();\n        }\n    };\n    TreeView.prototype.initializeDrag = function () {\n        var _this = this;\n        var virtualEle;\n        this.dragObj = new Draggable(this.element, {\n            enableTailMode: true,\n            dragTarget: '.' + TEXTWRAP,\n            helper: function (e) {\n                _this.dragTarget = e.sender.target;\n                var dragRoot = closest(_this.dragTarget, '.' + ROOT);\n                var dragWrap = closest(_this.dragTarget, '.' + TEXTWRAP);\n                _this.dragLi = closest(_this.dragTarget, '.' + LISTITEM);\n                if (_this.fullRowSelect && !dragWrap && _this.dragTarget.classList.contains(FULLROW)) {\n                    dragWrap = _this.dragTarget.nextElementSibling;\n                }\n                if (!_this.dragTarget || !e.element.isSameNode(dragRoot) || !dragWrap ||\n                    _this.dragTarget.classList.contains(ROOT) || _this.dragTarget.classList.contains(PARENTITEM) ||\n                    _this.dragTarget.classList.contains(LISTITEM)) {\n                    return false;\n                }\n                var cloneEle = (dragWrap.cloneNode(true));\n                if (isNOU(select('div.' + ICON, cloneEle))) {\n                    var icon = createElement('div', { className: ICON + ' ' + EXPANDABLE });\n                    cloneEle.insertBefore(icon, cloneEle.children[0]);\n                }\n                var cssClass = DRAGITEM + ' ' + ROOT + ' ' + _this.cssClass + ' ' + (_this.enableRtl ? RTL : '');\n                virtualEle = createElement('div', { className: cssClass });\n                virtualEle.appendChild(cloneEle);\n                var nLen = _this.selectedNodes.length;\n                if (nLen > 1 && _this.allowMultiSelection && _this.dragLi.classList.contains(ACTIVE)) {\n                    var cNode = createElement('span', { className: DROPCOUNT, innerHTML: '' + nLen });\n                    virtualEle.appendChild(cNode);\n                }\n                document.body.appendChild(virtualEle);\n                document.body.style.cursor = '';\n                _this.dragData = _this.getNodeData(_this.dragLi);\n                return virtualEle;\n            },\n            dragStart: function (e) {\n                addClass([_this.element], DRAGGING);\n                var eventArgs = _this.getDragEvent(e.event, _this, null, e.target);\n                _this.trigger('nodeDragStart', eventArgs);\n                if (eventArgs.cancel) {\n                    detach(virtualEle);\n                    removeClass([_this.element], DRAGGING);\n                }\n                _this.dragStartAction = true;\n            },\n            drag: function (e) {\n                _this.dragObj.setProperties({ cursorAt: { top: (!isNOU(e.event.targetTouches) || Browser.isDevice) ? 60 : -20 } });\n                _this.dragAction(e, virtualEle);\n            },\n            dragStop: function (e) {\n                removeClass([_this.element], DRAGGING);\n                _this.removeVirtualEle();\n                var dropTarget = e.target;\n                var dropRoot = (closest(dropTarget, '.' + DROPPABLE));\n                if (!dropTarget || !dropRoot || dropTarget.classList.contains(ROOT)) {\n                    detach(e.helper);\n                    document.body.style.cursor = '';\n                }\n                var eventArgs = _this.getDragEvent(e.event, _this, dropTarget, dropTarget);\n                _this.trigger('nodeDragStop', eventArgs);\n                if (eventArgs.cancel) {\n                    if (e.helper.parentNode) {\n                        detach(e.helper);\n                    }\n                    document.body.style.cursor = '';\n                }\n                _this.dragStartAction = false;\n            }\n        });\n        this.dropObj = new Droppable(this.element, {\n            out: function (e) {\n                if (!isNOU(e) && !e.target.classList.contains(SIBLING)) {\n                    document.body.style.cursor = 'not-allowed';\n                }\n            },\n            over: function (e) {\n                document.body.style.cursor = '';\n            },\n            drop: function (e) {\n                _this.dropAction(e);\n            }\n        });\n    };\n    TreeView.prototype.dragAction = function (e, virtualEle) {\n        var dropRoot = closest(e.target, '.' + DROPPABLE);\n        var dropWrap = closest(e.target, '.' + TEXTWRAP);\n        var icon = select('div.' + ICON, virtualEle);\n        removeClass([icon], [DROPIN, DROPNEXT, DROPOUT, NODROP]);\n        this.removeVirtualEle();\n        document.body.style.cursor = '';\n        var classList = e.target.classList;\n        if (this.fullRowSelect && !dropWrap && !isNOU(classList) && classList.contains(FULLROW)) {\n            dropWrap = e.target.nextElementSibling;\n        }\n        if (dropRoot) {\n            var dropLi = closest(e.target, '.' + LISTITEM);\n            if (!dropRoot.classList.contains(ROOT) || (dropWrap &&\n                (!dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi)))) {\n                if (dropLi && e && (e.event.offsetY < 7)) {\n                    addClass([icon], DROPNEXT);\n                    var virEle = createElement('div', { className: SIBLING });\n                    var index = this.fullRowSelect ? (1) : (0);\n                    dropLi.insertBefore(virEle, dropLi.children[index]);\n                }\n                else if (dropLi && e && (e.target.offsetHeight > 0 && e.event.offsetY > (e.target.offsetHeight - 10))) {\n                    addClass([icon], DROPNEXT);\n                    var virEle = createElement('div', { className: SIBLING });\n                    var index = this.fullRowSelect ? (2) : (1);\n                    dropLi.insertBefore(virEle, dropLi.children[index]);\n                }\n                else {\n                    addClass([icon], DROPIN);\n                }\n            }\n            else if (e.target.nodeName === 'LI' && (!dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi))) {\n                addClass([icon], DROPNEXT);\n                this.renderVirtualEle(e);\n            }\n            else if (e.target.classList.contains(SIBLING)) {\n                addClass([icon], DROPNEXT);\n            }\n            else {\n                addClass([icon], DROPOUT);\n            }\n        }\n        else {\n            addClass([icon], NODROP);\n            document.body.style.cursor = 'not-allowed';\n        }\n        this.trigger('nodeDragging', this.getDragEvent(e.event, this, e.target, e.target));\n    };\n    TreeView.prototype.dropAction = function (e) {\n        var offsetY = e.event.offsetY;\n        var dropTarget = e.target;\n        var dragObj = e.dragData.draggable.ej2_instances[0];\n        var dragTarget = dragObj.dragTarget;\n        var dragLi = (closest(dragTarget, '.' + LISTITEM));\n        var dropLi = (closest(dropTarget, '.' + LISTITEM));\n        detach(e.droppedElement);\n        document.body.style.cursor = '';\n        if (!dropLi || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n            return;\n        }\n        if (dragObj.allowMultiSelection && (dragLi.classList.contains(ACTIVE) || (offsetY < 7 ||\n            (e.target.offsetHeight > 0 && offsetY > (e.target.offsetHeight - 10))))) {\n            var sNodes = selectAll('.' + ACTIVE, dragObj.element);\n            for (var i = 0; i < sNodes.length; i++) {\n                if (dropLi.isSameNode(sNodes[i]) || this.isDescendant(sNodes[i], dropLi)) {\n                    continue;\n                }\n                this.appendNode(dropTarget, sNodes[i], dropLi, e, dragObj, offsetY);\n            }\n        }\n        else {\n            this.appendNode(dropTarget, dragLi, dropLi, e, dragObj, offsetY);\n        }\n        this.trigger('nodeDropped', this.getDragEvent(e.event, dragObj, dropTarget, e.target));\n    };\n    TreeView.prototype.appendNode = function (dropTarget, dragLi, dropLi, e, dragObj, offsetY) {\n        if (dropTarget.nodeName === 'LI') {\n            this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n        }\n        else {\n            this.dropAsChildNode(dragLi, dropLi, dragObj, null, e, offsetY);\n        }\n    };\n    TreeView.prototype.dropAsSiblingNode = function (dragLi, dropLi, e, dragObj) {\n        var dropUl = closest(dropLi, '.' + PARENTITEM);\n        var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        var pre;\n        if (e.target.offsetHeight > 0 && e.event.offsetY > e.target.offsetHeight - 2) {\n            pre = false;\n        }\n        else if (e.event.offsetY < 2) {\n            pre = true;\n        }\n        dropUl.insertBefore(dragLi, pre ? e.target : e.target.nextElementSibling);\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateAriaLevel(dragLi);\n        if (dragObj.element.id === this.element.id) {\n            this.updateList();\n        }\n        else {\n            dragObj.updateInstance();\n            this.updateInstance();\n        }\n    };\n    TreeView.prototype.dropAsChildNode = function (dragLi, dropLi, dragObj, index, e, pos) {\n        var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        var dropParentUl = closest(dropLi, '.' + PARENTITEM);\n        if (e && (pos < 7)) {\n            dropParentUl.insertBefore(dragLi, dropLi);\n        }\n        else if (e && (e.target.offsetHeight > 0 && pos > (e.target.offsetHeight - 10))) {\n            dropParentUl.insertBefore(dragLi, dropLi.nextElementSibling);\n        }\n        else {\n            var dropUl = this.expandParent(dropLi);\n            dropUl.insertBefore(dragLi, dropUl.childNodes[index]);\n        }\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateAriaLevel(dragLi);\n        if (dragObj.element.id === this.element.id) {\n            this.updateList();\n        }\n        else {\n            dragObj.updateInstance();\n            this.updateInstance();\n        }\n    };\n    TreeView.prototype.expandParent = function (dropLi) {\n        var dropIcon = select('div.' + ICON, dropLi);\n        if (dropIcon && dropIcon.classList.contains(EXPANDABLE)) {\n            this.expandAction(dropLi, dropIcon, null);\n        }\n        var dropUl = select('.' + PARENTITEM, dropLi);\n        if (isNOU(dropUl)) {\n            ListBase.generateIcon(dropLi, COLLAPSIBLE, this.listBaseOption);\n            var icon = select('div.' + ICON, dropLi);\n            removeClass([icon], EXPANDABLE);\n            dropUl = ListBase.generateUL([], null, this.listBaseOption);\n            dropLi.appendChild(dropUl);\n            dropLi.setAttribute('aria-expanded', 'true');\n            removeClass([dropLi], NODECOLLAPSED);\n        }\n        return dropUl;\n    };\n    TreeView.prototype.updateElement = function (dragParentUl, dragParentLi) {\n        if (dragParentLi && dragParentUl.childElementCount === 0) {\n            var dragIcon = select('div.' + ICON, dragParentLi);\n            detach(dragParentUl);\n            detach(dragIcon);\n            dragParentLi.removeAttribute('aria-expanded');\n        }\n    };\n    TreeView.prototype.updateAriaLevel = function (dragLi) {\n        var level = this.parents(dragLi, '.' + PARENTITEM).length;\n        dragLi.setAttribute('aria-level', '' + level);\n        this.updateChildAriaLevel(select('.' + PARENTITEM, dragLi), level + 1);\n    };\n    TreeView.prototype.updateChildAriaLevel = function (element, level) {\n        if (!isNOU(element)) {\n            var cNodes = element.childNodes;\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var liEle = cNodes[i];\n                liEle.setAttribute('aria-level', '' + level);\n                this.updateChildAriaLevel(select('.' + PARENTITEM, liEle), level + 1);\n            }\n        }\n    };\n    TreeView.prototype.renderVirtualEle = function (e) {\n        var pre;\n        if (e.event.offsetY > e.target.offsetHeight - 2) {\n            pre = false;\n        }\n        else if (e.event.offsetY < 2) {\n            pre = true;\n        }\n        var virEle = createElement('div', { className: SIBLING });\n        var index = this.fullRowSelect ? (pre ? 1 : 2) : (pre ? 0 : 1);\n        e.target.insertBefore(virEle, e.target.children[index]);\n    };\n    TreeView.prototype.removeVirtualEle = function () {\n        var sibEle = select('.' + SIBLING);\n        if (sibEle) {\n            detach(sibEle);\n        }\n    };\n    TreeView.prototype.destroyDrag = function () {\n        if (this.dragObj && this.dropObj) {\n            this.dragObj.destroy();\n            this.dropObj.destroy();\n        }\n    };\n    TreeView.prototype.getDragEvent = function (event, obj, dropTarget, target) {\n        var dropLi = dropTarget ? closest(dropTarget, '.' + LISTITEM) : null;\n        var dropData = dropLi ? this.getNodeData(dropLi) : null;\n        return {\n            cancel: false,\n            event: event,\n            draggedNode: obj.dragLi,\n            draggedNodeData: obj.dragData,\n            droppedNode: dropLi,\n            droppedNodeData: dropData,\n            target: target\n        };\n    };\n    TreeView.prototype.addFullRow = function (toAdd) {\n        var len = this.liList.length;\n        if (toAdd) {\n            for (var i = 0; i < len; i++) {\n                this.createFullRow(this.liList[i]);\n            }\n        }\n        else {\n            for (var i = 0; i < len; i++) {\n                var rowDiv = select('.' + FULLROW, this.liList[i]);\n                detach(rowDiv);\n            }\n        }\n    };\n    TreeView.prototype.createFullRow = function (item) {\n        var rowDiv = createElement('div', { className: FULLROW });\n        item.insertBefore(rowDiv, item.childNodes[0]);\n    };\n    TreeView.prototype.addMultiSelect = function (toAdd) {\n        if (toAdd) {\n            var liEles = selectAll('.' + LISTITEM + ':not([aria-selected=\"true\"])', this.element);\n            for (var _i = 0, liEles_1 = liEles; _i < liEles_1.length; _i++) {\n                var ele = liEles_1[_i];\n                ele.setAttribute('aria-selected', 'false');\n            }\n        }\n        else {\n            var liEles = selectAll('.' + LISTITEM + '[aria-selected=\"false\"]', this.element);\n            for (var _a = 0, liEles_2 = liEles; _a < liEles_2.length; _a++) {\n                var ele = liEles_2[_a];\n                ele.removeAttribute('aria-selected');\n            }\n        }\n    };\n    TreeView.prototype.collapseByLevel = function (element, level, excludeHiddenNodes) {\n        if (level > 0 && !isNOU(element)) {\n            var cNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var liEle = cNodes[i];\n                var icon = select('.' + COLLAPSIBLE, select('.' + TEXTWRAP, liEle));\n                if (!isNOU(icon)) {\n                    this.collapseNode(liEle, icon, null);\n                }\n                this.collapseByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n            }\n        }\n    };\n    TreeView.prototype.collapseAllNodes = function (excludeHiddenNodes) {\n        var cIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + COLLAPSIBLE, this.element));\n        for (var i = 0, len = cIcons.length; i < len; i++) {\n            var icon = cIcons[i];\n            var liEle = closest(icon, '.' + LISTITEM);\n            this.collapseNode(liEle, icon, null);\n        }\n    };\n    TreeView.prototype.expandByLevel = function (element, level, excludeHiddenNodes) {\n        if (level > 0 && !isNOU(element)) {\n            var eNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n            for (var i = 0, len = eNodes.length; i < len; i++) {\n                var liEle = eNodes[i];\n                var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, liEle));\n                if (!isNOU(icon)) {\n                    this.expandAction(liEle, icon, null);\n                }\n                this.expandByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n            }\n        }\n    };\n    TreeView.prototype.expandAllNodes = function (excludeHiddenNodes) {\n        var eIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + EXPANDABLE, this.element));\n        for (var i = 0, len = eIcons.length; i < len; i++) {\n            var icon = eIcons[i];\n            var liEle = closest(icon, '.' + LISTITEM);\n            this.expandAction(liEle, icon, null, true);\n        }\n    };\n    TreeView.prototype.getVisibleNodes = function (excludeHiddenNodes, nodes) {\n        var vNodes = Array.prototype.slice.call(nodes);\n        if (excludeHiddenNodes) {\n            for (var i = 0; i < vNodes.length; i++) {\n                if (!isVisible(vNodes[i])) {\n                    vNodes.splice(i, 1);\n                    i--;\n                }\n            }\n        }\n        return vNodes;\n    };\n    TreeView.prototype.removeNode = function (node) {\n        var dragParentUl = closest(node, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        detach(node);\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateInstance();\n    };\n    TreeView.prototype.updateInstance = function () {\n        this.updateList();\n        this.updateSelectedNodes();\n    };\n    TreeView.prototype.updateList = function () {\n        this.liList = Array.prototype.slice.call(selectAll('.' + LISTITEM, this.element));\n    };\n    TreeView.prototype.updateSelectedNodes = function () {\n        this.setProperties({ selectedNodes: [] }, true);\n        var sNodes = selectAll('.' + ACTIVE, this.element);\n        this.selectGivenNodes(sNodes);\n    };\n    TreeView.prototype.doGivenAction = function (nodes, selector, toExpand) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNOU(liEle)) {\n                continue;\n            }\n            var icon = select('.' + selector, select('.' + TEXTWRAP, liEle));\n            if (!isNOU(icon)) {\n                toExpand ? this.expandAction(liEle, icon, null) : this.collapseNode(liEle, icon, null);\n            }\n        }\n    };\n    TreeView.prototype.addGivenNodes = function (nodes, dropLi, index, isRemote) {\n        var level = dropLi ? parseFloat(dropLi.getAttribute('aria-level')) + 1 : 1;\n        if (isRemote) {\n            this.updateMapper(level);\n        }\n        var li = ListBase.createListItemFromJson(nodes, this.listBaseOption, level);\n        var dropUl = dropLi ? this.expandParent(dropLi) : select('.' + PARENTITEM, this.element);\n        var refNode = dropUl.childNodes[index];\n        for (var i = 0; i < li.length; i++) {\n            dropUl.insertBefore(li[i], refNode);\n        }\n        this.finalizeNode(dropUl);\n    };\n    TreeView.prototype.updateMapper = function (level) {\n        var mapper = (level === 1) ? this.fields : this.getChildFields(this.fields, level - 1, 1);\n        var prop = this.getActualProperties(mapper);\n        this.listBaseOption.fields = prop;\n        this.listBaseOption.fields.url = prop.navigateUrl;\n    };\n    TreeView.prototype.doDisableAction = function (nodes) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNOU(liEle)) {\n                continue;\n            }\n            liEle.setAttribute('aria-disabled', 'true');\n            addClass([liEle], DISABLE);\n        }\n    };\n    TreeView.prototype.doEnableAction = function (nodes) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNOU(liEle)) {\n                continue;\n            }\n            liEle.removeAttribute('aria-disabled');\n            removeClass([liEle], DISABLE);\n        }\n    };\n    TreeView.prototype.setTouchClass = function () {\n        var ele = closest(this.element, '.' + BIGGER);\n        this.touchClass = isNOU(ele) ? '' : SMALL;\n    };\n    TreeView.prototype.wireInputEvents = function (inpEle) {\n        EventHandler.add(inpEle, 'blur', this.inputFocusOut, this);\n    };\n    TreeView.prototype.wireEditingEvents = function (toBind) {\n        if (toBind) {\n            var proxy_1 = this;\n            this.touchEditObj = new Touch(this.element, {\n                tap: function (e) {\n                    if (e.tapCount === 2) {\n                        e.originalEvent.preventDefault();\n                        proxy_1.editingHandler(e.originalEvent);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.touchEditObj) {\n                this.touchEditObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.wireClickEvent = function (toBind) {\n        if (toBind) {\n            var proxy_2 = this;\n            this.touchClickObj = new Touch(this.element, {\n                tap: function (e) {\n                    proxy_2.clickHandler(e);\n                }\n            });\n        }\n        else {\n            if (this.touchClickObj) {\n                this.touchClickObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.wireExpandOnEvent = function (toBind) {\n        var _this = this;\n        if (toBind) {\n            var proxy_3 = this;\n            this.touchExpandObj = new Touch(this.element, {\n                tap: function (e) {\n                    if (_this.expandOnType === 'Click' || (_this.expandOnType === 'DblClick' && e.tapCount === 2)) {\n                        proxy_3.expandHandler(e);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.touchExpandObj) {\n                this.touchExpandObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.mouseDownHandler = function (e) {\n        this.mouseDownStatus = true;\n        if (e.shiftKey || e.ctrlKey) {\n            e.preventDefault();\n        }\n        if (e.ctrlKey && this.allowMultiSelection) {\n            EventHandler.add(this.element, 'contextmenu', this.preventContextMenu, this);\n        }\n    };\n    ;\n    TreeView.prototype.preventContextMenu = function (e) {\n        e.preventDefault();\n    };\n    TreeView.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'mousedown', this.mouseDownHandler, this);\n        this.wireClickEvent(true);\n        this.wireExpandOnEvent(true);\n        EventHandler.add(this.element, 'focus', this.focusIn, this);\n        EventHandler.add(this.element, 'blur', this.focusOut, this);\n        EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.element, 'mouseout', this.onMouseLeave, this);\n        this.keyboardModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown',\n        });\n    };\n    TreeView.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'mousedown', this.mouseDownHandler);\n        this.wireClickEvent(false);\n        this.wireExpandOnEvent(false);\n        EventHandler.remove(this.element, 'focus', this.focusIn);\n        EventHandler.remove(this.element, 'blur', this.focusOut);\n        EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.element, 'mouseout', this.onMouseLeave);\n        this.keyboardModule.destroy();\n    };\n    TreeView.prototype.parents = function (element, selector) {\n        var matched = [];\n        var el = element.parentNode;\n        while (!isNOU(el)) {\n            if (matches(el, selector)) {\n                matched.push(el);\n            }\n            el = el.parentNode;\n        }\n        return matched;\n    };\n    TreeView.prototype.isDescendant = function (parent, child) {\n        var node = child.parentNode;\n        while (!isNOU(node)) {\n            if (node === parent) {\n                return true;\n            }\n            node = node.parentNode;\n        }\n        return false;\n    };\n    TreeView.prototype.showSpinner = function (element) {\n        addClass([element], LOAD);\n        createSpinner({\n            target: element,\n            width: Browser.isDevice ? 16 : 14\n        });\n        showSpinner(element);\n    };\n    TreeView.prototype.hideSpinner = function (element) {\n        hideSpinner(element);\n        element.innerHTML = '';\n        removeClass([element], LOAD);\n    };\n    TreeView.prototype.setCheckedNodes = function (nodes) {\n        nodes = JSON.parse(JSON.stringify(nodes));\n        this.uncheckAll();\n        if (nodes.length > 0) {\n            this.checkAll(nodes);\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {TreeView} newProp\n     * @param  {TreeView} oldProp\n     * @returns void\n     * @private\n     */\n    TreeView.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.setDragAndDrop(this.allowDragAndDrop);\n                    break;\n                case 'allowEditing':\n                    this.wireEditingEvents(this.allowEditing);\n                    break;\n                case 'allowMultiSelection':\n                    if (this.selectedNodes.length > 1) {\n                        var sNode = this.getElement(this.selectedNodes[0]);\n                        this.isLoaded = false;\n                        this.removeSelectAll();\n                        this.selectNode(sNode, null);\n                        this.isLoaded = true;\n                    }\n                    this.setMultiSelect(this.allowMultiSelection);\n                    this.addMultiSelect(this.allowMultiSelection);\n                    break;\n                case 'checkedNodes':\n                    if (this.showCheckBox) {\n                        this.checkedNodes = oldProp.checkedNodes;\n                        this.setCheckedNodes(newProp.checkedNodes);\n                    }\n                    break;\n                case 'cssClass':\n                    this.setCssClass(oldProp.cssClass, newProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'expandOn':\n                    this.wireExpandOnEvent(false);\n                    this.setExpandOnType();\n                    this.wireExpandOnEvent(true);\n                    break;\n                case 'fields':\n                    this.listBaseOption.fields = this.fields.properties;\n                    this.listBaseOption.fields.url = this.fields.navigateUrl;\n                    this.reRenderNodes();\n                    break;\n                case 'fullRowSelect':\n                    this.setFullRow(this.fullRowSelect);\n                    this.addFullRow(this.fullRowSelect);\n                    break;\n                case 'nodeTemplate':\n                    this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n                    this.reRenderNodes();\n                    break;\n                case 'selectedNodes':\n                    this.removeSelectAll();\n                    this.setProperties({ selectedNodes: newProp.selectedNodes }, true);\n                    this.doSelectionAction();\n                    break;\n                case 'showCheckBox':\n                    this.reRenderNodes();\n                    break;\n                case 'sortOrder':\n                    this.reRenderNodes();\n                    break;\n            }\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n     */\n    TreeView.prototype.destroy = function () {\n        this.element.removeAttribute('aria-activedescendant');\n        this.element.removeAttribute('tabindex');\n        this.unWireEvents();\n        this.wireEditingEvents(false);\n        this.rippleFn();\n        this.rippleIconFn();\n        this.setCssClass(this.cssClass, null);\n        this.setDragAndDrop(false);\n        this.setFullRow(false);\n        this.element.innerHTML = '';\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Adds the collection of TreeView nodes based on target and index position. If target node is not specified,\n     * then the nodes are added as children of the given parentID or in the root level of TreeView.\n     * @param  { Object[] } nodes - Specifies the array of JSON data that has to be added.\n     * @param  { string | Element } target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  { number } index - Specifies the index to place the newly added nodes in the target element.\n     */\n    TreeView.prototype.addNodes = function (nodes, target, index) {\n        if (isNOU(nodes)) {\n            return;\n        }\n        var dropLi = this.getElement(target);\n        nodes = this.getSortedData(nodes);\n        if (this.fields.dataSource instanceof DataManager) {\n            this.addGivenNodes(nodes, dropLi, index, true);\n        }\n        else if (this.dataType === 2) {\n            this.addGivenNodes(nodes, dropLi, index);\n        }\n        else {\n            if (dropLi) {\n                this.addGivenNodes(nodes, dropLi, index);\n            }\n            else {\n                for (var i = 0; i < nodes.length; i++) {\n                    var pid = getValue(this.fields.parentID, nodes[i]);\n                    dropLi = pid ? this.getElement(pid.toString()) : pid;\n                    this.addGivenNodes([nodes[i]], dropLi, index);\n                }\n            }\n        }\n    };\n    /**\n     * Instead of clicking on the TreeView node for editing, we can enable it by using\n     * `beginEdit` property. On passing the node ID or element through this property, the edit textBox\n     * will be created for the particular node thus allowing us to edit it.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    TreeView.prototype.beginEdit = function (node) {\n        var ele = this.getElement(node);\n        if (!isNOU(ele)) {\n            this.createTextbox(ele, null);\n        }\n    };\n    /**\n     * Checks all the unchecked nodes. You can also check specific nodes by passing array of unchecked nodes\n     * as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.checkAll = function (nodes) {\n        if (this.showCheckBox) {\n            this.doCheckBoxAction(nodes, true);\n        }\n    };\n    /**\n     * Collapses all the expanded TreeView nodes. You can collapse specific nodes by passing array of nodes as argument to this method.\n     * You can also collapse all the nodes excluding the hidden nodes by setting **excludeHiddenNodes** to true. If you want to collapse\n     * a specific level of nodes, set **level** as argument to collapseAll method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/ array of TreeView node.\n     * @param  {number} level - TreeView nodes will collapse up to the given level.\n     * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes of TreeView when collapsing all nodes.\n     */\n    TreeView.prototype.collapseAll = function (nodes, level, excludeHiddenNodes) {\n        if (!isNOU(nodes)) {\n            this.doGivenAction(nodes, COLLAPSIBLE, false);\n        }\n        else {\n            if (level > 0) {\n                this.collapseByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n            }\n            else {\n                this.collapseAllNodes(excludeHiddenNodes);\n            }\n        }\n    };\n    /**\n     * Disables the collection of nodes by passing the ID of nodes or node elements in the array.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     */\n    TreeView.prototype.disableNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            this.doDisableAction(nodes);\n        }\n    };\n    /**\n     * Enables the collection of disabled nodes by passing the ID of nodes or node elements in the array.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     */\n    TreeView.prototype.enableNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            this.doEnableAction(nodes);\n        }\n    };\n    /**\n     * Ensures visibility of the TreeView node by using node ID or node element.\n     * When many TreeView nodes are present and we need to find a particular node, `ensureVisible` property\n     * helps bring the node to visibility by expanding the TreeView and scrolling to the specific node.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView nodes.\n     */\n    TreeView.prototype.ensureVisible = function (node) {\n        var liEle = this.getElement(node);\n        if (isNOU(liEle)) {\n            return;\n        }\n        var parents = this.parents(liEle, '.' + LISTITEM);\n        this.expandAll(parents);\n        setTimeout(function () { liEle.scrollIntoView(true); }, 450);\n    };\n    /**\n     * Expands all the collapsed TreeView nodes. You can expand the specific nodes by passing the array of collapsed nodes\n     * as argument to this method. You can also expand all the collapsed nodes by excluding the hidden nodes by setting\n     * **excludeHiddenNodes** to true to this method. To expand a specific level of nodes, set **level** as argument to expandAll method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     * @param  {number} level - TreeView nodes will expand up to the given level.\n     * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes when expanding all nodes.\n     */\n    TreeView.prototype.expandAll = function (nodes, level, excludeHiddenNodes) {\n        if (!isNOU(nodes)) {\n            this.doGivenAction(nodes, EXPANDABLE, true);\n        }\n        else {\n            if (level > 0) {\n                this.expandByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n            }\n            else {\n                this.expandAllNodes(excludeHiddenNodes);\n            }\n        }\n    };\n    /**\n     * Get the node's data such as id, text, parentID, selected, isChecked, and expanded by passing the node element or it's ID.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    TreeView.prototype.getNode = function (node) {\n        var ele = this.getElement(node);\n        return this.getNodeData(ele, true);\n    };\n    /**\n     * Moves the collection of nodes within the same TreeView based on target or its index position.\n     * @param  {string[] | Element[]} sourceNodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  {number} index - Specifies the index to place the moved nodes in the target element.\n     */\n    TreeView.prototype.moveNodes = function (sourceNodes, target, index) {\n        var dropLi = this.getElement(target);\n        if (isNOU(dropLi)) {\n            return;\n        }\n        for (var i = 0; i < sourceNodes.length; i++) {\n            var dragLi = this.getElement(sourceNodes[i]);\n            if (isNOU(dragLi) || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n                continue;\n            }\n            this.dropAsChildNode(dragLi, dropLi, this, index);\n        }\n    };\n    /**\n     * Removes the collection of TreeView nodes by passing the array of node details as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.removeNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            for (var i = 0, len = nodes.length; i < len; i++) {\n                var liEle = this.getElement(nodes[i]);\n                if (isNOU(liEle)) {\n                    continue;\n                }\n                this.removeNode(liEle);\n            }\n        }\n    };\n    /**\n     * Replaces the text of the TreeView node with the given text.\n     * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  {string} newText - Specifies the new text of TreeView node.\n     */\n    TreeView.prototype.updateNode = function (target, newText) {\n        if (isNOU(target) || isNOU(newText) || !this.allowEditing) {\n            return;\n        }\n        var liEle = this.getElement(target);\n        if (isNOU(liEle)) {\n            return;\n        }\n        var txtEle = select('.' + LISTTEXT, liEle);\n        this.updateOldText(liEle);\n        var eventArgs = this.getEditEvent(liEle, null, null);\n        this.trigger('nodeEditing', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.appendNewText(liEle, txtEle, newText, false);\n    };\n    /**\n     * Unchecks all the checked nodes. You can also uncheck the specific nodes by passing array of checked nodes\n     * as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.uncheckAll = function (nodes) {\n        if (this.showCheckBox) {\n            this.doCheckBoxAction(nodes, false);\n        }\n    };\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowDragAndDrop\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowMultiSelection\", void 0);\n    __decorate([\n        Complex({}, NodeAnimationSettings)\n    ], TreeView.prototype, \"animation\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"checkedNodes\", void 0);\n    __decorate([\n        Property('')\n    ], TreeView.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property('Auto')\n    ], TreeView.prototype, \"expandOn\", void 0);\n    __decorate([\n        Complex({}, FieldsSettings)\n    ], TreeView.prototype, \"fields\", void 0);\n    __decorate([\n        Property(true)\n    ], TreeView.prototype, \"fullRowSelect\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"nodeTemplate\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"selectedNodes\", void 0);\n    __decorate([\n        Property('None')\n    ], TreeView.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"showCheckBox\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"drawNode\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"keyPress\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeChecked\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeChecking\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeClicked\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeCollapsed\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeCollapsing\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragging\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragStart\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragStop\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDropped\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeEdited\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeEditing\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeExpanded\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeExpanding\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeSelected\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeSelecting\", void 0);\n    TreeView = __decorate([\n        NotifyPropertyChanges\n    ], TreeView);\n    return TreeView;\n}(Component));\nexport { TreeView };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, formatUnit, EventHandler, Event, isNullOrUndefined, closest } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, Browser } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, addClass, removeClass, createElement, Touch } from '@syncfusion/ej2-base';\nvar CONTROL = 'e-control';\nvar ROOT = 'e-sidebar';\nvar DOCKER = 'e-dock';\nvar CLOSE = 'e-close';\nvar OPEN = 'e-open';\nvar TRASITION = 'e-transition';\nvar DEFAULTBACKDROP = 'e-sidebar-overlay';\nvar CONTEXTBACKDROP = 'e-backdrop';\nvar RTL = 'e-rtl';\nvar RIGHT = 'e-right';\nvar LEFT = 'e-left';\nvar OVER = 'e-over';\nvar PUSH = 'e-push';\nvar SLIDE = 'e-slide';\nvar VISIBILITY = 'e-visibility';\nvar MAINCONTENTANIMATION = 'e-content-animation';\nvar DISABLEANIMATION = 'e-disable-animation';\nvar CONTEXT = 'e-sidebar-context';\nvar SIDEBARABSOLUTE = 'e-sidebar-absolute';\n/**\n * Sidebar is an expandable and collapsible\n * component that typically act as a side container to place the primary or secondary content alongside of the main content.\n * ```html\n * <aside id=\"sidebar\">\n * </aside>\n * ````\n * ````typescript\n * <script>\n *   let sidebarObject = new Sidebar({ });\n *   sidebarObject.appendTo(\"#sidebar\");\n * </script>\n * ```\n */\nvar Sidebar = /** @class */ (function (_super) {\n    __extends(Sidebar, _super);\n    function Sidebar(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Sidebar.prototype.preRender = function () {\n        this.setWidth();\n    };\n    Sidebar.prototype.render = function () {\n        this.initialize();\n        this.wireEvents();\n    };\n    Sidebar.prototype.initialize = function () {\n        this.setContext();\n        this.addClass();\n        this.setZindex();\n        if (this.enableDock) {\n            this.setDock();\n        }\n        this.setMediaQuery();\n        this.setType(this.type);\n        this.setCloseOnDocumentClick();\n    };\n    Sidebar.prototype.setContext = function () {\n        if (typeof (this.target) === 'string') {\n            this.setProperties({ target: document.querySelector('.' + this.target) }, true);\n        }\n        if (this.target) {\n            this.target.insertAdjacentElement('afterbegin', this.element);\n            addClass([this.element], SIDEBARABSOLUTE);\n            addClass([this.target], CONTEXT);\n        }\n    };\n    Sidebar.prototype.setCloseOnDocumentClick = function () {\n        if (this.closeOnDocumentClick) {\n            EventHandler.add(document, 'mousedown touchstart', this.documentclickHandler, this);\n        }\n        else {\n            EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n        }\n    };\n    Sidebar.prototype.setWidth = function () {\n        if (this.enableDock && this.position === 'Left') {\n            setStyle(this.element, { 'width': formatUnit(this.dockSize) });\n        }\n        else if (this.enableDock && this.position === 'Right') {\n            setStyle(this.element, { 'width': formatUnit(this.dockSize) });\n        }\n        else if (!this.enableDock) {\n            setStyle(this.element, { 'width': formatUnit(this.width) });\n        }\n    };\n    Sidebar.prototype.setZindex = function () {\n        setStyle(this.element, { 'z-index': '' + this.zIndex });\n    };\n    Sidebar.prototype.addClass = function () {\n        var classELement = document.querySelector('.e-main-content');\n        if (!isNullOrUndefined((classELement ||\n            this.element.nextElementSibling))) {\n            addClass([classELement || this.element.nextElementSibling], [MAINCONTENTANIMATION]);\n        }\n        if (!this.enableDock && this.type !== 'Auto') {\n            addClass([this.element], [VISIBILITY]);\n        }\n        removeClass([this.element], [OPEN, CLOSE, RIGHT, LEFT, SLIDE, PUSH, OVER]);\n        this.element.classList.add(ROOT);\n        addClass([this.element], (this.position === 'Right') ? RIGHT : LEFT);\n        if (this.type === 'Auto' && !Browser.isDevice && !this.enableDock) {\n            addClass([this.element], OPEN);\n        }\n        else {\n            addClass([this.element], CLOSE);\n        }\n    };\n    Sidebar.prototype.destroyBackDrop = function () {\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        if (this.target && this.showBackdrop && sibling) {\n            removeClass([sibling], CONTEXTBACKDROP);\n        }\n        else if (this.showBackdrop && this.modal) {\n            this.modal.style.display = 'none';\n            this.modal.outerHTML = '';\n            this.modal = null;\n        }\n    };\n    /**\n     * Hide the Sidebar component.\n     * @returns void\n     */\n    Sidebar.prototype.hide = function () {\n        if (this.element.classList.contains(CLOSE)) {\n            return;\n        }\n        if (this.element.classList.contains(OPEN)) {\n            this.eventArguments = { name: 'change', element: this.element };\n            this.trigger('change', this.eventArguments);\n        }\n        addClass([this.element], CLOSE);\n        removeClass([this.element], OPEN);\n        this.enableDock ? setStyle(this.element, { 'width': formatUnit(this.dockSize) }) :\n            setStyle(this.element, { 'width': formatUnit(this.width) });\n        this.setDock();\n        this.setType(this.type);\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        if (!this.enableDock && sibling) {\n            sibling.style.transform = 'translateX(' + 0 + 'px)';\n            this.position === 'Left' ? sibling.style.marginLeft = '0px' : sibling.style.marginRight = '0px';\n        }\n        this.eventArguments = { name: 'change', element: this.element };\n        this.trigger('close', this.eventArguments);\n        this.destroyBackDrop();\n        this.setCloseOnDocumentClick();\n        this.setAnimation();\n        if (this.type === 'Slide') {\n            document.body.classList.remove('e-sidebar-overflow');\n        }\n    };\n    /**\n     * Shows the Sidebar component.\n     * @returns void\n     */\n    Sidebar.prototype.show = function () {\n        removeClass([this.element], VISIBILITY);\n        if (this.element.classList.contains(OPEN)) {\n            return;\n        }\n        if (this.element.classList.contains(CLOSE)) {\n            this.eventArguments = { name: 'open', element: this.element };\n            this.trigger('change', this.eventArguments);\n        }\n        addClass([this.element], [OPEN, TRASITION]);\n        setStyle(this.element, { 'transform': '' });\n        removeClass([this.element], CLOSE);\n        setStyle(this.element, { 'width': formatUnit(this.width) });\n        var elementWidth = this.element.getBoundingClientRect().width;\n        this.setType(this.type);\n        this.createBackDrop();\n        this.eventArguments.name = 'open';\n        this.eventArguments.element = this.element;\n        this.trigger('open', this.eventArguments);\n        this.setCloseOnDocumentClick();\n        this.setAnimation();\n        if (this.type === 'Slide') {\n            document.body.classList.add('e-sidebar-overflow');\n        }\n    };\n    Sidebar.prototype.setAnimation = function () {\n        if (this.animate) {\n            removeClass([this.element], DISABLEANIMATION);\n        }\n        else {\n            addClass([this.element], DISABLEANIMATION);\n        }\n    };\n    Sidebar.prototype.setDock = function () {\n        if (this.enableDock && this.position === 'Left' && !this.isOpen()) {\n            setStyle(this.element, { 'transform': 'translateX(' + -100 + '%) translateX(' + formatUnit(this.dockSize) + ')' });\n        }\n        else if (this.enableDock && this.position === 'Right' && !this.isOpen()) {\n            setStyle(this.element, { 'transform': 'translateX(' + 100 + '%) translateX(' + '-' + formatUnit(this.dockSize) + ')' });\n        }\n        if (this.element.classList.contains(CLOSE) && this.enableDock) {\n            setStyle(this.element, { 'width': formatUnit(this.dockSize) });\n        }\n    };\n    Sidebar.prototype.createBackDrop = function () {\n        if (this.target && this.showBackdrop) {\n            var sibling = document.querySelector('.e-main-content') ||\n                this.element.nextElementSibling;\n            addClass([sibling], CONTEXTBACKDROP);\n        }\n        else if (this.showBackdrop && !this.modal && this.isOpen()) {\n            this.modal = createElement('div');\n            this.modal.className = DEFAULTBACKDROP;\n            this.modal.style.display = 'block';\n            document.body.appendChild(this.modal);\n        }\n    };\n    Sidebar.prototype.getPersistData = function () {\n        return this.addOnPersist(['type', 'position']);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Sidebar.prototype.getModuleName = function () {\n        return 'sidebar';\n    };\n    /**\n     * Shows or hides the Sidebar based on the current state.\n     * @returns void\n     */\n    Sidebar.prototype.toggle = function (e) {\n        this.element.classList.contains(OPEN) ? this.hide() : this.show();\n    };\n    /**\n     * Specifies the current state of the Sidebar component.\n     * @returns boolean\n     */\n    Sidebar.prototype.isOpen = function () {\n        return this.element.classList.contains(OPEN) ? true : false;\n    };\n    Sidebar.prototype.setMediaQuery = function () {\n        if (this.mediaQuery && this.mediaQuery.matches) {\n            this.show();\n        }\n        else if (this.mediaQuery && this.isOpen()) {\n            this.hide();\n        }\n    };\n    Sidebar.prototype.resize = function (e) {\n        if (this.type === 'Auto') {\n            if (Browser.isDevice) {\n                addClass([this.element], OVER);\n            }\n            else {\n                addClass([this.element], PUSH);\n            }\n        }\n        this.setMediaQuery();\n    };\n    Sidebar.prototype.documentclickHandler = function (e) {\n        if (closest(e.target, '.' + CONTROL + '' + '.' + ROOT)) {\n            return;\n        }\n        this.hide();\n    };\n    Sidebar.prototype.enableGestureHandler = function (args) {\n        if (this.position === 'Left' && args.swipeDirection === 'Right' &&\n            (args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5)) {\n            this.show();\n        }\n        else if (this.position === 'Left' && args.swipeDirection === 'Left') {\n            this.hide();\n        }\n        else if (this.position === 'Right' && args.swipeDirection === 'Right') {\n            this.hide();\n        }\n        else if (this.position === 'Right' && args.swipeDirection === 'Left'\n            && (window.innerWidth - args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5)) {\n            this.show();\n        }\n    };\n    Sidebar.prototype.setEnableGestures = function () {\n        if (this.enableGestures) {\n            this.mainContentEle = new Touch(document.body, { swipe: this.enableGestureHandler.bind(this) });\n            this.sidebarEle = new Touch(this.element, { swipe: this.enableGestureHandler.bind(this) });\n        }\n        else {\n            if (this.mainContentEle && this.sidebarEle) {\n                this.mainContentEle.destroy();\n                this.sidebarEle.destroy();\n            }\n        }\n    };\n    Sidebar.prototype.wireEvents = function () {\n        this.setEnableGestures();\n        window.addEventListener('resize', this.resize.bind(this));\n    };\n    Sidebar.prototype.unWireEvents = function () {\n        window.removeEventListener('resize', this.resize.bind(this));\n        EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n        if (this.mainContentEle) {\n            this.mainContentEle.destroy();\n        }\n        if (this.sidebarEle) {\n            this.sidebarEle.destroy();\n        }\n    };\n    Sidebar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    this.setWidth();\n                    if (!this.isOpen()) {\n                        this.setDock();\n                    }\n                    break;\n                case 'animate':\n                    this.setAnimation();\n                    break;\n                case 'type':\n                    removeClass([this.element], [VISIBILITY]);\n                    this.addClass();\n                    this.setType(this.type);\n                    break;\n                case 'position':\n                    this.element.style.transform = '';\n                    this.setDock();\n                    if (sibling) {\n                        this.position === 'Left' ? sibling.style.marginRight = '0px' : sibling.style.marginLeft = '0px';\n                    }\n                    if (this.position === 'Right') {\n                        removeClass([this.element], LEFT);\n                        addClass([this.element], RIGHT);\n                    }\n                    else {\n                        removeClass([this.element], RIGHT);\n                        addClass([this.element], LEFT);\n                    }\n                    this.setType(this.type);\n                    break;\n                case 'showBackdrop':\n                    if (this.showBackdrop) {\n                        this.createBackDrop();\n                    }\n                    else {\n                        if (this.modal) {\n                            this.modal.style.display = 'none';\n                            this.modal.outerHTML = '';\n                            this.modal = null;\n                        }\n                    }\n                    break;\n                case 'target':\n                    if (typeof (this.target) === 'string') {\n                        this.setProperties({ target: document.querySelector('.' + this.target) }, true);\n                    }\n                    if (isNullOrUndefined(this.target)) {\n                        removeClass([this.element], SIDEBARABSOLUTE);\n                        removeClass([oldProp.target], CONTEXT);\n                        setStyle(sibling, { 'margin-left': 0, 'margin-right': 0 });\n                        document.body.insertAdjacentElement('afterbegin', this.element);\n                    }\n                    else {\n                        _super.prototype.refresh.call(this);\n                    }\n                    break;\n                case 'closeOnDocumentClick':\n                    this.setCloseOnDocumentClick();\n                    break;\n                case 'enableDock':\n                    if (!this.isOpen()) {\n                        this.setDock();\n                    }\n                    break;\n                case 'zIndex':\n                    this.setZindex();\n                    break;\n                case 'mediaQuery':\n                    this.setMediaQuery();\n                    break;\n                case 'enableGestures':\n                    this.setEnableGestures();\n                    break;\n            }\n        }\n    };\n    Sidebar.prototype.setType = function (type) {\n        var elementWidth = this.element.getBoundingClientRect().width;\n        this.setZindex();\n        if (this.enableDock) {\n            addClass([this.element], DOCKER);\n        }\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        if (sibling) {\n            sibling.style.transform = 'translateX(' + 0 + 'px)';\n            if (!Browser.isDevice && this.type !== 'Auto') {\n                this.position === 'Left' ? sibling.style.marginLeft = '0px' : sibling.style.marginRight = '0px';\n            }\n        }\n        var margin = this.position === 'Left' ? elementWidth + 'px' : elementWidth + 'px';\n        var eleWidth = this.position === 'Left' ? elementWidth : -(elementWidth);\n        removeClass([this.element], [PUSH, OVER, SLIDE]);\n        switch (type) {\n            case 'Push':\n                addClass([this.element], [PUSH]);\n                if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                    this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                }\n                break;\n            case 'Slide':\n                addClass([this.element], [SLIDE]);\n                if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                    sibling.style.transform = 'translateX(' + eleWidth + 'px)';\n                }\n                break;\n            case 'Over':\n                addClass([this.element], [OVER]);\n                if (this.enableDock && this.element.classList.contains(CLOSE)) {\n                    if (sibling) {\n                        this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                    }\n                }\n                break;\n            case 'Auto':\n                addClass([this.element], [TRASITION]);\n                if (Browser.isDevice) {\n                    if (sibling && (this.enableDock) && !this.isOpen()) {\n                        this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                        addClass([this.element], PUSH);\n                    }\n                    else {\n                        addClass([this.element], OVER);\n                    }\n                }\n                else {\n                    addClass([this.element], PUSH);\n                    if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                        this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                    }\n                }\n                this.createBackDrop();\n        }\n    };\n    /**\n     * Removes the control from the DOM and removes all its related events\n     * @returns void\n     */\n    Sidebar.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        removeClass([this.element], [OPEN, CLOSE, PUSH, SLIDE, OVER, LEFT, RIGHT, TRASITION]);\n        if (this.target) {\n            removeClass([this.element], SIDEBARABSOLUTE);\n            removeClass([this.target], CONTEXT);\n        }\n        this.destroyBackDrop();\n        this.element.style.width = '';\n        this.element.style.zIndex = '';\n        this.element.style.transform = '';\n        var sibling = document.querySelector('.e-main-content')\n            || this.element.nextElementSibling;\n        if (!isNullOrUndefined(sibling)) {\n            sibling.style.margin = '';\n            sibling.style.transform = '';\n        }\n        this.unWireEvents();\n    };\n    __decorate([\n        Property('auto')\n    ], Sidebar.prototype, \"dockSize\", void 0);\n    __decorate([\n        Property(null)\n    ], Sidebar.prototype, \"mediaQuery\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"enableDock\", void 0);\n    __decorate([\n        Property(true)\n    ], Sidebar.prototype, \"enableGestures\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(true)\n    ], Sidebar.prototype, \"animate\", void 0);\n    __decorate([\n        Property('auto')\n    ], Sidebar.prototype, \"height\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"closeOnDocumentClick\", void 0);\n    __decorate([\n        Property('Left')\n    ], Sidebar.prototype, \"position\", void 0);\n    __decorate([\n        Property(null)\n    ], Sidebar.prototype, \"target\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"showBackdrop\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Sidebar.prototype, \"type\", void 0);\n    __decorate([\n        Property('auto')\n    ], Sidebar.prototype, \"width\", void 0);\n    __decorate([\n        Property(1000)\n    ], Sidebar.prototype, \"zIndex\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"destroyed\", void 0);\n    Sidebar = __decorate([\n        NotifyPropertyChanges\n    ], Sidebar);\n    return Sidebar;\n}(Component));\nexport { Sidebar };\n"],"names":["__extends","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","this","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","CLS_RTL","CLS_DISABLE","CLS_NAVARROW","CLS_NAVRIGHTARROW","CLS_NAVLEFTARROW","CLS_HSCROLLNAV","CLS_HSCROLLNAVRIGHT","CLS_HSCROLLNAVLEFT","HScroll","_super","options","element","call","preRender","browser","Browser","info","name","browserCheck","isDevice","ieCheck","initialize","id","getUniqueID","uniqueId","style","display","enableRtl","classList","add","render","touchModule","Touch","scroll","touchHandler","bind","createNavIcon","EventHandler","scrollEle","scrollHandler","buildTag","className","scrollDiv","setAttribute","ele","_i","innerEle_1","slice","children","ele_1","appendChild","overflowX","scrollItems","getPersistData","addOnPersist","getModuleName","destroy","remove","nav","selectAll","_a","elem","removeAttribute","detach","concat","clsRight","navItem","clsLeft","navEle","navLeftItem","insertBefore","firstChild","eventBinding","onKeyPress","e","_this","keyTimer","window","setTimeout","keyTimeout","eleScrolling","onKeyUp","click","clearTimeout","forEach","el","tapHold","tabHoldHandler","tapHoldThreshold","addEventListener","repeatScroll","preventDefault","clickEventHandler","clearInterval","timeout","trgt","originalEvent","contains","firstElementChild","setInterval","scrollDis","rootEle","querySelector","scrlLeft","scrollLeft","scrollStep","distance","distanceX","scrollDirection","arrowDisabling","addDisable","removeDisable","width","offsetWidth","navLeftEle","navRightEle","Math","ceil","scrollWidth","disEle","onPropertyChanged","newProp","oldProp","keys","Property","NotifyPropertyChanges","Component","CLS_ITEMS","CLS_ITEM","CLS_SEPARATOR","CLS_POPUPICON","CLS_POPUPDOWN","CLS_POPUPTEXT","CLS_TBARTEXT","CLS_TBAROVERFLOW","CLS_POPOVERFLOW","CLS_TBARNAV","CLS_TBARCENTER","CLS_TBARPOS","CLS_POPUPCLASS","CLS_POPUP","CLS_TBARNAVACT","CLS_TBARIGNORE","CLS_POPPRI","Item","apply","ChildProperty","Toolbar","keyConfigs","moveLeft","moveRight","moveUp","moveDown","popupOpen","popupClose","tab","home","end","unwireEvents","removeChild","trgtEle","ctrlTem","clearProperty","popObj","tbarAlign","attrb","trigger","scrollModule","tbarItemsCol","items","popupPriCount","wireEvents","clickHandler","resize","keyModule","KeyboardEvents","keyAction","keyActionHandler","docKeyDown","tagName","keyCode","isVisible","hide","duration","destroyHScroll","document","docEvent","tbarEle","tbarAlgEle","lefts","centers","rights","popEle","closest","destroyItems","querySelectorAll","tbarItems","destroyMode","popupRefresh","val","elementFocus","fChild","focus","activeEleSwitch","clstElement","tbrNavChk","keyHandling","clst","navChk","scrollChk","popAnimate","action","eleFocus","nodes","popupCheck","value","popFrstEle","lastElementChild","activeEle","activeEleRemove","top","offsetHeight","show","tbarScrollChk","pos","sib","skipEle","parentElement","isNOU","clsList","isPopupElement","popupNav","popupClickHandler","itemObj","indexOf","eventArgs","item","cancel","position","X","Y","offsetX","dataBind","refreshPosition","renderControl","formatUnit","height","setStyle","attributes","role","aria-disabled","aria-haspopup","aria-orientation","renderItems","renderOverflowMode","itemPositioning","childElementCount","checkPopupRefresh","initHScroll","innerItems","checkOverflow","overflow","itemWidthCal","parseFloat","getComputedStyle","marginRight","innerItem","itemWidth","eleWidth","popNav","scrollNav","refreshOverflow","priorityCheck","offsetWid","overflowMode","getElementsByClassName","removePositioning","createPopupEle","innerEle","innerNav","createPopupIcon","direction","checkPriority","removeProperty","createPopup","pushingPoppedEle","tbarObj","popupPri","eleHeight","nodeIndex","nodePri","index","tbResize","push","childNodes","tbarElement","eleItem","popupInit","popupEle","maxHeight","popup","Popup","relateTo","offsetY","open","close","appendTo","toolEle","popupElePos","offsetTop","calculatePosition","popIcon","scrollVal","scrollY","innerHeight","overflowHeight","inEle","pre","popPriority","eleWid","sepCheck","itemCount","itemPopCount","checkClass","rVal","cls","mrgn","marginLeft","fstEleCheck","tbarEleMrgn","eleWid_1","minWidth","offsetLeft","sepEle","popedEle","tbarPriRef","indx","sepPri","des","elWid","wid","ig","ignoreCount","priEleCnt","eleSep","ignoreCheck","eleSepWidth","prevSep","previousElementSibling","popupEleRefresh","ignoreEleFetch","ignoreEle","ignoreInx","count","root","popupEleWidth","tbarWidth","tbarItemsWid","elWidth","btnText","btn","eleSplice","_loop_1","this_1","align","toLowerCase","sepBeforePri_1","refreshPositioning","margin","tbarWid","popWid","left","right","tbarItemAlign","itemEle","showAlwaysInPopup","alignDiv","alignEle","leftAlign_1","ctrlTemplate","cloneNode","itemEleDom","innerPos","renderSubComponent","setAttr","attr","keyVal","enableItems","isEnable","elements","len","enable","removeClass","addClass","addItems","itemsDiv","itemAgn","items_1","type","algIndex","splice","parentNode","removeItems","args","parseInt","toString","removeItemByIndex","eleIdx","indexAgn","templateRender","templateProp","isComponent","itemType","eleObj","templateFn","trim","tempStr","outerHTML","templateCompiler","template","tempArray","buttonRendering","dom","iconCss","iconPos","textStr","text","btnTxt","innerHTML","prefixIcon","suffixIcon","Button","iconPosition","htmlAttributes","tooltipText","cssClass","itemClick","showTextOn","sTxt","currentTarget","curEle","itemsRerender","tEle","changedProb","property","newProperty","refresh","itemCol","hideItem","Collection","Event","CLS_ACRDN_ROOT","CLS_ROOT","CLS_HEADER","CLS_HEADERCTN","CLS_CONTENT","CLS_CTENT","CLS_TOOGLEICN","CLS_EXPANDICN","CLS_CTNHIDE","CLS_SLCT","CLS_SLCTED","CLS_ACTIVE","CLS_TOGANIMATE","CLS_EXPANDSTATE","AccordionActionSettings","AccordionAnimationSettings","Complex","effect","easing","AccordionItem","undefined","Accordion","enter","space","isDestroy","templateEle","eleStr","body","nested","isNested","enablePersistence","expandedItems","initExpand","aria-multiselectable","expandMode","select","initItemExpand","rippleEffect","selector","eventName","focusIn","focusOut","content","innerEles","header","tabindex","aria-level","headerEle","toggleIconGenerate","aria-labelledby","aria-hidden","tglIcon","hdrColIcon","expandItem","renderInnerItem","acrdnItem","acrdnHdr","acrdnCtn","acrdnCtnItem","acrdActive","getIndexByItem","contentRendering","ariaAttrUpdate","cntclkCheck","acrdAniEle","acrdAniEle_1","sameContentCheck","getAttribute","sameHeader","acrdnCtn_1","expandState","collapse","expand","eleMoveFocus","clstItem","nextElementSibling","headerEleGenerate","ariaAttr","aria-expanded","aria-selected","ctnEle","hdrEle","fetchElement","hdr","expanded","hdrIcnEle","icon","hdrIcon","isHeader","temString","eleVal","itemcnt","ctn","trgtItemEle","animation","timingFunction","isExpanded","eff","expandedItemsPush","expandProgress","expandAnimation","ef","icn","animate","begin","progress","minHeight","Animation","expandedItemsPop","collapseProgress","collapseAnimation","trgtItEl","trgtHeight","itemHeight","remain","itemAttribUpdate","itemLen","addItem","innerItemEle","expandedItemRefresh","removeItem","isHidden","enableItem","eleHeader","isExpand","itemExpand","updateItem","acrdn","changedProp","oldVal","newVal","DOWNARROW","FOCUSED","HEADER","RIGHTARROW","SELECTED","SEPARATOR","WRAPPER","DISABLED","HIDE","MenuItem","ContextMenu","navIdx","isTapHold","ejInst","getValue","ul","createElement","ngElement","setValue","initWrapper","wrapper","getWrapper","zIndex","getZindexPartial","ListBase","createJsonFromElement","createItems","append","targetElems","isIos","cmenuHandler","targetElement","getScrollableParent","parent_1","moverHandler","mouseDownHandler","delegateClickHandler","keyBoardHandler","downarrow","uparrow","leftarrow","rightarrow","escape","closeMenu","upDownKeyHandler","rightEnterKeyHandler","leftEscKeyHandler","cul","defaultIdx","fliIdx","fli","getLIByClass","getIdx","cli","isValidLI","getItem","openMenu","sli","canOpen","changedTouches","pageY","pageX","ulIndex","isMenuVisible","closeArgs","beforeCloseArgs","cnt","parentItem","event","toggleAnimation","valueOf","filter","split","li","lastChild","data","ICONS","hdata","hli","getIndex","getTextContent","pop","setPosition","toggleVisiblity","collide","isCollide","offset","fit","Number","replace","x","xCollision","visibility","showIcon","hasField","listBaseOptions","moduleName","itemCreating","curData","itemCreated","separator","span","createList","toRawObject","menuItems","properties","getLI","showItemOnClick","field","node","nodeType","textContent","cliWrapper","isInstLI","setLISelected","showSubMenu","cliIdx","culIdx","idx","classname","getItems","skipHdr","toggle","unWireEvents","getChangedItemIndex","insertAfter","uls","getInstance","parent_2","keyboardModule","isMenuOpen","animationSettings","getBoundingClientRect","isCallBack","unshift","disabled","showItems","showHideItems","hideItems","ishide","iitems","insertItems","isAfter","menuitem","CLS_HIDDEN","CLS_ICON_CLOSE","CLS_WRAP","CLS_TB_ITEMS","CLS_TB_ITEM","CLS_TB_POPUP","CLS_PROGRESS","TabActionSettings","TabAnimationSettings","Header","TabItem","Tab","prevIndex","animateOptions","animObj","title","delete","tbObj","expTemplateContent","isTemplate","cntEle","isPopup","initRender","isSwipeed","css","setCssClass","aria-activedescendant","renderContainer","setOrientation","headerPlacement","renderHeader","tbItems","renderContent","bdrLine","CLS_INDICATOR","scrCnt","setContentHeight","selectedItem","setRTL","tabItems","btnCls","CLS_ICONS","attrs","hdrItems","aria-controls","txt","cont","wrap","tabIndex","parseObject","clicked","setCloseButton","showCloseButton","setProperties","hdrItem","contents","inHTML","tbCount","tItems","isReplace","tHtml","txtEmpty","wrapAttrs","tCont","tItem","removeActiveClass","hdrActEle","no","extIndex","findEle","checkPopupOverflow","tbPop","tbrItems","popupHandler","ripEle","tbItem","actEleId","prevEle","trg","refreshActElePosition","prevCtnAnimation","prev","current","previous","next","triggerPrevAnimation","oldCnt","animateObj","triggerAnimation","prevActiveEle","newCnt","getTrgContent","idNo","openEff","clsEff","setActiveBorder","keyPressed","trgParent","trgIndex","getEleIndex","templateCompile","tempEle","compile","getContent","callType","place","list","heightAdjustMode","max","getHeight","cs","getPropertyValue","hsCnt","bar","tbWidth","setActive","isNaN","trg_1","enableAnimation","eleTrg","curActItem","refreshItemVisibility","eventArg","previousItem","prevItem","previousIndex","selectedIndex","isSwiped","setItems","refreshActiveBorder","hoverHandler","spaceKeyDown","swipe","swipeHandler","keyHandler","tabKeyModule","openPopup","shiftTab","removeEventListener","removeTab","velocity","swipeDirection","which","clstHead","actEle","ej2_instances","activeElement","nxtSib","nextSibling","scrBar","scrStart","scrEnd","eleStart","eleEnd","eleViewRange","L10n","closeButtonTitle","locale","getConstant","enableTab","addTab","addedItems","removingArgs","removedItem","removedIndex","cntTrg","removedArgs","hideTab","disable","cntItem","arr","tempHdrEle","ROOT","COLLAPSIBLE","EXPANDABLE","LISTITEM","LISTTEXT","PARENTITEM","HOVER","ACTIVE","LOAD","PROCESS","ICON","TEXTWRAP","TREEINPUT","DRAGGING","SIBLING","DROPNEXT","FULLROW","EXPANDED","NODECOLLAPSED","CHECK","CHECKBOXWRAP","CHECKBOXFRAME","FOCUS","treeAriaAttr","treeRole","itemRole","listRole","itemText","wrapperRole","FieldsSettings","ActionSettings","NodeAnimationSettings","TreeView","mouseDownStatus","checkActionNodes","dragStartAction","isAnimate","f2","ctrlDown","ctrlUp","ctrlEnter","ctrlHome","ctrlEnd","ctrlA","shiftDown","shiftUp","shiftEnter","shiftHome","shiftEnd","csDown","csUp","csEnter","csHome","csEnd","listBaseOption","expandCollapse","fields","expandIconClass","ariaAttributes","expandIconPosition","beforeNodeCreate","url","navigateUrl","aniObj","treeList","isLoaded","setTouchClass","selectedNodes","checkedNodes","setDataBinding","setExpandOnType","setRipple","wireEditingEvents","allowEditing","setDragAndDrop","allowDragAndDrop","setEnableRtl","setFullRow","fullRowSelect","nodeTemplateFn","templateComplier","nodeTemplate","rippleModel","ignore","rippleFn","iconModel","isCenterRipple","rippleIconFn","isEnabled","setMultiSelect","firstUl","dataSource","DataManager","executeQuery","getQuery","then","treeData","result","isNumberTypeId","getType","setRootData","finalize","rootData","mapper","query","columns","clone","Query","prop","getActualProperties","col","from","tableName","addSorting","sortOrder","parentID","where","dataType","getDataType","groupedData","getGroupedData","rootItems","getChildNodes","isSorted","level","ulElement","getSortedData","finalizeNode","showCheckBox","checkboxEle","createCheckBox","touchClass","checkValue","isChecked","addCheck","frame","frameMouseHandler","createFullRow","allowMultiSelection","addActionClass","selected","textEle","nodeData","rippleSpan","rippleMouseHandler","actionValue","ds","child","hasChildren","groupBy","cusQuery","group","getDataSource","grpItem","j","iNodes","k","sNodes","selectNode","cNodes","eNodes","renderChildNodes","updateList","updateCheckedProp","nodes_1","checkBox","ensureParentCheckState","checkBoxEle","changeState","parentUL","currentParent","ensureChildCheckState","childElement","checkBoxes","checkedState","currentLoadData","isNodeChecked","doCheckBoxAction","doCheck","liEle","getElement","validateCheckNode","state","isPrevent","isAdd","ariaState","currLi","getCheckEvent","frameSpan","removeCheck","isUndefined","checked","getNodeData","isInteracted","firstNode","updateIdAttr","doSelectionAction","sUids","sNode","selectGivenNodes","preventContextMenu","removeHover","setFocusElement","checkWrapper","checkElement","triggerClickEvent","expandAction","collapseNode","toggleSelect","nodeCheckingEvent","isCheck","nodeCheckedEvent","expandNode","hideSpinner","start","proxy","setHeight","expandedNode","animateHeight","expandArgs","colArgs","getExpandEvent","currentHeight","timeStamp","parentLi","expandChild","eicon","showSpinner","childItems","parents","mapper_1","getChildFields","getNodeObject","ensureCheckNode","renderSubChild","getFields","nodeLevel","dataLevel","getChildMapper","obj","parentId","isRoot","getChildGroup","objlen","dataId","cIcons","curLi","multiSelect","ctrlKey","isActive","unselectNode","getSelectEvent","removeSelectAll","shiftKey","startNode","startIndex","liList","endIndex","temp","currNode","addSelect","removeSelect","focusedNode","getFocusedNode","selectedLI","selectedLI_1","expandOnType","expandOn","expandHandler","expandCollapseAction","nodeName","inpEle","blur","oldText","checkNode","openNode","shiftKeySelect","navigateNode","navigateRootNode","createTextbox","navigateToFocus","isUp","focusNode","parent","getScrollParent","parentPos","bottom","scrollTop","isVisibleInViewport","scrollIntoView","txtWrap","documentElement","clientHeight","innerWidth","clientWidth","scrollHeight","isTowards","nextNode","getNextNode","getPrevNode","checkWrap","toBeOpened","focusNextNode","setFocus","isBackwards","rootNode","getRootNode","getEndNode","fNode","prevNode","endNode","preNode","onMouseOver","currentLi","setHover","onMouseLeave","hoveredNode","fromDS","getText","pNode","pid","nodeFields","reRenderNodes","oldClass","newClass","editingHandler","oldInpEle","updateOldText","getEditEvent","innerHtml","inputObj","Input","createInput","container","inputEle","setSelectionRange","wireInputEvents","editData","editFields","inputFocusOut","newText","txtEle","appendNewText","isInput","newData","getChildNodeObject","newList","childData","toBind","initializeDrag","destroyDrag","virtualEle","dragObj","Draggable","enableTailMode","dragTarget","helper","sender","dragRoot","dragWrap","dragLi","isSameNode","cloneEle","DRAGITEM","nLen","cNode","cursor","dragData","dragStart","getDragEvent","drag","cursorAt","targetTouches","dragAction","dragStop","removeVirtualEle","dropTarget","dropRoot","dropObj","Droppable","out","over","drop","dropAction","dropWrap","dropLi","isDescendant","virEle","renderVirtualEle","draggable","droppedElement","appendNode","dropAsSiblingNode","dropAsChildNode","dropUl","dragParentUl","dragParentLi","updateElement","updateAriaLevel","updateInstance","dropParentUl","expandParent","dropIcon","generateIcon","generateUL","dragIcon","updateChildAriaLevel","sibEle","dropData","draggedNode","draggedNodeData","droppedNode","droppedNodeData","addFullRow","toAdd","rowDiv","addMultiSelect","liEles_1","liEles_2","collapseByLevel","excludeHiddenNodes","getVisibleNodes","collapseAllNodes","expandByLevel","expandAllNodes","eIcons","vNodes","removeNode","updateSelectedNodes","doGivenAction","toExpand","addGivenNodes","isRemote","updateMapper","createListItemFromJson","refNode","doDisableAction","doEnableAction","proxy_1","touchEditObj","tap","tapCount","wireClickEvent","proxy_2","touchClickObj","wireExpandOnEvent","proxy_3","touchExpandObj","matched","matches","createSpinner","setCheckedNodes","JSON","parse","stringify","uncheckAll","checkAll","addNodes","beginEdit","collapseAll","disableNodes","enableNodes","ensureVisible","expandAll","getNode","moveNodes","sourceNodes","removeNodes","updateNode","CLOSE","OPEN","TRASITION","RIGHT","OVER","PUSH","VISIBILITY","DISABLEANIMATION","CONTEXT","SIDEBARABSOLUTE","Sidebar","setWidth","setContext","setZindex","enableDock","setDock","setMediaQuery","setType","setCloseOnDocumentClick","insertAdjacentElement","closeOnDocumentClick","documentclickHandler","dockSize","z-index","classELement","isNullOrUndefined","destroyBackDrop","sibling","showBackdrop","modal","eventArguments","transform","setAnimation","createBackDrop","isOpen","mediaQuery","enableGestureHandler","startX","setEnableGestures","enableGestures","mainContentEle","sidebarEle","margin-left","margin-right","elementWidth"],"mappings":"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cnK,EAAOkK,EAAQD,GAAS,MAO/CpT,EAASl7B,UAAUy1C,WAAa,SAAUpnC,GAClCvO,KAAKohC,cACLphC,KAAKqkC,iBAAiB91B,GAAO,IAGrCnO,IACI0I,YAAS,IACVsyB,EAASl7B,UAAW,wBAAoB,GAC3CE,IACI0I,YAAS,IACVsyB,EAASl7B,UAAW,oBAAgB,GACvCE,IACI0I,YAAS,IACVsyB,EAASl7B,UAAW,2BAAuB,GAC9CE,IACIie,aAAY8c,KACbC,EAASl7B,UAAW,iBAAa,GACpCE,IACI0I,cACDsyB,EAASl7B,UAAW,oBAAgB,GACvCE,IACI0I,WAAS,KACVsyB,EAASl7B,UAAW,gBAAY,GACnCE,IACI0I,YAAS,IACVsyB,EAASl7B,UAAW,yBAAqB,GAC5CE,IACI0I,YAAS,IACVsyB,EAASl7B,UAAW,iBAAa,GACpCE,IACI0I,WAAS,SACVsyB,EAASl7B,UAAW,gBAAY,GACnCE,IACIie,aAAY4c,KACbG,EAASl7B,UAAW,cAAU,GACjCE,IACI0I,YAAS,IACVsyB,EAASl7B,UAAW,qBAAiB,GACxCE,IACI0I,cACDsyB,EAASl7B,UAAW,oBAAgB,GACvCE,IACI0I,cACDsyB,EAASl7B,UAAW,qBAAiB,GACxCE,IACI0I,WAAS,SACVsyB,EAASl7B,UAAW,iBAAa,GACpCE,IACI0I,YAAS,IACVsyB,EAASl7B,UAAW,oBAAgB,GACvCE,IACIgd,WACDge,EAASl7B,UAAW,eAAW,GAClCE,IACIgd,WACDge,EAASl7B,UAAW,iBAAa,GACpCE,IACIgd,WACDge,EAASl7B,UAAW,gBAAY,GACnCE,IACIgd,WACDge,EAASl7B,UAAW,iBAAa,GACpCE,IACIgd,WACDge,EAASl7B,UAAW,gBAAY,GACnCE,IACIgd,WACDge,EAASl7B,UAAW,mBAAe,GACtCE,IACIgd,WACDge,EAASl7B,UAAW,oBAAgB,GACvCE,IACIgd,WACDge,EAASl7B,UAAW,mBAAe,GACtCE,IACIgd,WACDge,EAASl7B,UAAW,qBAAiB,GACxCE,IACIgd,WACDge,EAASl7B,UAAW,sBAAkB,GACzCE,I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"}