{"version":3,"file":"ej2-navigations.umd.min.js","sources":["src/es5/common/h-scroll.js","src/es5/toolbar/toolbar.js","src/es5/accordion/accordion.js","src/es5/context-menu/context-menu.js","src/es5/tab/tab.js","src/es5/treeview/treeview.js","src/es5/sidebar/sidebar.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Touch, Component, EventHandler, selectAll, getUniqueID } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Property, Browser, detach, createElement as buildTag } from '@syncfusion/ej2-base';\nvar CLS_ROOT = 'e-hscroll';\nvar CLS_RTL = 'e-rtl';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_HSCROLLBAR = 'e-hscroll-bar';\nvar CLS_HSCROLLCON = 'e-hscroll-content';\nvar CLS_NAVARROW = 'e-nav-arrow';\nvar CLS_NAVRIGHTARROW = 'e-nav-right-arrow';\nvar CLS_NAVLEFTARROW = 'e-nav-left-arrow';\nvar CLS_HSCROLLNAV = 'e-scroll-nav';\nvar CLS_HSCROLLNAVRIGHT = 'e-scroll-right-nav';\nvar CLS_HSCROLLNAVLEFT = 'e-scroll-left-nav';\nvar CLS_DEVICE = 'e-scroll-device';\n/**\n * HScroll module is introduces horizontal scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs horizontal scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new HScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\nvar HScroll = /** @class */ (function (_super) {\n    __extends(HScroll, _super);\n    /**\n     * Initializes a new instance of the HScroll class.\n     * @param options  - Specifies HScroll model properties as options.\n     * @param element  - Specifies the element for which horizontal scrolling applies.\n     */\n    function HScroll(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    HScroll.prototype.preRender = function () {\n        this.browser = Browser.info.name;\n        this.browserCheck = this.browser === 'mozilla';\n        this.isDevice = Browser.isDevice;\n        var element = this.element;\n        this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n        this.initialize();\n        if (element.id === '') {\n            element.id = getUniqueID('hscroll');\n            this.uniqueId = true;\n        }\n        element.style.display = 'block';\n        if (this.enableRtl) {\n            element.classList.add(CLS_RTL);\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    HScroll.prototype.render = function () {\n        this.touchModule = new Touch(this.element, { scroll: this.touchHandler.bind(this) });\n        if (!this.isDevice) {\n            this.createNavIcon(this.element);\n            EventHandler.add(this.scrollEle, 'scroll', this.scrollHandler, this);\n        }\n        else {\n            this.element.classList.add(CLS_DEVICE);\n        }\n    };\n    HScroll.prototype.initialize = function () {\n        var scrollEle = buildTag('div', { className: CLS_HSCROLLCON });\n        var scrollDiv = buildTag('div', { className: CLS_HSCROLLBAR });\n        scrollDiv.setAttribute('tabindex', '-1');\n        var ele = this.element;\n        var innerEle = [].slice.call(ele.children);\n        for (var _i = 0, innerEle_1 = innerEle; _i < innerEle_1.length; _i++) {\n            var ele_1 = innerEle_1[_i];\n            scrollEle.appendChild(ele_1);\n        }\n        scrollDiv.appendChild(scrollEle);\n        ele.appendChild(scrollDiv);\n        scrollDiv.style.overflowX = 'hidden';\n        this.scrollEle = scrollDiv;\n        this.scrollItems = scrollEle;\n    };\n    HScroll.prototype.getPersistData = function () {\n        var keyEntity = ['scrollStep'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    HScroll.prototype.getModuleName = function () {\n        return 'hScroll';\n    };\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void\n     */\n    HScroll.prototype.destroy = function () {\n        var ele = this.element;\n        ele.style.display = '';\n        ele.classList.remove(CLS_ROOT);\n        var nav = selectAll('.e-' + ele.id + '_nav.' + CLS_HSCROLLNAV, ele);\n        for (var _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {\n            var elem = _a[_i];\n            ele.appendChild(elem);\n        }\n        if (this.uniqueId) {\n            this.element.removeAttribute('id');\n        }\n        detach(this.scrollEle);\n        if (nav.length > 0) {\n            detach(nav[0]);\n            detach(nav[1]);\n        }\n        EventHandler.remove(this.scrollEle, 'scroll', this.scrollHandler);\n        this.touchModule.destroy();\n        this.touchModule = null;\n        _super.prototype.destroy.call(this);\n    };\n    HScroll.prototype.createNavIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n        var nav = buildTag('div', { id: id.concat('_right'), className: clsRight });\n        nav.setAttribute('aria-disabled', 'false');\n        var navItem = buildTag('div', { className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        var clsLeft = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVLEFT);\n        var navEle = buildTag('div', { id: id.concat('_left'), className: clsLeft + ' ' + CLS_DISABLE });\n        navEle.setAttribute('aria-disabled', 'true');\n        var navLeftItem = buildTag('div', { className: CLS_NAVLEFTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        navEle.appendChild(navLeftItem);\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        element.appendChild(nav);\n        element.insertBefore(navEle, element.firstChild);\n        if (this.ieCheck) {\n            nav.classList.add('e-ie-align');\n            navEle.classList.add('e-ie-align');\n        }\n        this.eventBinding([nav, navEle]);\n    };\n    HScroll.prototype.onKeyPress = function (e) {\n        var _this = this;\n        if (e.key === 'Enter') {\n            var timeoutFun_1 = function () {\n                _this.keyTimeout = true;\n                _this.eleScrolling(10, e.target);\n            };\n            this.keyTimer = window.setTimeout(function () {\n                timeoutFun_1();\n            }, 100);\n        }\n    };\n    HScroll.prototype.onKeyUp = function (e) {\n        if (e.key !== 'Enter') {\n            return;\n        }\n        if (this.keyTimeout) {\n            this.keyTimeout = false;\n        }\n        else {\n            e.target.click();\n        }\n        clearTimeout(this.keyTimer);\n    };\n    HScroll.prototype.eventBinding = function (ele) {\n        var _this = this;\n        ele.forEach(function (el) {\n            new Touch(el, { tapHold: _this.tabHoldHandler.bind(_this), tapHoldThreshold: 500 });\n            el.addEventListener('keydown', _this.onKeyPress.bind(_this));\n            el.addEventListener('keyup', _this.onKeyUp.bind(_this));\n            el.addEventListener('mouseup', _this.repeatScroll.bind(_this));\n            el.addEventListener('touchend', _this.repeatScroll.bind(_this));\n            el.addEventListener('contextmenu', function (e) {\n                e.preventDefault();\n            });\n            EventHandler.add(el, 'click', _this.clickEventHandler, _this);\n        });\n    };\n    HScroll.prototype.repeatScroll = function () {\n        clearInterval(this.timeout);\n    };\n    HScroll.prototype.tabHoldHandler = function (e) {\n        var _this = this;\n        var trgt = e.originalEvent.target;\n        trgt = this.contains(trgt, CLS_HSCROLLNAV) ? trgt.firstElementChild : trgt;\n        var scrollDis = 10;\n        var timeoutFun = function () {\n            _this.eleScrolling(scrollDis, trgt);\n        };\n        this.timeout = window.setInterval(function () {\n            timeoutFun();\n        }, 50);\n    };\n    HScroll.prototype.contains = function (ele, className) {\n        return ele.classList.contains(className);\n    };\n    HScroll.prototype.eleScrolling = function (scrollDis, trgt) {\n        var element = this.scrollEle;\n        var rootEle = this.element;\n        var classList = trgt.classList;\n        if (classList.contains(CLS_HSCROLLNAV)) {\n            classList = trgt.querySelector('.' + CLS_NAVARROW).classList;\n        }\n        if (this.contains(rootEle, CLS_RTL) && this.browserCheck) {\n            scrollDis = -scrollDis;\n        }\n        var scrlLeft = element.scrollLeft;\n        if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n            if (classList.contains(CLS_NAVRIGHTARROW)) {\n                element.scrollLeft = scrlLeft + scrollDis;\n            }\n            else {\n                element.scrollLeft = scrlLeft - scrollDis;\n            }\n        }\n        else {\n            if (classList.contains(CLS_NAVLEFTARROW)) {\n                element.scrollLeft = scrlLeft + scrollDis;\n            }\n            else {\n                element.scrollLeft = scrlLeft - scrollDis;\n            }\n        }\n    };\n    HScroll.prototype.clickEventHandler = function (e) {\n        this.eleScrolling(this.scrollStep, e.target);\n    };\n    HScroll.prototype.touchHandler = function (e) {\n        var ele = this.scrollEle;\n        var distance;\n        distance = e.distanceX;\n        if ((this.ieCheck) && this.contains(this.element, CLS_RTL)) {\n            distance = -distance;\n        }\n        if (e.scrollDirection === 'Left') {\n            ele.scrollLeft = ele.scrollLeft + distance;\n        }\n        else if (e.scrollDirection === 'Right') {\n            ele.scrollLeft = ele.scrollLeft - distance;\n        }\n    };\n    HScroll.prototype.arrowDisabling = function (addDisable, removeDisable) {\n        addDisable.classList.add(CLS_DISABLE);\n        addDisable.setAttribute('aria-disabled', 'true');\n        addDisable.removeAttribute('tabindex');\n        clearInterval(this.timeout);\n        removeDisable.classList.remove(CLS_DISABLE);\n        removeDisable.setAttribute('aria-disabled', 'false');\n        removeDisable.setAttribute('tabindex', '0');\n        this.repeatScroll();\n    };\n    HScroll.prototype.scrollHandler = function (e) {\n        var target = e.target;\n        var width = target.offsetWidth;\n        var rootEle = this.element;\n        var navLeftEle = this.element.querySelector('.' + CLS_HSCROLLNAVLEFT);\n        var navRightEle = this.element.querySelector('.' + CLS_HSCROLLNAVRIGHT);\n        var scrollLeft = target.scrollLeft;\n        if (scrollLeft <= 0) {\n            scrollLeft = -scrollLeft;\n        }\n        if (scrollLeft === 0) {\n            if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n                this.arrowDisabling(navLeftEle, navRightEle);\n            }\n            else {\n                this.arrowDisabling(navRightEle, navLeftEle);\n            }\n        }\n        else if (Math.ceil(width + scrollLeft + .1) >= target.scrollWidth) {\n            if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n                this.arrowDisabling(navRightEle, navLeftEle);\n            }\n            else {\n                this.arrowDisabling(navLeftEle, navRightEle);\n            }\n        }\n        else {\n            var disEle = this.element.querySelector('.' + CLS_HSCROLLNAV + '.' + CLS_DISABLE);\n            if (disEle) {\n                disEle.classList.remove(CLS_DISABLE);\n                disEle.setAttribute('aria-disabled', 'false');\n                disEle.setAttribute('tabindex', '0');\n            }\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n     * @param  {HScrollModel} newProp\n     * @param  {HScrollModel} oldProp\n     * @returns void\n     * @private\n     */\n    HScroll.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'scrollStep':\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.element.classList.add(CLS_RTL) : this.element.classList.remove(CLS_RTL);\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(40)\n    ], HScroll.prototype, \"scrollStep\", void 0);\n    HScroll = __decorate([\n        NotifyPropertyChanges\n    ], HScroll);\n    return HScroll;\n}(Component));\nexport { HScroll };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, isVisible, closest, attributes, detach, classList, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { createElement as buildTag, selectAll, setStyleAttribute as setStyle } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, getUniqueID, formatUnit, Collection, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, Browser } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { calculatePosition } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { HScroll } from '../common/h-scroll';\nvar CLS_ITEMS = 'e-toolbar-items';\nvar CLS_ITEM = 'e-toolbar-item';\nvar CLS_RTL = 'e-rtl';\nvar CLS_SEPARATOR = 'e-separator';\nvar CLS_POPUPICON = 'e-popup-up-icon';\nvar CLS_POPUPDOWN = 'e-popup-down-icon';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_POPUPTEXT = 'e-toolbar-text';\nvar CLS_TBARTEXT = 'e-popup-text';\nvar CLS_TBAROVERFLOW = 'e-overflow-show';\nvar CLS_POPOVERFLOW = 'e-overflow-hide';\nvar CLS_TBARBTN = 'e-tbar-btn';\nvar CLS_TBARNAV = 'e-hor-nav';\nvar CLS_TBARSCRLNAV = 'e-scroll-nav';\nvar CLS_TBARRIGHT = 'e-toolbar-right';\nvar CLS_TBARLEFT = 'e-toolbar-left';\nvar CLS_TBARCENTER = 'e-toolbar-center';\nvar CLS_TBARPOS = 'e-tbar-pos';\nvar CLS_TBARSCROLL = 'e-hscroll-content';\nvar CLS_POPUPNAV = 'e-hor-nav';\nvar CLS_POPUPCLASS = 'e-toolbar-pop';\nvar CLS_POPUP = 'e-toolbar-popup';\nvar CLS_TBARBTNTEXT = 'e-tbar-btn-text';\nvar CLS_TBARNAVACT = 'e-nav-active';\nvar CLS_TBARIGNORE = 'e-ignore';\nvar CLS_POPPRI = 'e-popup-alone';\nvar CLS_HIDDEN = 'e-hidden';\n/**\n * An item object that is used to configure Toolbar commands.\n */\nvar Item = /** @class */ (function (_super) {\n    __extends(Item, _super);\n    function Item() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Item.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"text\", void 0);\n    __decorate([\n        Property('auto')\n    ], Item.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"showAlwaysInPopup\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"prefixIcon\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"suffixIcon\", void 0);\n    __decorate([\n        Property('None')\n    ], Item.prototype, \"overflow\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"template\", void 0);\n    __decorate([\n        Property('Button')\n    ], Item.prototype, \"type\", void 0);\n    __decorate([\n        Property('Both')\n    ], Item.prototype, \"showTextOn\", void 0);\n    __decorate([\n        Property(null)\n    ], Item.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"tooltipText\", void 0);\n    __decorate([\n        Property('Left')\n    ], Item.prototype, \"align\", void 0);\n    return Item;\n}(ChildProperty));\nexport { Item };\n/**\n * The Toolbar control contains a group of commands that are aligned horizontally.\n * ```html\n * <div id=\"toolbar\"/>\n * <script>\n *   var toolbarObj = new Toolbar();\n *   toolbarObj.appendTo(\"#toolbar\");\n * </script>\n * ```\n */\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    /**\n     * Initializes a new instance of the Toolbar class.\n     * @param options  - Specifies Toolbar model properties as options.\n     * @param element  - Specifies the element that is rendered as a Toolbar.\n     */\n    function Toolbar(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * Contains the keyboard configuration of the Toolbar.\n         */\n        _this.keyConfigs = {\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            popupOpen: 'enter',\n            popupClose: 'escape',\n            tab: 'tab',\n            home: 'home',\n            end: 'end',\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void.\n     */\n    Toolbar.prototype.destroy = function () {\n        var _this = this;\n        var ele = this.element;\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        while (ele.firstChild) {\n            ele.removeChild(ele.firstChild);\n        }\n        if (this.trgtEle) {\n            ele.appendChild(this.ctrlTem);\n        }\n        this.clearProperty();\n        this.popObj = null;\n        this.tbarAlign = null;\n        this.remove(this.element, 'e-toolpop');\n        ele.removeAttribute('style');\n        ['aria-disabled', 'aria-orientation', 'aria-haspopup', 'role'].forEach(function (attrb) {\n            _this.element.removeAttribute(attrb);\n        });\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    Toolbar.prototype.preRender = function () {\n        this.trigger('beforeCreate');\n        this.scrollModule = null;\n        this.popObj = null;\n        this.tbarItemsCol = this.items;\n        this.popupPriCount = 0;\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL);\n        }\n    };\n    Toolbar.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        window.addEventListener('resize', this.resize.bind(this));\n        this.keyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs\n        });\n        EventHandler.add(this.element, 'keydown', this.docKeyDown, this);\n        this.element.setAttribute('tabIndex', '0');\n    };\n    Toolbar.prototype.docKeyDown = function (e) {\n        if (e.target.tagName === 'INPUT') {\n            return;\n        }\n        if (e.keyCode === 9 && e.target.classList.contains('e-hor-nav') === true && isVisible(this.popObj.element)) {\n            this.popObj.hide({ name: 'SlideUp', duration: 100 });\n        }\n        var keyCheck = (e.keyCode === 40 || e.keyCode === 38 || e.keyCode === 35 || e.keyCode === 36);\n        if (keyCheck) {\n            e.preventDefault();\n        }\n    };\n    Toolbar.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        this.destroyHScroll();\n        this.keyModule.destroy();\n        EventHandler.remove(document, 'scroll', this.docEvent);\n        EventHandler.remove(this.element, 'keydown', this.docKeyDown);\n        EventHandler.remove(document, 'click', this.docEvent);\n    };\n    Toolbar.prototype.clearProperty = function () {\n        this.tbarEle = [];\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n    };\n    Toolbar.prototype.docEvent = function (e) {\n        var popEle = closest(e.target, '.e-popup');\n        if (this.popObj && isVisible(this.popObj.element) && !popEle) {\n            this.popObj.hide({ name: 'SlideUp', duration: 100 });\n        }\n    };\n    Toolbar.prototype.destroyHScroll = function () {\n        if (this.scrollModule) {\n            if (this.tbarAlign) {\n                this.add(this.scrollModule.element, CLS_TBARPOS);\n            }\n            this.scrollModule.destroy();\n            this.scrollModule = null;\n        }\n    };\n    Toolbar.prototype.destroyItems = function () {\n        [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) {\n            detach(el);\n        });\n        var tbarItems = this.element.querySelector('.' + CLS_ITEMS);\n        if (this.tbarAlign) {\n            [].slice.call(tbarItems.children).forEach(function (el) {\n                detach(el);\n            });\n            this.tbarAlign = false;\n            this.remove(tbarItems, CLS_TBARPOS);\n        }\n        this.clearProperty();\n    };\n    Toolbar.prototype.destroyMode = function () {\n        if (this.scrollModule) {\n            this.remove(this.scrollModule.element, CLS_RTL);\n            this.destroyHScroll();\n        }\n        if (this.popObj) {\n            this.popupRefresh(this.popObj.element, true);\n        }\n    };\n    Toolbar.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Toolbar.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    Toolbar.prototype.elementFocus = function (ele) {\n        var fChild = ele.firstElementChild;\n        if (fChild) {\n            fChild.focus();\n            this.activeEleSwitch(ele);\n        }\n        else {\n            ele.focus();\n        }\n    };\n    Toolbar.prototype.clstElement = function (tbrNavChk, trgt) {\n        var clst;\n        if (tbrNavChk && this.popObj && isVisible(this.popObj.element)) {\n            clst = this.popObj.element.querySelector('.' + CLS_ITEM);\n        }\n        else if (this.element === trgt || tbrNavChk) {\n            clst = this.element.querySelector('.' + CLS_ITEM);\n        }\n        else {\n            clst = closest(trgt, '.' + CLS_ITEM);\n        }\n        return clst;\n    };\n    Toolbar.prototype.keyHandling = function (clst, e, trgt, navChk, scrollChk) {\n        var popObj = this.popObj;\n        var rootEle = this.element;\n        var popAnimate = { name: 'SlideUp', duration: 100 };\n        switch (e.action) {\n            case 'moveRight':\n                if (rootEle === trgt) {\n                    this.elementFocus(clst);\n                }\n                else if (!navChk) {\n                    this.eleFocus(clst, 'next');\n                }\n                break;\n            case 'moveLeft':\n                if (!navChk) {\n                    this.eleFocus(clst, 'previous');\n                }\n                break;\n            case 'home':\n            case 'end':\n                var ele = void 0;\n                var nodes = void 0;\n                if (clst) {\n                    var popupCheck = closest(clst, '.e-popup');\n                    if (popupCheck) {\n                        if (isVisible(this.popObj.element)) {\n                            nodes = popupCheck.children;\n                            if (e.action === 'home') {\n                                ele = nodes[0];\n                            }\n                            else {\n                                ele = nodes[nodes.length - 1];\n                            }\n                        }\n                    }\n                    else {\n                        nodes = this.element.querySelectorAll('.' + CLS_ITEMS + ' .' + CLS_ITEM);\n                        if (e.action === 'home') {\n                            ele = nodes[0];\n                        }\n                        else {\n                            ele = nodes[nodes.length - 1];\n                        }\n                    }\n                    if (ele) {\n                        this.elementFocus(ele);\n                    }\n                }\n                break;\n            case 'moveUp':\n            case 'moveDown':\n                var value = e.action === 'moveUp' ? 'previous' : 'next';\n                if (popObj && closest(trgt, '.e-popup')) {\n                    var popEle = popObj.element;\n                    var popFrstEle = popEle.firstElementChild;\n                    if ((value === 'previous' && popFrstEle === clst) || (value === 'next' && popEle.lastElementChild === clst)) {\n                        return;\n                    }\n                    else {\n                        this.eleFocus(clst, value);\n                    }\n                }\n                else if (e.action === 'moveDown' && popObj && isVisible(popObj.element)) {\n                    this.elementFocus(clst);\n                }\n                break;\n            case 'tab':\n                if (!scrollChk && !navChk) {\n                    var ele_1 = clst.firstElementChild;\n                    if (rootEle === trgt) {\n                        if (this.activeEle) {\n                            this.activeEle.focus();\n                        }\n                        else {\n                            this.activeEleRemove(ele_1);\n                            ele_1.focus();\n                        }\n                        this.element.removeAttribute('tabindex');\n                    }\n                }\n                break;\n            case 'popupClose':\n                if (popObj) {\n                    popObj.hide(popAnimate);\n                }\n                break;\n            case 'popupOpen':\n                if (!navChk) {\n                    return;\n                }\n                if (popObj && !isVisible(popObj.element)) {\n                    popObj.element.style.top = rootEle.offsetHeight + 'px';\n                    popObj.show({ name: 'SlideDown', duration: 100 });\n                }\n                else {\n                    popObj.hide(popAnimate);\n                }\n                break;\n        }\n    };\n    Toolbar.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        if (trgt.tagName === 'INPUT') {\n            return;\n        }\n        e.preventDefault();\n        var clst;\n        var tbrNavChk = trgt.classList.contains(CLS_TBARNAV);\n        var tbarScrollChk = trgt.classList.contains(CLS_TBARSCRLNAV);\n        clst = this.clstElement(tbrNavChk, trgt);\n        if (clst || tbarScrollChk) {\n            this.keyHandling(clst, e, trgt, tbrNavChk, tbarScrollChk);\n        }\n    };\n    Toolbar.prototype.eleFocus = function (closest, pos) {\n        var sib = Object(closest)[pos + 'ElementSibling'];\n        var contains = function (el) {\n            return el.classList.contains(CLS_SEPARATOR) || el.classList.contains(CLS_DISABLE);\n        };\n        if (sib) {\n            var skipEle = contains(sib);\n            if (skipEle) {\n                if (Object(sib)[pos + 'ElementSibling']) {\n                    sib = Object(sib)[pos + 'ElementSibling'];\n                    skipEle = contains(sib);\n                    if (skipEle) {\n                        this.eleFocus(sib, pos);\n                        return;\n                    }\n                }\n            }\n            this.elementFocus(sib);\n        }\n        else if (this.tbarAlign) {\n            var elem = Object(closest.parentElement)[pos + 'ElementSibling'];\n            if (!isNOU(elem) && elem.children.length === 0) {\n                elem = Object(elem)[pos + 'ElementSibling'];\n            }\n            if (!isNOU(elem) && elem.children.length > 0) {\n                if (pos === 'next') {\n                    var el = elem.querySelector('.' + CLS_ITEM);\n                    if (contains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        el.firstElementChild.focus();\n                        this.activeEleSwitch(el);\n                    }\n                }\n                else {\n                    var el = elem.lastElementChild;\n                    if (contains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        this.elementFocus(el);\n                    }\n                }\n            }\n        }\n    };\n    Toolbar.prototype.clickHandler = function (e) {\n        var trgt = e.target;\n        var clsList = trgt.classList;\n        var ele = this.element;\n        var isPopupElement = !isNOU(closest(trgt, '.' + CLS_POPUPCLASS));\n        var popupNav = closest(trgt, ('.' + CLS_TBARNAV));\n        if (!popupNav) {\n            popupNav = trgt;\n        }\n        if (!ele.children[0].classList.contains('e-hscroll') && (clsList.contains(CLS_TBARNAV))) {\n            clsList = trgt.querySelector('.e-icons').classList;\n        }\n        if (clsList.contains(CLS_POPUPICON) || clsList.contains(CLS_POPUPDOWN)) {\n            this.popupClickHandler(ele, popupNav, CLS_RTL);\n        }\n        var itemObj;\n        var clst = closest(e.target, '.' + CLS_ITEM);\n        if ((isNOU(clst) || clst.classList.contains(CLS_DISABLE)) && !popupNav.classList.contains(CLS_TBARNAV)) {\n            return;\n        }\n        if (clst) {\n            itemObj = this.items[this.tbarEle.indexOf(clst)];\n        }\n        var eventArgs = { originalEvent: e, item: itemObj };\n        this.trigger('clicked', eventArgs);\n        if (isPopupElement && !eventArgs.cancel) {\n            this.popObj.hide({ name: 'SlideUp', duration: 100 });\n        }\n    };\n    ;\n    Toolbar.prototype.popupClickHandler = function (ele, popupNav, CLS_RTL) {\n        var popObj = this.popObj;\n        if (isVisible(popObj.element)) {\n            popupNav.classList.remove(CLS_TBARNAVACT);\n            popObj.hide({ name: 'SlideUp', duration: 100 });\n        }\n        else {\n            if (ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = true;\n                popObj.position = { X: 'left', Y: 'top' };\n            }\n            if (popObj.offsetX === 0 && !ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = false;\n                popObj.position = { X: 'right', Y: 'top' };\n            }\n            popObj.dataBind();\n            popObj.refreshPosition();\n            popObj.element.style.top = this.element.offsetHeight + 'px';\n            popupNav.classList.add(CLS_TBARNAVACT);\n            popObj.show({ name: 'SlideDown', duration: 100 });\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Toolbar.prototype.render = function () {\n        this.initialize();\n        this.renderControl();\n        this.wireEvents();\n    };\n    Toolbar.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        if (Browser.info.name !== 'msie' || this.height !== 'auto') {\n            setStyle(this.element, { 'height': height });\n        }\n        setStyle(this.element, { 'width': width });\n        var ariaAttr = {\n            'role': 'toolbar', 'aria-disabled': 'false', 'aria-haspopup': 'false', 'aria-orientation': 'horizontal',\n        };\n        attributes(this.element, ariaAttr);\n    };\n    Toolbar.prototype.renderControl = function () {\n        this.trgtEle = (this.element.children.length > 0) ? this.element.querySelector('div') : null;\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n        this.renderItems();\n        this.renderOverflowMode();\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.popObj.element.childElementCount > 1 && this.checkPopupRefresh(this.element, this.popObj.element)) {\n            this.popupRefresh(this.popObj.element, false);\n        }\n    };\n    Toolbar.prototype.initHScroll = function (element, innerItems) {\n        if (!this.scrollModule && this.checkOverflow(element, innerItems[0])) {\n            if (this.tbarAlign) {\n                this.element.querySelector('.' + CLS_ITEMS + ' .' + CLS_TBARCENTER).removeAttribute('style');\n            }\n            this.scrollModule = new HScroll({ scrollStep: 50, enableRtl: this.enableRtl }, innerItems[0]);\n            this.remove(this.scrollModule.element, CLS_TBARPOS);\n            setStyle(this.element, { overflow: 'hidden' });\n        }\n    };\n    Toolbar.prototype.itemWidthCal = function (items) {\n        var width = 0;\n        [].slice.call(selectAll('.' + CLS_ITEM, items)).forEach(function (el) {\n            if (isVisible(el)) {\n                width += (el.offsetWidth + parseFloat(window.getComputedStyle(el).marginRight));\n            }\n        });\n        return width;\n    };\n    Toolbar.prototype.checkOverflow = function (element, innerItem) {\n        if (isNOU(element) || isNOU(innerItem) || !isVisible(element)) {\n            return false;\n        }\n        var eleWidth = element.offsetWidth;\n        var itemWidth;\n        if (this.tbarAlign || this.scrollModule) {\n            itemWidth = this.itemWidthCal(this.scrollModule ? innerItem.querySelector('.e-hscroll-content') : innerItem);\n        }\n        else {\n            itemWidth = innerItem.offsetWidth;\n        }\n        var popNav = element.querySelector('.' + CLS_TBARNAV);\n        var scrollNav = element.querySelector('.' + CLS_TBARSCRLNAV);\n        if (itemWidth > eleWidth - (popNav ? popNav.offsetWidth : (scrollNav ? scrollNav.offsetWidth * 2 : 0))) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /** @hidden */\n    Toolbar.prototype.refreshOverflow = function () {\n        this.resize();\n    };\n    Toolbar.prototype.renderOverflowMode = function () {\n        var ele = this.element;\n        var innerItems = ele.querySelector('.' + CLS_ITEMS);\n        var priorityCheck = this.popupPriCount > 0;\n        if (ele && ele.children.length > 0) {\n            this.offsetWid = ele.offsetWidth;\n            this.remove(this.element, 'e-toolpop');\n            switch (this.overflowMode) {\n                case 'Scrollable':\n                    this.destroyHScroll();\n                    this.initHScroll(ele, ele.getElementsByClassName(CLS_ITEMS));\n                    break;\n                case 'Popup':\n                    this.add(this.element, 'e-toolpop');\n                    if (this.tbarAlign) {\n                        this.removePositioning();\n                    }\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        this.createPopupEle(ele, [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, ele)));\n                        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('tabIndex', '0');\n                    }\n                    if (this.tbarAlign) {\n                        this.add(innerItems, CLS_TBARPOS);\n                        this.itemPositioning();\n                    }\n                    break;\n            }\n        }\n    };\n    Toolbar.prototype.createPopupEle = function (ele, innerEle) {\n        var innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        if (!innerNav) {\n            this.createPopupIcon(ele);\n        }\n        innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        var eleWidth = (ele.offsetWidth - (innerNav.offsetWidth));\n        this.element.classList.remove('e-rtl');\n        setStyle(this.element, { direction: 'initial' });\n        this.checkPriority(ele, innerEle, eleWidth, true);\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        this.element.style.removeProperty('direction');\n        this.createPopup();\n    };\n    Toolbar.prototype.pushingPoppedEle = function (tbarObj, popupPri, ele, eleHeight) {\n        var element = tbarObj.element;\n        var nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n        var nodeIndex = 0;\n        var poppedEle = [].slice.call(selectAll('.' + CLS_POPUP, element.querySelector('.' + CLS_ITEMS)));\n        var nodePri = 0;\n        poppedEle.forEach(function (el, index) {\n            nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n            if (el.classList.contains(CLS_TBAROVERFLOW) && nodes.length > 0) {\n                if (tbarObj.tbResize && nodes.length > index) {\n                    ele.insertBefore(el, nodes[index]);\n                    ++nodePri;\n                }\n                else {\n                    ele.insertBefore(el, ele.children[nodes.length]);\n                    ++nodePri;\n                }\n            }\n            else if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (tbarObj.tbResize && el.classList.contains(CLS_POPOVERFLOW) && ele.children.length > 0 && nodes.length === 0) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (el.classList.contains(CLS_POPOVERFLOW)) {\n                popupPri.push(el);\n            }\n            else if (tbarObj.tbResize) {\n                ele.insertBefore(el, ele.childNodes[nodeIndex + nodePri]);\n                ++nodeIndex;\n            }\n            else {\n                ele.appendChild(el);\n            }\n            setStyle(el, { display: '', height: eleHeight + 'px' });\n        });\n        popupPri.forEach(function (el) {\n            ele.appendChild(el);\n        });\n        var tbarEle = selectAll('.' + CLS_ITEM, element.querySelector('.' + CLS_ITEMS));\n        for (var i = tbarEle.length - 1; i >= 0; i--) {\n            var tbarElement = tbarEle[i];\n            if (tbarElement.classList.contains(CLS_SEPARATOR)) {\n                setStyle(tbarElement, { display: 'none' });\n            }\n            else {\n                break;\n            }\n        }\n    };\n    Toolbar.prototype.createPopup = function () {\n        var element = this.element;\n        var eleHeight;\n        var eleItem;\n        eleItem = element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + ' ):not(.' + CLS_POPUP + ' )');\n        eleHeight = (element.style.height === 'auto' || element.style.height === '') ? null : eleItem.offsetHeight;\n        var ele;\n        var popupPri = [];\n        if (element.querySelector('#' + element.id + '_popup.' + CLS_POPUPCLASS)) {\n            ele = element.querySelector('#' + element.id + '_popup.' + CLS_POPUPCLASS);\n        }\n        else {\n            ele = buildTag('div', { id: element.id + '_popup', className: CLS_POPUPCLASS });\n        }\n        this.pushingPoppedEle(this, popupPri, ele, eleHeight);\n        this.popupInit(element, ele);\n    };\n    Toolbar.prototype.popupInit = function (element, ele) {\n        if (!this.popObj) {\n            element.appendChild(ele);\n            setStyle(this.element, { overflow: '' });\n            var popup = new Popup(null, {\n                relateTo: this.element,\n                offsetY: (element.offsetHeight),\n                enableRtl: this.enableRtl,\n                open: this.popupOpen.bind(this),\n                close: this.popupClose,\n                position: this.enableRtl ? { X: 'left', Y: 'top' } : { X: 'right', Y: 'top' }\n            });\n            popup.appendTo(ele);\n            EventHandler.add(document, 'scroll', this.docEvent.bind(this));\n            EventHandler.add(document, 'click ', this.docEvent.bind(this));\n            popup.element.style.maxHeight = popup.element.offsetHeight + 'px';\n            popup.hide();\n            this.popObj = popup;\n            this.element.setAttribute('aria-haspopup', 'true');\n        }\n        else {\n            var popupEle = this.popObj.element;\n            setStyle(popupEle, { maxHeight: '', display: 'block' });\n            setStyle(popupEle, { maxHeight: popupEle.offsetHeight + 'px', display: '' });\n        }\n    };\n    Toolbar.prototype.popupOpen = function (e) {\n        var popObj = this.popObj;\n        var popupEle = this.popObj.element;\n        var toolEle = this.popObj.element.parentElement;\n        var popupNav = toolEle.querySelector('.' + CLS_TBARNAV);\n        setStyle(popObj.element, { height: 'auto', maxHeight: '' });\n        popObj.element.style.maxHeight = popObj.element.offsetHeight + 'px';\n        var popupElePos = popupEle.offsetTop + popupEle.offsetHeight + calculatePosition(toolEle).top;\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.add(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n        var scrollVal = isNOU(window.scrollY) ? 0 : window.scrollY;\n        if ((window.innerHeight + scrollVal) < popupElePos) {\n            var overflowHeight = (popupEle.offsetHeight - ((popupElePos - window.innerHeight - scrollVal) + 5));\n            popObj.height = overflowHeight + 'px';\n            for (var i = 0; i <= popupEle.childElementCount; i++) {\n                var ele = popupEle.children[i];\n                if (ele.offsetTop + ele.offsetHeight > overflowHeight) {\n                    overflowHeight = ele.offsetTop;\n                    break;\n                }\n            }\n            setStyle(popObj.element, { maxHeight: overflowHeight + 'px' });\n        }\n    };\n    Toolbar.prototype.popupClose = function (e) {\n        var element = this.element.parentElement;\n        var popupNav = element.querySelector('.' + CLS_TBARNAV);\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.remove(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPDOWN], [CLS_POPUPICON]);\n    };\n    Toolbar.prototype.checkPriority = function (ele, inEle, eleWidth, pre) {\n        var popPriority = this.popupPriCount > 0;\n        var len = inEle.length;\n        var eleWid = eleWidth;\n        var sepCheck = 0;\n        var itemCount = 0;\n        var itemPopCount = 0;\n        var checkClass = function (ele, val) {\n            var rVal = false;\n            val.forEach(function (cls) {\n                if (ele.classList.contains(cls)) {\n                    rVal = true;\n                }\n            });\n            return rVal;\n        };\n        for (var i = len - 1; i >= 0; i--) {\n            var mrgn = parseFloat((window.getComputedStyle(inEle[i])).marginRight);\n            mrgn += parseFloat((window.getComputedStyle(inEle[i])).marginLeft);\n            var fstEleCheck = inEle[i] === this.tbarEle[0];\n            if (fstEleCheck) {\n                this.tbarEleMrgn = mrgn;\n            }\n            var eleWid_1 = fstEleCheck ? (inEle[i].offsetWidth + mrgn) : inEle[i].offsetWidth;\n            if (checkClass(inEle[i], [CLS_POPPRI]) && popPriority) {\n                inEle[i].classList.add(CLS_POPUP);\n                setStyle(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                itemPopCount++;\n            }\n            if ((inEle[i].offsetLeft + inEle[i].offsetWidth + mrgn) > eleWidth) {\n                if (inEle[i].classList.contains(CLS_SEPARATOR)) {\n                    if (sepCheck > 0 && itemCount === itemPopCount) {\n                        var sepEle = inEle[i + itemCount + (sepCheck - 1)];\n                        if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                            setStyle(sepEle, { display: 'none' });\n                        }\n                    }\n                    sepCheck++;\n                    itemCount = 0;\n                    itemPopCount = 0;\n                }\n                else {\n                    itemCount++;\n                }\n                if (inEle[i].classList.contains(CLS_TBAROVERFLOW) && pre) {\n                    eleWidth -= (inEle[i].offsetWidth + (mrgn));\n                }\n                else if (!checkClass(inEle[i], [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                    inEle[i].classList.add(CLS_POPUP);\n                    setStyle(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                    itemPopCount++;\n                }\n                else {\n                    eleWidth -= (inEle[i].offsetWidth + (mrgn));\n                }\n            }\n        }\n        if (pre) {\n            var popedEle = selectAll('.' + CLS_ITEM + ':not(.' + CLS_POPUP + ')', this.element);\n            this.checkPriority(ele, popedEle, eleWid, false);\n        }\n    };\n    Toolbar.prototype.createPopupIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var className = 'e-' + element.id.concat('_nav ' + CLS_POPUPNAV);\n        var nav = buildTag('div', { id: id, className: className });\n        if (Browser.info.name === 'msie' || Browser.info.name === 'edge') {\n            nav.classList.add('e-ie-align');\n        }\n        var navItem = buildTag('div', { className: CLS_POPUPDOWN + ' e-icons' });\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        element.appendChild(nav);\n    };\n    Toolbar.prototype.tbarPriRef = function (inEle, indx, sepPri, el, des, elWid, wid, ig) {\n        var ignoreCount = ig;\n        var popEle = this.popObj.element;\n        var query = '.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_TBAROVERFLOW + ')';\n        var priEleCnt = selectAll('.' + CLS_POPUP + ':not(.' + CLS_TBAROVERFLOW + ')', popEle).length;\n        var checkClass = function (ele, val) {\n            return ele.classList.contains(val);\n        };\n        if (selectAll(query, inEle).length === 0) {\n            var eleSep = inEle.children[indx - (indx - sepPri) - 1];\n            var ignoreCheck = (!isNOU(eleSep) && checkClass(eleSep, CLS_TBARIGNORE));\n            if ((!isNOU(eleSep) && checkClass(eleSep, CLS_SEPARATOR) && !isVisible(eleSep)) || ignoreCheck) {\n                var sepDisplay = 'none';\n                eleSep.style.display = 'inherit';\n                var eleSepWidth = eleSep.offsetWidth + (parseFloat(window.getComputedStyle(eleSep).marginRight) * 2);\n                var prevSep = eleSep.previousElementSibling;\n                if ((elWid + eleSepWidth) < wid || des) {\n                    inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n                    if (!isNOU(prevSep)) {\n                        prevSep.style.display = '';\n                    }\n                }\n                else {\n                    if (prevSep.classList.contains(CLS_SEPARATOR)) {\n                        prevSep.style.display = sepDisplay;\n                    }\n                }\n                eleSep.style.display = '';\n            }\n            else {\n                inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n            }\n        }\n        else {\n            inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - priEleCnt]);\n        }\n    };\n    Toolbar.prototype.popupRefresh = function (popupEle, destroy) {\n        var ele = this.element;\n        var popNav = ele.querySelector('.' + CLS_TBARNAV);\n        var innerEle = ele.querySelector('.' + CLS_ITEMS);\n        if (isNOU(popNav)) {\n            return;\n        }\n        innerEle.removeAttribute('style');\n        popupEle.style.display = 'block';\n        var width = ele.offsetWidth - (popNav.offsetWidth + innerEle.offsetWidth);\n        this.popupEleRefresh(width, popupEle, destroy);\n        popupEle.style.display = '';\n        if (popupEle.children.length === 0 && popNav && this.popObj) {\n            detach(popNav);\n            popNav = null;\n            this.popObj.destroy();\n            detach(this.popObj.element);\n            this.popObj = null;\n            ele.setAttribute('aria-haspopup', 'false');\n            ele.classList.remove('e-toolpop');\n        }\n    };\n    Toolbar.prototype.ignoreEleFetch = function (index, innerEle) {\n        var ignoreEle = [].slice.call(innerEle.querySelectorAll('.' + CLS_TBARIGNORE));\n        var ignoreInx = [];\n        var count = 0;\n        if (ignoreEle.length > 0) {\n            ignoreEle.forEach(function (ele) {\n                ignoreInx.push([].slice.call(innerEle.children).indexOf(ele));\n            });\n        }\n        else {\n            return 0;\n        }\n        ignoreInx.forEach(function (val) {\n            if (val <= index) {\n                count++;\n            }\n        });\n        return count;\n    };\n    Toolbar.prototype.checkPopupRefresh = function (root, popEle) {\n        popEle.style.display = 'block';\n        var elWid = this.popupEleWidth(popEle.firstElementChild);\n        popEle.firstElementChild.style.removeProperty('Position');\n        var tbarWidth = root.offsetWidth - root.querySelector('.' + CLS_TBARNAV).offsetWidth;\n        var tbarItemsWid = root.querySelector('.' + CLS_ITEMS).offsetWidth;\n        popEle.style.removeProperty('display');\n        if (tbarWidth > (elWid + tbarItemsWid)) {\n            return true;\n        }\n        return false;\n    };\n    Toolbar.prototype.popupEleWidth = function (el) {\n        el.style.position = 'absolute';\n        var elWidth = el.offsetWidth;\n        var btnText = el.querySelector('.' + CLS_TBARBTNTEXT);\n        if (el.classList.contains('e-tbtn-align') || el.classList.contains(CLS_TBARTEXT)) {\n            var btn = el.children[0];\n            if (!isNOU(btnText) && el.classList.contains(CLS_TBARTEXT)) {\n                btnText.style.display = 'none';\n            }\n            else if (!isNOU(btnText) && el.classList.contains(CLS_POPUPTEXT)) {\n                btnText.style.display = 'block';\n            }\n            btn.style.minWidth = '0%';\n            elWidth = parseFloat(el.style.minWidth);\n            btn.style.minWidth = '';\n            if (!isNOU(btnText)) {\n                btnText.style.display = '';\n            }\n        }\n        return elWidth;\n    };\n    Toolbar.prototype.popupEleRefresh = function (width, popupEle, destroy) {\n        var popPriority = this.popupPriCount > 0;\n        var eleSplice = this.tbarEle;\n        var priEleCnt;\n        var index;\n        var checkOverflow;\n        var innerEle = this.element.querySelector('.' + CLS_ITEMS);\n        var ignoreCount = 0;\n        var _loop_1 = function (el) {\n            if (el.classList.contains(CLS_POPPRI) && popPriority && !destroy) {\n                return \"continue\";\n            }\n            var elWidth = this_1.popupEleWidth(el);\n            if (el === this_1.tbarEle[0]) {\n                elWidth += this_1.tbarEleMrgn;\n            }\n            el.style.position = '';\n            if (elWidth < width || destroy) {\n                el.style.minWidth = '';\n                if (!el.classList.contains(CLS_POPOVERFLOW)) {\n                    el.classList.remove(CLS_POPUP);\n                }\n                index = this_1.tbarEle.indexOf(el);\n                if (this_1.tbarAlign) {\n                    var pos = this_1.items[index].align;\n                    index = this_1.tbarAlgEle[(pos + 's').toLowerCase()].indexOf(el);\n                    eleSplice = this_1.tbarAlgEle[(pos + 's').toLowerCase()];\n                    innerEle = this_1.element.querySelector('.' + CLS_ITEMS + ' .' + 'e-toolbar-' + pos.toLowerCase());\n                }\n                var sepBeforePri_1 = 0;\n                eleSplice.slice(0, index).forEach(function (el) {\n                    if (el.classList.contains(CLS_TBAROVERFLOW) || el.classList.contains(CLS_SEPARATOR)) {\n                        if (el.classList.contains(CLS_SEPARATOR)) {\n                            el.style.display = '';\n                            width -= el.offsetWidth;\n                        }\n                        sepBeforePri_1++;\n                    }\n                });\n                ignoreCount = this_1.ignoreEleFetch(index, innerEle);\n                if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                    this_1.tbarPriRef(innerEle, index, sepBeforePri_1, el, destroy, elWidth, width, ignoreCount);\n                    width -= el.offsetWidth;\n                }\n                else if (index === 0) {\n                    innerEle.insertBefore(el, innerEle.firstChild);\n                    width -= el.offsetWidth;\n                }\n                else {\n                    priEleCnt = selectAll('.' + CLS_TBAROVERFLOW, this_1.popObj.element).length;\n                    innerEle.insertBefore(el, innerEle.children[(index + ignoreCount) - priEleCnt]);\n                    width -= el.offsetWidth;\n                }\n                el.style.height = '';\n            }\n            else {\n                return \"break\";\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = [].slice.call(popupEle.children); _i < _a.length; _i++) {\n            var el = _a[_i];\n            var state_1 = _loop_1(el);\n            if (state_1 === \"break\")\n                break;\n        }\n        checkOverflow = this.checkOverflow(this.element, this.element.getElementsByClassName(CLS_ITEMS)[0]);\n        if (checkOverflow && !destroy) {\n            this.renderOverflowMode();\n        }\n    };\n    Toolbar.prototype.removePositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        this.remove(item, CLS_TBARPOS);\n        var innerItem = [].slice.call(item.childNodes);\n        innerItem[1].removeAttribute('style');\n        innerItem[2].removeAttribute('style');\n    };\n    Toolbar.prototype.refreshPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        this.add(item, CLS_TBARPOS);\n        this.itemPositioning();\n    };\n    Toolbar.prototype.itemPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n        var innerItem;\n        if (this.scrollModule) {\n            innerItem = [].slice.call(item.querySelector('.' + CLS_TBARSCROLL).children);\n        }\n        else {\n            innerItem = [].slice.call(item.childNodes);\n        }\n        var margin = innerItem[0].offsetWidth + innerItem[2].offsetWidth;\n        var tbarWid = this.element.offsetWidth;\n        if (popupNav) {\n            tbarWid -= popupNav.offsetWidth;\n            var popWid = popupNav.offsetWidth + 'px';\n            innerItem[2].removeAttribute('style');\n            this.enableRtl ? innerItem[2].style.left = popWid : innerItem[2].style.right = popWid;\n        }\n        if (tbarWid <= margin) {\n            return;\n        }\n        var value = (((tbarWid - margin)) - innerItem[1].offsetWidth) / 2;\n        innerItem[1].removeAttribute('style');\n        var mrgn = (innerItem[0].offsetWidth + value) + 'px';\n        this.enableRtl ? innerItem[1].style.marginRight = mrgn : innerItem[1].style.marginLeft = mrgn;\n    };\n    Toolbar.prototype.tbarItemAlign = function (item, itemEle, pos) {\n        var _this = this;\n        if (item.showAlwaysInPopup && item.overflow !== 'Show') {\n            return;\n        }\n        var alignDiv = [];\n        alignDiv.push(buildTag('div', { className: CLS_TBARLEFT }));\n        alignDiv.push(buildTag('div', { className: CLS_TBARCENTER }));\n        alignDiv.push(buildTag('div', { className: CLS_TBARRIGHT }));\n        if (pos === 0 && item.align !== 'Left') {\n            alignDiv.forEach(function (ele) {\n                itemEle.appendChild(ele);\n            });\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n        else if (item.align !== 'Left') {\n            var alignEle = itemEle.childNodes;\n            var leftAlign_1 = alignDiv[0];\n            [].slice.call(alignEle).forEach(function (el) {\n                _this.tbarAlgEle.lefts.push(el);\n                leftAlign_1.appendChild(el);\n            });\n            itemEle.appendChild(leftAlign_1);\n            itemEle.appendChild(alignDiv[1]);\n            itemEle.appendChild(alignDiv[2]);\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n    };\n    Toolbar.prototype.ctrlTemplate = function () {\n        var _this = this;\n        this.ctrlTem = this.trgtEle.cloneNode(true);\n        this.add(this.trgtEle, CLS_ITEMS);\n        this.tbarEle = [];\n        var innerEle = [].slice.call(this.trgtEle.children);\n        innerEle.forEach(function (ele) {\n            if (ele.tagName === 'DIV') {\n                _this.tbarEle.push(ele);\n                ele.setAttribute('aria-disabled', 'false');\n                _this.add(ele, CLS_ITEM);\n            }\n        });\n    };\n    Toolbar.prototype.renderItems = function () {\n        var ele = this.element;\n        var itemEleDom;\n        var innerItem;\n        var innerPos;\n        var items = this.items;\n        if (ele && ele.children.length > 0) {\n            itemEleDom = ele.querySelector('.' + CLS_ITEMS);\n        }\n        if (this.trgtEle != null) {\n            this.ctrlTemplate();\n        }\n        else if (ele && items.length > 0) {\n            if (!itemEleDom) {\n                itemEleDom = buildTag('div', { className: CLS_ITEMS });\n            }\n            for (var i = 0; i < items.length; i++) {\n                innerItem = this.renderSubComponent(items[i]);\n                if (this.tbarEle.indexOf(innerItem) === -1) {\n                    this.tbarEle.push(innerItem);\n                }\n                if (!this.tbarAlign) {\n                    this.tbarItemAlign(items[i], itemEleDom, i);\n                }\n                innerPos = itemEleDom.querySelector('.e-toolbar-' + items[i].align.toLowerCase());\n                if (innerPos) {\n                    if (!(items[i].showAlwaysInPopup && items[i].overflow !== 'Show')) {\n                        this.tbarAlgEle[(items[i].align + 's').toLowerCase()].push(innerItem);\n                    }\n                    innerPos.appendChild(innerItem);\n                }\n                else {\n                    itemEleDom.appendChild(innerItem);\n                }\n            }\n            ele.appendChild(itemEleDom);\n        }\n    };\n    Toolbar.prototype.setAttr = function (attr, element) {\n        var key = Object.keys(attr);\n        var keyVal;\n        for (var i = 0; i < key.length; i++) {\n            keyVal = key[i];\n            keyVal === 'class' ? this.add(element, attr[keyVal]) : element.setAttribute(keyVal, attr[keyVal]);\n        }\n    };\n    /**\n     * Enables or disables the specified Toolbar item.\n     * @param  {HTMLElement|NodeList} items - DOM element or an array of items to be enabled or disabled.\n     * @param  {boolean} isEnable  - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, `isEnable` is set to true.\n     * @returns void.\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        var elements = items;\n        var len = elements.length;\n        if (isNOU(isEnable)) {\n            isEnable = true;\n        }\n        var enable = function (isEnable, ele) {\n            if (isEnable) {\n                ele.classList.remove(CLS_DISABLE);\n                ele.setAttribute('aria-disabled', 'false');\n            }\n            else {\n                ele.classList.add(CLS_DISABLE);\n                ele.setAttribute('aria-disabled', 'true');\n            }\n        };\n        if (len && len > 1) {\n            for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {\n                var ele = _a[_i];\n                enable(isEnable, ele);\n            }\n            isEnable ? removeClass(elements, CLS_DISABLE) : addClass(elements, CLS_DISABLE);\n        }\n        else {\n            var ele = void 0;\n            ele = (len && len === 1) ? elements[0] : items;\n            enable(isEnable, ele);\n        }\n    };\n    /**\n     * Adds new items to the Toolbar that accepts an array as Toolbar items.\n     * @param  {ItemsModel[]} items - DOM element or an array of items to be added to the Toolbar.\n     * @param  {number} index - Number value that determines where the command is to be added. By default, index is 0.\n     * @returns void.\n     */\n    Toolbar.prototype.addItems = function (items, index) {\n        var innerItems;\n        var itemsDiv = this.element.querySelector('.' + CLS_ITEMS);\n        var innerEle;\n        var itemAgn = 'Left';\n        if (isNOU(index)) {\n            index = 0;\n        }\n        items.forEach(function (e) {\n            if (!isNOU(e.align) && e.align !== 'Left' && itemAgn === 'Left') {\n                itemAgn = e.align;\n            }\n        });\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            if (isNOU(item.type)) {\n                item.type = 'Button';\n            }\n            innerItems = selectAll('.' + CLS_ITEM, this.element);\n            item.align = itemAgn;\n            innerEle = this.renderSubComponent(item);\n            if (this.tbarEle.length >= index && innerItems.length > 0) {\n                this.destroyMode();\n                var algIndex = item.align[0] === 'L' ? 0 : item.align[0] === 'C' ? 1 : 2;\n                var ele = void 0;\n                if (!this.tbarAlign && itemAgn !== 'Left') {\n                    this.tbarItemAlign(item, itemsDiv, 1);\n                    this.tbarAlign = true;\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.appendChild(innerEle);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].push(innerEle);\n                    this.refreshPositioning();\n                }\n                else if (this.tbarAlign) {\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.insertBefore(innerEle, ele.children[index]);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].splice(index, 0, innerEle);\n                    this.refreshPositioning();\n                }\n                else {\n                    innerItems[0].parentNode.insertBefore(innerEle, innerItems[index]);\n                }\n                this.items.splice(index, 0, item);\n                this.tbarEle.splice(index, 0, innerEle);\n                index++;\n                this.offsetWid = itemsDiv.offsetWidth;\n            }\n        }\n        itemsDiv.style.width = '';\n        this.renderOverflowMode();\n    };\n    /**\n     * Removes the items from the Toolbar. Acceptable arguments are index of item/HTMLElement/node list.\n     * @param  {number|HTMLElement|NodeList|HTMLElement[]} args\n     * Index or DOM element or an Array of item which is to be removed from the Toolbar.\n     * @returns void.\n     */\n    Toolbar.prototype.removeItems = function (args) {\n        var elements = args;\n        var index;\n        var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n        if (typeof (elements) === 'number') {\n            index = parseInt(args.toString(), 10);\n            this.removeItemByIndex(index, innerItems);\n        }\n        else {\n            if (elements && elements.length > 1) {\n                for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {\n                    var ele = _a[_i];\n                    index = this.tbarEle.indexOf(ele);\n                    this.removeItemByIndex(index, innerItems);\n                    innerItems = selectAll('.' + CLS_ITEM, this.element);\n                }\n            }\n            else {\n                var ele = (elements && elements.length && elements.length === 1) ? elements[0] : args;\n                index = innerItems.indexOf(ele);\n                this.removeItemByIndex(index, innerItems);\n            }\n        }\n        this.resize();\n    };\n    Toolbar.prototype.removeItemByIndex = function (index, innerItems) {\n        if (this.tbarEle[index] && innerItems[index]) {\n            var eleIdx = this.tbarEle.indexOf(innerItems[index]);\n            if (this.tbarAlign) {\n                var indexAgn = void 0;\n                indexAgn = this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].indexOf(this.tbarEle[eleIdx]);\n                this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].splice(indexAgn, 1);\n            }\n            detach(innerItems[index]);\n            this.items.splice(eleIdx, 1);\n            this.tbarEle.splice(eleIdx, 1);\n        }\n    };\n    Toolbar.prototype.templateRender = function (templateProp, innerEle, item) {\n        var itemType = item.type;\n        var eleObj = templateProp;\n        var isComponent;\n        if (typeof (templateProp) === 'object') {\n            isComponent = typeof (eleObj.appendTo) === 'function';\n        }\n        if (typeof (templateProp) === 'string' || !isComponent) {\n            var templateFn = void 0;\n            var val = templateProp;\n            val = (typeof (templateProp) === 'string') ? templateProp.trim() : templateProp;\n            var e = void 0;\n            try {\n                if (document.querySelectorAll(val).length) {\n                    var ele = document.querySelector(val);\n                    var tempStr = ele.outerHTML.trim();\n                    templateFn = templateCompiler(tempStr);\n                    detach(ele);\n                    item.template = tempStr;\n                }\n            }\n            catch (e) {\n                templateFn = templateCompiler(val);\n            }\n            var tempArray = void 0;\n            if (!isNOU(templateFn)) {\n                tempArray = templateFn({}, this, 'template');\n            }\n            if (!isNOU(tempArray) && tempArray.length > 0) {\n                [].slice.call(tempArray).forEach(function (ele) {\n                    if (!isNOU(ele.tagName)) {\n                        ele.style.display = '';\n                    }\n                    innerEle.appendChild(ele);\n                });\n            }\n        }\n        else if (itemType === 'Input') {\n            var ele = buildTag('input');\n            item.id ? (ele.id = item.id) : (ele.id = getUniqueID('tbr-ipt'));\n            innerEle.appendChild(ele);\n            eleObj.appendTo(ele);\n        }\n        this.add(innerEle, CLS_TEMPLATE);\n        this.tbarEle.push(innerEle);\n    };\n    Toolbar.prototype.buttonRendering = function (item, innerEle) {\n        var dom = buildTag('button', { className: CLS_TBARBTN });\n        dom.setAttribute('type', 'button');\n        var textStr = item.text;\n        var iconCss;\n        var iconPos;\n        item.id ? (dom.id = item.id) : dom.id = getUniqueID('e-tbr-btn');\n        var btnTxt = buildTag('div', { className: 'e-tbar-btn-text' });\n        if (textStr) {\n            btnTxt.innerHTML = textStr;\n            dom.appendChild(btnTxt);\n            dom.classList.add('e-tbtn-txt');\n        }\n        else {\n            this.add(innerEle, 'e-tbtn-align');\n        }\n        if (item.prefixIcon || item.suffixIcon) {\n            if ((item.prefixIcon && item.suffixIcon) || item.prefixIcon) {\n                iconCss = item.prefixIcon + ' e-icons';\n                iconPos = 'Left';\n            }\n            else {\n                iconCss = item.suffixIcon + ' e-icons';\n                iconPos = 'Right';\n            }\n        }\n        new Button({ iconCss: iconCss, iconPosition: iconPos }, dom);\n        if (item.width) {\n            setStyle(dom, { 'width': formatUnit(item.width) });\n        }\n        return dom;\n    };\n    Toolbar.prototype.renderSubComponent = function (item) {\n        var innerEle;\n        var dom;\n        innerEle = buildTag('div', { className: CLS_ITEM });\n        innerEle.setAttribute('aria-disabled', 'false');\n        if (!this.tbarEle) {\n            this.tbarEle = [];\n        }\n        if (item.htmlAttributes) {\n            this.setAttr(item.htmlAttributes, innerEle);\n        }\n        if (item.tooltipText) {\n            innerEle.setAttribute('title', item.tooltipText);\n        }\n        if (item.cssClass) {\n            innerEle.className = innerEle.className + ' ' + item.cssClass;\n        }\n        if (item.template) {\n            this.templateRender(item.template, innerEle, item);\n        }\n        else {\n            switch (item.type) {\n                case 'Button':\n                    dom = this.buttonRendering(item, innerEle);\n                    dom.setAttribute('tabindex', '-1');\n                    innerEle.appendChild(dom);\n                    innerEle.addEventListener('click', this.itemClick.bind(this));\n                    break;\n                case 'Separator':\n                    this.add(innerEle, CLS_SEPARATOR);\n                    break;\n            }\n        }\n        if (item.showTextOn) {\n            var sTxt = item.showTextOn;\n            if (sTxt === 'Toolbar') {\n                this.add(innerEle, CLS_POPUPTEXT);\n                this.add(innerEle, 'e-tbtn-align');\n            }\n            else if (sTxt === 'Overflow') {\n                this.add(innerEle, CLS_TBARTEXT);\n            }\n        }\n        if (item.overflow) {\n            var overflow = item.overflow;\n            if (overflow === 'Show') {\n                this.add(innerEle, CLS_TBAROVERFLOW);\n            }\n            else if (overflow === 'Hide') {\n                if (!innerEle.classList.contains(CLS_SEPARATOR)) {\n                    this.add(innerEle, CLS_POPOVERFLOW);\n                }\n            }\n        }\n        if (item.overflow !== 'Show' && item.showAlwaysInPopup && !innerEle.classList.contains(CLS_SEPARATOR)) {\n            this.add(innerEle, CLS_POPPRI);\n            this.popupPriCount++;\n        }\n        return innerEle;\n    };\n    Toolbar.prototype.itemClick = function (e) {\n        this.activeEleSwitch(e.currentTarget);\n    };\n    Toolbar.prototype.activeEleSwitch = function (ele) {\n        this.activeEleRemove(ele.firstElementChild);\n        this.activeEle.focus();\n    };\n    Toolbar.prototype.activeEleRemove = function (curEle) {\n        if (!isNOU(this.activeEle)) {\n            this.activeEle.setAttribute('tabindex', '-1');\n        }\n        this.activeEle = curEle;\n        if (isNOU(this.trgtEle) && !curEle.parentElement.classList.contains(CLS_TEMPLATE)) {\n            curEle.removeAttribute('tabindex');\n        }\n        else {\n            this.activeEle.setAttribute('tabindex', '0');\n        }\n    };\n    Toolbar.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    Toolbar.prototype.itemsRerender = function (newProp) {\n        this.items = this.tbarItemsCol;\n        this.destroyMode();\n        this.destroyItems();\n        this.items = newProp;\n        this.tbarItemsCol = this.items;\n        this.renderItems();\n        this.renderOverflowMode();\n    };\n    Toolbar.prototype.resize = function () {\n        var ele = this.element;\n        this.tbResize = true;\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj) {\n            this.popObj.hide();\n        }\n        var checkOverflow = this.checkOverflow(ele, ele.getElementsByClassName(CLS_ITEMS)[0]);\n        if (!checkOverflow) {\n            this.destroyHScroll();\n        }\n        if (checkOverflow && this.scrollModule && (this.offsetWid === ele.offsetWidth)) {\n            return;\n        }\n        if (this.offsetWid > ele.offsetWidth || checkOverflow) {\n            this.renderOverflowMode();\n        }\n        if (this.popObj) {\n            if (this.tbarAlign) {\n                this.removePositioning();\n            }\n            this.popupRefresh(this.popObj.element, false);\n            if (this.tbarAlign) {\n                this.refreshPositioning();\n            }\n        }\n        this.offsetWid = ele.offsetWidth;\n        this.tbResize = false;\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {ToolbarModel} newProp\n     * @param  {ToolbarModel} oldProp\n     * @returns void\n     * @private\n     */\n    Toolbar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var tEle = this.element;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProb = Object.keys(newProp.items);\n                        for (var i = 0; i < changedProb.length; i++) {\n                            var index = parseInt(Object.keys(newProp.items)[i], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var oldProperty = Object(oldProp.items[index])[property];\n                            var newProperty = Object(newProp.items[index])[property];\n                            if (this.tbarAlign || property === 'align') {\n                                this.refresh();\n                                break;\n                            }\n                            var popupPriCheck = property === 'showAlwaysInPopup' && !newProperty;\n                            if ((popupPriCheck) || (this.items[index].showAlwaysInPopup) && property === 'overflow' && this.popupPriCount !== 0) {\n                                --this.popupPriCount;\n                            }\n                            this.destroyMode();\n                            var itemCol = [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, tEle));\n                            detach(itemCol[index]);\n                            this.tbarEle.splice(index, 1);\n                            this.addItems([this.items[index]], index);\n                            this.items.splice(index, 1);\n                            if (this.items[index].template) {\n                                this.tbarEle.splice(this.items.length, 1);\n                            }\n                        }\n                    }\n                    else {\n                        this.itemsRerender(newProp.items);\n                    }\n                    break;\n                case 'width':\n                    var wid = tEle.offsetWidth;\n                    setStyle(tEle, { 'width': formatUnit(newProp.width) });\n                    this.renderOverflowMode();\n                    if (this.popObj && wid < tEle.offsetWidth) {\n                        this.popupRefresh(this.popObj.element, false);\n                    }\n                    break;\n                case 'height':\n                    setStyle(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'overflowMode':\n                    this.destroyMode();\n                    this.renderOverflowMode();\n                    if (this.enableRtl) {\n                        this.add(tEle, CLS_RTL);\n                    }\n                    this.refreshOverflow();\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.add(tEle, CLS_RTL) : this.remove(tEle, CLS_RTL);\n                    if (!isNOU(this.scrollModule)) {\n                        newProp.enableRtl ? this.add(this.scrollModule.element, CLS_RTL) : this.remove(this.scrollModule.element, CLS_RTL);\n                    }\n                    if (!isNOU(this.popObj)) {\n                        newProp.enableRtl ? this.add(this.popObj.element, CLS_RTL) : this.remove(this.popObj.element, CLS_RTL);\n                    }\n                    if (this.tbarAlign) {\n                        this.itemPositioning();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Shows or hides the Toolbar item that is in the specified index.\n     * @param  {number} index - Index value of target item.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (true) or show (false). By default, value is false.\n     * @returns void.\n     */\n    Toolbar.prototype.hideItem = function (index, value) {\n        if (this.tbarEle[index]) {\n            var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n            if (value === true) {\n                innerItems[index].classList.add(CLS_HIDDEN);\n            }\n            else {\n                innerItems[index].classList.remove(CLS_HIDDEN);\n            }\n            this.refreshOverflow();\n        }\n    };\n    __decorate([\n        Collection([], Item)\n    ], Toolbar.prototype, \"items\", void 0);\n    __decorate([\n        Property('auto')\n    ], Toolbar.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Toolbar.prototype, \"height\", void 0);\n    __decorate([\n        Property('Scrollable')\n    ], Toolbar.prototype, \"overflowMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Toolbar.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"clicked\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"beforeCreate\", void 0);\n    Toolbar = __decorate([\n        NotifyPropertyChanges\n    ], Toolbar);\n    return Toolbar;\n}(Component));\nexport { Toolbar };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event, KeyboardEvents, rippleEffect } from '@syncfusion/ej2-base';\nimport { getUniqueID, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { addClass, isVisible, closest, attributes, classList, detach, select } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, Collection, Animation } from '@syncfusion/ej2-base';\nimport { createElement as buildTag, setStyleAttribute as setStyle, Complex } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, formatUnit, selectAll } from '@syncfusion/ej2-base';\nvar CLS_ACRDN_ROOT = 'e-acrdn-root';\nvar CLS_ROOT = 'e-accordion';\nvar CLS_ITEM = 'e-acrdn-item';\nvar CLS_ITEMFOCUS = 'e-item-focus';\nvar CLS_ITEMHIDE = 'e-hide';\nvar CLS_HEADER = 'e-acrdn-header';\nvar CLS_HEADERICN = 'e-acrdn-header-icon';\nvar CLS_HEADERCTN = 'e-acrdn-header-content';\nvar CLS_CONTENT = 'e-acrdn-panel';\nvar CLS_CTENT = 'e-acrdn-content';\nvar CLS_TOOGLEICN = 'e-toggle-icon';\nvar CLS_COLLAPSEICN = 'e-tgl-collapse-icon e-icons';\nvar CLS_EXPANDICN = 'e-expand-icon';\nvar CLS_RTL = 'e-rtl';\nvar CLS_CTNHIDE = 'e-content-hide';\nvar CLS_SLCT = 'e-select';\nvar CLS_SLCTED = 'e-selected';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_ANIMATE = 'e-animate';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_TOGANIMATE = 'e-toggle-animation';\nvar CLS_NEST = 'e-nested';\nvar CLS_EXPANDSTATE = 'e-expand-state';\nvar AccordionActionSettings = /** @class */ (function (_super) {\n    __extends(AccordionActionSettings, _super);\n    function AccordionActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideDown')\n    ], AccordionActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], AccordionActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('linear')\n    ], AccordionActionSettings.prototype, \"easing\", void 0);\n    return AccordionActionSettings;\n}(ChildProperty));\nexport { AccordionActionSettings };\nvar AccordionAnimationSettings = /** @class */ (function (_super) {\n    __extends(AccordionAnimationSettings, _super);\n    function AccordionAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideUp', duration: 400, easing: 'linear' }, AccordionActionSettings)\n    ], AccordionAnimationSettings.prototype, \"collapse\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideDown', duration: 400, easing: 'linear' }, AccordionActionSettings)\n    ], AccordionAnimationSettings.prototype, \"expand\", void 0);\n    return AccordionAnimationSettings;\n}(ChildProperty));\nexport { AccordionAnimationSettings };\n/**\n * An item object that is used to configure Accordion items.\n */\nvar AccordionItem = /** @class */ (function (_super) {\n    __extends(AccordionItem, _super);\n    function AccordionItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"content\", void 0);\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"header\", void 0);\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], AccordionItem.prototype, \"expanded\", void 0);\n    return AccordionItem;\n}(ChildProperty));\nexport { AccordionItem };\n/**\n * The Accordion is a vertically collapsible content panel that displays one or more panels at a time within the available space.\n * ```html\n * <div id='accordion'/>\n * <script>\n *   var accordionObj = new Accordion();\n *   accordionObj.appendTo('#accordion');\n * </script>\n * ```\n */\nvar Accordion = /** @class */ (function (_super) {\n    __extends(Accordion, _super);\n    /**\n     * Initializes a new instance of the Accordion class.\n     * @param options  - Specifies Accordion model properties as options.\n     * @param element  - Specifies the element that is rendered as an Accordion.\n     */\n    function Accordion(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * Contains the keyboard configuration of the Accordion.\n         */\n        _this.keyConfigs = {\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            enter: 'enter',\n            space: 'space',\n            home: 'home',\n            end: 'end',\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void\n     */\n    Accordion.prototype.destroy = function () {\n        var _this = this;\n        var ele = this.element;\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        this.isDestroy = true;\n        this.templateEle.forEach(function (eleStr) {\n            document.body.appendChild(_this.element.querySelector(eleStr)).style.display = 'none';\n        });\n        while (ele.firstChild) {\n            ele.removeChild(ele.firstChild);\n        }\n        if (this.trgtEle) {\n            while (this.ctrlTem.firstChild) {\n                ele.appendChild(this.ctrlTem.firstChild);\n            }\n        }\n        ele.removeAttribute('style');\n        ['aria-disabled', 'aria-multiselectable', 'role'].forEach(function (attrb) {\n            _this.element.removeAttribute(attrb);\n        });\n    };\n    Accordion.prototype.preRender = function () {\n        var nested = closest(this.element, '.' + CLS_CONTENT);\n        this.isNested = false;\n        this.templateEle = [];\n        if (!this.isDestroy) {\n            this.isDestroy = false;\n        }\n        if (!isNOU(nested)) {\n            nested.classList.add(CLS_NEST);\n            this.isNested = true;\n        }\n        else {\n            this.element.classList.add(CLS_ACRDN_ROOT);\n        }\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL);\n        }\n        if (!this.enablePersistence || isNOU(this.expandedItems)) {\n            this.expandedItems = [];\n        }\n    };\n    Accordion.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Accordion.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    /**\n     * To initialize the control rendering\n     * @private\n     */\n    Accordion.prototype.render = function () {\n        this.initialize();\n        this.renderControl();\n        this.wireEvents();\n    };\n    Accordion.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        setStyle(this.element, { 'width': width, 'height': height });\n        var ariaAttr = {\n            'aria-disabled': 'false', 'role': 'presentation', 'aria-multiselectable': 'true'\n        };\n        if (this.expandedItems.length > 0) {\n            this.initExpand = this.expandedItems;\n        }\n        attributes(this.element, ariaAttr);\n        if (this.expandMode === 'Single') {\n            this.element.setAttribute('aria-multiselectable', 'false');\n        }\n    };\n    Accordion.prototype.renderControl = function () {\n        this.trgtEle = (this.element.children.length > 0) ? select('div', this.element) : null;\n        this.renderItems();\n        this.initItemExpand();\n    };\n    Accordion.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        if (!isNOU(this.keyModule)) {\n            this.keyModule.destroy();\n        }\n    };\n    Accordion.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        if (!this.isNested && !this.isDestroy) {\n            rippleEffect(this.element, { selector: '.' + CLS_HEADER });\n        }\n        if (!this.isNested) {\n            this.keyModule = new KeyboardEvents(this.element, {\n                keyAction: this.keyActionHandler.bind(this),\n                keyConfigs: this.keyConfigs,\n                eventName: 'keydown'\n            });\n        }\n    };\n    Accordion.prototype.focusIn = function (e) {\n        e.target.parentElement.classList.add(CLS_ITEMFOCUS);\n    };\n    Accordion.prototype.focusOut = function (e) {\n        e.target.parentElement.classList.remove(CLS_ITEMFOCUS);\n    };\n    Accordion.prototype.ctrlTemplate = function () {\n        var _this = this;\n        this.ctrlTem = this.element.cloneNode(true);\n        var innerEles = this.element.children;\n        var content;\n        addClass(innerEles, [CLS_ITEM]);\n        [].slice.call(innerEles).forEach(function (el) {\n            el.id = getUniqueID('acrdn_item');\n            if (el.children.length > 0) {\n                _this.add(el.children[0], CLS_HEADER);\n                var header = el.children[0];\n                attributes(header, { 'tabindex': '0', 'role': 'heading', 'aria-level': innerEles.length.toString() });\n                header.id = getUniqueID('acrdn_header');\n                EventHandler.add(header, 'focus', _this.focusIn, _this);\n                EventHandler.add(header, 'blur', _this.focusOut, _this);\n                var headerEle = header.firstElementChild;\n                if (headerEle) {\n                    headerEle.classList.add(CLS_HEADERCTN);\n                }\n                content = el.children[1];\n                if (content) {\n                    content.id = getUniqueID('acrdn_panel');\n                    header.setAttribute('aria-controls', content.id);\n                    content.style.display = '';\n                    el.classList.add(CLS_SLCT);\n                    el.children[0].appendChild(_this.toggleIconGenerate());\n                    classList(content, [CLS_CONTENT, CLS_CTNHIDE], []);\n                    attributes(content, { 'aria-labelledby': header.id, 'aria-hidden': 'true' });\n                    content = content.firstElementChild;\n                    if (content) {\n                        content.classList.add(CLS_CTENT);\n                        content.style.display = '';\n                    }\n                }\n            }\n        });\n    };\n    Accordion.prototype.toggleIconGenerate = function () {\n        var tglIcon = buildTag('div', { className: CLS_TOOGLEICN });\n        var hdrColIcon = buildTag('span', { className: CLS_COLLAPSEICN });\n        tglIcon.appendChild(hdrColIcon);\n        return tglIcon;\n    };\n    Accordion.prototype.initItemExpand = function () {\n        var len = this.initExpand.length;\n        if (len === 0) {\n            return;\n        }\n        if (this.expandMode === 'Single') {\n            this.expandItem(true, this.initExpand[len - 1]);\n        }\n        else {\n            for (var i = 0; i < len; i++) {\n                this.expandItem(true, this.initExpand[i]);\n            }\n        }\n    };\n    Accordion.prototype.renderItems = function () {\n        var _this = this;\n        var ele = this.element;\n        var innerItem;\n        if (isNOU(this.initExpand)) {\n            this.initExpand = [];\n        }\n        var items = this.items;\n        if (!isNOU(this.trgtEle)) {\n            this.ctrlTemplate();\n        }\n        else if (ele && items.length > 0) {\n            items.forEach(function (item, index) {\n                innerItem = _this.renderInnerItem(item, index);\n                ele.appendChild(innerItem);\n                if (innerItem.childElementCount > 0) {\n                    EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n                    EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n                }\n            });\n        }\n    };\n    Accordion.prototype.clickHandler = function (e) {\n        var _this = this;\n        var trgt = e.target;\n        var eventArgs = {};\n        var index;\n        var tglIcon;\n        var acrdEle = closest(trgt, '.' + CLS_ROOT);\n        if (acrdEle !== this.element) {\n            return;\n        }\n        trgt.classList.add('e-target');\n        var acrdnItem = closest(trgt, '.' + CLS_ITEM);\n        var acrdnHdr = closest(trgt, '.' + CLS_HEADER);\n        var acrdnCtn = closest(trgt, '.' + CLS_CONTENT);\n        if (acrdnItem && (isNOU(acrdnHdr) || isNOU(acrdnCtn))) {\n            acrdnHdr = acrdnItem.children[0];\n            acrdnCtn = acrdnItem.children[1];\n        }\n        if (acrdnHdr) {\n            tglIcon = select('.' + CLS_TOOGLEICN, acrdnHdr);\n        }\n        var acrdnCtnItem;\n        if (acrdnCtn) {\n            acrdnCtnItem = closest(acrdnCtn, '.' + CLS_ITEM);\n        }\n        var acrdActive = [];\n        index = this.getIndexByItem(acrdnItem);\n        if (acrdnCtnItem) {\n            eventArgs.item = this.items[this.getIndexByItem(acrdnCtnItem)];\n        }\n        eventArgs.originalEvent = e;\n        var ctnCheck = !isNOU(tglIcon) && isNOU(this.trgtEle) && acrdnItem.childElementCount <= 1;\n        if (ctnCheck && (isNOU(acrdnCtn) || !isNOU(select('.' + CLS_HEADER + ' .' + CLS_TOOGLEICN, acrdnCtnItem)))) {\n            acrdnItem.appendChild(this.contentRendering(index));\n            this.ariaAttrUpdate(acrdnItem);\n        }\n        this.trigger('clicked', eventArgs);\n        var cntclkCheck = (acrdnCtn && !isNOU(select('.e-target', acrdnCtn)));\n        cntclkCheck = cntclkCheck && (isNOU(select('.' + CLS_ROOT, acrdnCtn)) || !(closest(trgt, '.' + CLS_ROOT) === this.element));\n        trgt.classList.remove('e-target');\n        if (trgt.classList.contains(CLS_CONTENT) || trgt.classList.contains(CLS_CTENT) || cntclkCheck) {\n            return;\n        }\n        [].slice.call(this.element.children).forEach(function (el) {\n            if (el.classList.contains(CLS_ACTIVE)) {\n                acrdActive.push(el);\n            }\n        });\n        var acrdAniEle = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM + ' [' + CLS_ANIMATE + ']'));\n        if (acrdAniEle.length > 0) {\n            for (var _i = 0, acrdAniEle_1 = acrdAniEle; _i < acrdAniEle_1.length; _i++) {\n                var el = acrdAniEle_1[_i];\n                acrdActive.push(el.parentElement);\n            }\n        }\n        var sameContentCheck = acrdActive.indexOf(acrdnCtnItem) !== -1 && acrdnCtn.getAttribute('e-animate') === 'true';\n        var sameHeader = false;\n        if (!isNOU(acrdnItem) && !isNOU(acrdnHdr)) {\n            var acrdnCtn_1 = select('.' + CLS_CONTENT, acrdnItem);\n            var acrdnRoot = closest(acrdnItem, '.' + CLS_ACRDN_ROOT);\n            var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n            if (isNOU(acrdnCtn_1)) {\n                return;\n            }\n            sameHeader = (expandState === acrdnItem);\n            if (isVisible(acrdnCtn_1) && (!sameContentCheck || acrdnCtnItem.classList.contains(CLS_SLCTED))) {\n                this.collapse(acrdnCtn_1);\n            }\n            else {\n                if ((acrdActive.length > 0) && this.expandMode === 'Single' && !sameContentCheck) {\n                    acrdActive.forEach(function (el) {\n                        _this.collapse(select('.' + CLS_CONTENT, el));\n                        el.classList.remove(CLS_EXPANDSTATE);\n                    });\n                }\n                this.expand(acrdnCtn_1);\n            }\n            if (!isNOU(expandState) && !sameHeader) {\n                expandState.classList.remove(CLS_EXPANDSTATE);\n            }\n        }\n    };\n    Accordion.prototype.eleMoveFocus = function (action, root, trgt) {\n        var clst;\n        var clstItem = closest(trgt, '.' + CLS_ITEM);\n        if (trgt === root) {\n            clst = ((action === 'moveUp' ? trgt.lastElementChild : trgt).querySelector('.' + CLS_HEADER));\n        }\n        else if (trgt.classList.contains(CLS_HEADER)) {\n            clstItem = (action === 'moveUp' ? clstItem.previousElementSibling : clstItem.nextElementSibling);\n            if (clstItem) {\n                clst = select('.' + CLS_HEADER, clstItem);\n            }\n        }\n        if (clst) {\n            clst.focus();\n        }\n    };\n    Accordion.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        if (trgt.tagName === 'INPUT') {\n            return;\n        }\n        e.preventDefault();\n        var clst;\n        var root = this.element;\n        var content;\n        switch (e.action) {\n            case 'moveUp':\n                this.eleMoveFocus(e.action, root, trgt);\n                break;\n            case 'moveDown':\n                this.eleMoveFocus(e.action, root, trgt);\n                break;\n            case 'space':\n            case 'enter':\n                content = trgt.nextElementSibling;\n                if (!isNOU(content) && content.classList.contains(CLS_CONTENT)) {\n                    if (content.getAttribute('e-animate') !== 'true') {\n                        trgt.click();\n                    }\n                }\n                else {\n                    trgt.click();\n                }\n                break;\n            case 'home':\n            case 'end':\n                clst = e.action === 'home' ? root.firstElementChild.children[0] : root.lastElementChild.children[0];\n                clst.focus();\n                break;\n        }\n    };\n    Accordion.prototype.headerEleGenerate = function () {\n        var header = buildTag('div', { className: CLS_HEADER, id: getUniqueID('acrdn_header') });\n        var ariaAttr = {\n            'tabindex': '0', 'role': 'heading', 'aria-expanded': 'false', 'aria-selected': 'false',\n            'aria-disabled': 'false', 'aria-level': this.items.length.toString()\n        };\n        attributes(header, ariaAttr);\n        return header;\n    };\n    Accordion.prototype.renderInnerItem = function (item, index) {\n        var innerEle;\n        innerEle = buildTag('div', { className: CLS_ITEM });\n        innerEle.id = getUniqueID('acrdn_item');\n        if (item.header) {\n            var ctnEle = this.headerEleGenerate();\n            var hdrEle = buildTag('div', { className: CLS_HEADERCTN });\n            ctnEle.appendChild(hdrEle);\n            ctnEle.appendChild(this.fetchElement(hdrEle, item.header, index, true));\n            innerEle.appendChild(ctnEle);\n        }\n        var hdr = select('.' + CLS_HEADER, innerEle);\n        if (item.expanded && !isNOU(index) && (!this.enablePersistence)) {\n            if (this.initExpand.indexOf(index) === -1) {\n                this.initExpand.push(index);\n            }\n        }\n        if (item.cssClass) {\n            innerEle.classList.add(item.cssClass);\n        }\n        if (item.iconCss) {\n            var hdrIcnEle = buildTag('div', { className: CLS_HEADERICN });\n            var icon = buildTag('span', { className: item.iconCss + ' e-icons' });\n            hdrIcnEle.appendChild(icon);\n            if (isNOU(hdr)) {\n                hdr = this.headerEleGenerate();\n                hdr.appendChild(hdrIcnEle);\n                innerEle.appendChild(hdr);\n            }\n            else {\n                hdr.insertBefore(hdrIcnEle, hdr.childNodes[0]);\n            }\n        }\n        if (item.content) {\n            var hdrIcon = this.toggleIconGenerate();\n            if (isNOU(hdr)) {\n                hdr = this.headerEleGenerate();\n                innerEle.appendChild(hdr);\n            }\n            hdr.appendChild(hdrIcon);\n            this.add(innerEle, CLS_SLCT);\n        }\n        return innerEle;\n    };\n    Accordion.prototype.fetchElement = function (ele, value, index, isHeader) {\n        var templateFn;\n        var temString;\n        try {\n            if (document.querySelectorAll(value).length) {\n                var eleVal = document.querySelector(value);\n                temString = eleVal.outerHTML.trim();\n                ele.appendChild(eleVal);\n                eleVal.style.display = '';\n            }\n        }\n        catch (e) {\n            templateFn = templateCompiler(value);\n        }\n        if (!isNOU(templateFn) && templateFn().length > 0 && !(isNOU(templateFn()[0].tagName) && templateFn().length === 1)) {\n            [].slice.call(templateFn()).forEach(function (el) {\n                if (!isNOU(el.tagName)) {\n                    el.style.display = '';\n                }\n                ele.appendChild(el);\n            });\n        }\n        else if (ele.childElementCount === 0) {\n            ele.innerHTML = value;\n        }\n        if (!isNOU(temString)) {\n            this.templateEle.push(value);\n        }\n        return ele;\n    };\n    Accordion.prototype.ariaAttrUpdate = function (itemEle) {\n        var header = select('.' + CLS_HEADER, itemEle);\n        var content = select('.' + CLS_CONTENT, itemEle);\n        header.setAttribute('aria-controls', content.id);\n        content.setAttribute('aria-labelledby', header.id);\n    };\n    Accordion.prototype.contentRendering = function (index) {\n        var content = this.items[index].content;\n        var itemcnt = buildTag('div', { className: CLS_CONTENT + ' ' + CLS_CTNHIDE, id: getUniqueID('acrdn_panel') });\n        attributes(itemcnt, { 'aria-hidden': 'true' });\n        var ctn = buildTag('div', { className: CLS_CTENT });\n        itemcnt.appendChild(this.fetchElement(ctn, content, index, false));\n        return itemcnt;\n    };\n    Accordion.prototype.expand = function (trgt) {\n        var eventArgs;\n        var trgtItemEle = closest(trgt, '.' + CLS_ITEM);\n        if (isNOU(trgt) || (isVisible(trgt) && trgt.getAttribute('e-animate') !== 'true') || trgtItemEle.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        var acrdnRoot = closest(trgtItemEle, '.' + CLS_ACRDN_ROOT);\n        var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n        var animation = {\n            name: this.animation.expand.effect,\n            duration: this.animation.expand.duration,\n            timingFunction: this.animation.expand.easing\n        };\n        var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n        eventArgs = { element: trgtItemEle,\n            item: this.items[this.getIndexByItem(trgtItemEle)],\n            isExpanded: true };\n        var eff = animation.name;\n        this.trigger('expanding', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        icon.classList.add(CLS_TOGANIMATE);\n        this.expandedItemsPush(trgtItemEle);\n        if (!isNOU(expandState)) {\n            expandState.classList.remove(CLS_EXPANDSTATE);\n        }\n        trgtItemEle.classList.add(CLS_EXPANDSTATE);\n        if ((animation.name === 'None')) {\n            this.expandProgress('begin', icon, trgt, trgtItemEle, eventArgs);\n            this.expandProgress('end', icon, trgt, trgtItemEle, eventArgs);\n            return;\n        }\n        this.expandAnimation(eff, icon, trgt, trgtItemEle, animation, eventArgs);\n    };\n    Accordion.prototype.expandAnimation = function (ef, icn, trgt, trgtItemEle, animate, args) {\n        var _this = this;\n        var height;\n        var trgtHgt;\n        if (ef === 'SlideDown') {\n            animate.begin = function () {\n                _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n                trgt.style.position = 'absolute';\n                height = trgtItemEle.offsetHeight;\n                trgtHgt = trgt.offsetHeight;\n                trgt.style.maxHeight = (trgt.offsetHeight) + 'px';\n                trgtItemEle.style.maxHeight = '';\n            };\n            animate.progress = function () {\n                trgtItemEle.style.minHeight = (height + trgt.offsetHeight) + 'px';\n            };\n            animate.end = function () {\n                setStyle(trgt, { 'position': '', 'maxHeight': '' });\n                trgtItemEle.style.minHeight = '';\n                _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n            };\n        }\n        else {\n            animate.begin = function () {\n                _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n            };\n            animate.end = function () {\n                _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n            };\n        }\n        new Animation(animate).animate(trgt);\n    };\n    Accordion.prototype.expandProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n        this.remove(trgt, CLS_CTNHIDE);\n        this.add(trgtItemEle, CLS_SLCTED);\n        this.add(icon, CLS_EXPANDICN);\n        if (progress === 'end') {\n            this.add(trgtItemEle, CLS_ACTIVE);\n            trgt.setAttribute('aria-hidden', 'false');\n            attributes(trgt.previousElementSibling, { 'aria-selected': 'true', 'aria-expanded': 'true' });\n            icon.classList.remove(CLS_TOGANIMATE);\n            this.trigger('expanded', eventArgs);\n        }\n    };\n    Accordion.prototype.expandedItemsPush = function (item) {\n        var index = this.getIndexByItem(item);\n        if (this.expandedItems.indexOf(index) === -1) {\n            this.expandedItems.push(index);\n        }\n    };\n    Accordion.prototype.getIndexByItem = function (item) {\n        return [].slice.call(this.element.children).indexOf(item);\n    };\n    Accordion.prototype.expandedItemsPop = function (item) {\n        var index = this.getIndexByItem(item);\n        this.expandedItems.splice(this.expandedItems.indexOf(index), 1);\n    };\n    Accordion.prototype.collapse = function (trgt) {\n        var eventArgs;\n        var trgtItemEle = closest(trgt, '.' + CLS_ITEM);\n        if (isNOU(trgt) || !isVisible(trgt) || trgtItemEle.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        var animation = {\n            name: this.animation.collapse.effect,\n            duration: this.animation.collapse.duration,\n            timingFunction: this.animation.collapse.easing,\n        };\n        var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n        eventArgs = { element: trgtItemEle,\n            item: this.items[this.getIndexByItem(trgtItemEle)],\n            isExpanded: false };\n        var eff = animation.name;\n        this.trigger('expanding', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.expandedItemsPop(trgtItemEle);\n        trgtItemEle.classList.add(CLS_EXPANDSTATE);\n        icon.classList.add(CLS_TOGANIMATE);\n        if ((animation.name === 'None')) {\n            this.collapseProgress('begin', icon, trgt, trgtItemEle, eventArgs);\n            this.collapseProgress('end', icon, trgt, trgtItemEle, eventArgs);\n            return;\n        }\n        this.collapseAnimation(eff, trgt, trgtItemEle, icon, animation, eventArgs);\n    };\n    Accordion.prototype.collapseAnimation = function (ef, trgt, trgtItEl, icn, animate, args) {\n        var _this = this;\n        var height;\n        var trgtHeight;\n        var itemHeight;\n        var remain;\n        if (ef === 'SlideUp') {\n            animate.begin = function () {\n                itemHeight = trgtItEl.offsetHeight;\n                trgtItEl.style.minHeight = itemHeight + 'px';\n                trgt.style.position = 'absolute';\n                height = trgtItEl.offsetHeight;\n                trgtHeight = trgt.offsetHeight;\n                trgt.style.maxHeight = trgtHeight + 'px';\n                _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n            };\n            animate.progress = function () {\n                remain = ((height - (trgtHeight - trgt.offsetHeight)));\n                if (remain < itemHeight) {\n                    trgtItEl.style.minHeight = remain + 'px';\n                }\n            };\n            animate.end = function () {\n                trgt.style.display = 'none';\n                _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n                trgtItEl.style.minHeight = '';\n                setStyle(trgt, { 'position': '', 'maxHeight': '', 'display': '' });\n            };\n        }\n        else {\n            animate.begin = function () {\n                _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n            };\n            animate.end = function () {\n                _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n            };\n        }\n        new Animation(animate).animate(trgt);\n    };\n    Accordion.prototype.collapseProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n        this.remove(icon, CLS_EXPANDICN);\n        this.remove(trgtItemEle, CLS_SLCTED);\n        if (progress === 'end') {\n            this.add(trgt, CLS_CTNHIDE);\n            icon.classList.remove(CLS_TOGANIMATE);\n            this.remove(trgtItemEle, CLS_ACTIVE);\n            trgt.setAttribute('aria-hidden', 'true');\n            attributes(trgt.previousElementSibling, { 'aria-selected': 'false', 'aria-expanded': 'false' });\n            this.trigger('expanded', eventArgs);\n        }\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Accordion.prototype.getModuleName = function () {\n        return 'accordion';\n    };\n    Accordion.prototype.itemAttribUpdate = function () {\n        var itemEle = [].slice.call(this.element.children);\n        var itemLen = this.items.length;\n        itemEle.forEach(function (ele) {\n            select('.' + CLS_HEADER, ele).setAttribute('aria-level', '' + itemLen);\n        });\n    };\n    /**\n     * Adds new item to the Accordion with the specified index of the Accordion.\n     * @param  {AccordionItemModel} item - Item array that is to be added to the Accordion.\n     * @param  {number} index - Number value that determines where the item should be added.\n     * By default, item is added at the last index if the index is not specified.\n     * @returns void\n     */\n    Accordion.prototype.addItem = function (item, index) {\n        var ele = this.element;\n        if (isNOU(index)) {\n            index = this.items.length;\n        }\n        if (ele.childElementCount >= index) {\n            this.items.splice(index, 0, item);\n            var innerItemEle = this.renderInnerItem(item, index);\n            if (ele.childElementCount === index) {\n                ele.appendChild(innerItemEle);\n            }\n            else {\n                ele.insertBefore(innerItemEle, ele.children[index]);\n            }\n            EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'focus', this.focusIn, this);\n            EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'blur', this.focusOut, this);\n            this.itemAttribUpdate();\n        }\n        this.expandedItems = [];\n        this.expandedItemRefresh(ele);\n        if (item.expanded) {\n            this.expandItem(true, index);\n        }\n    };\n    Accordion.prototype.expandedItemRefresh = function (ele) {\n        var _this = this;\n        [].slice.call(ele.children).forEach(function (el) {\n            if (el.classList.contains(CLS_SLCTED)) {\n                _this.expandedItemsPush(el);\n            }\n        });\n    };\n    /**\n     * Dynamically removes item from Accordion.\n     * @param  {number} index - Number value that determines which item should be removed.\n     * @returns void.\n     */\n    Accordion.prototype.removeItem = function (index) {\n        var ele = this.element.children[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        detach(ele);\n        this.items.splice(index, 1);\n        this.itemAttribUpdate();\n        this.expandedItems = [];\n        this.expandedItemRefresh(this.element);\n    };\n    /**\n     * Sets focus to the specified index item header in Accordion.\n     * @param  {number} index - Number value that determines which item should be focused.\n     * @returns void.\n     */\n    Accordion.prototype.select = function (index) {\n        var ele = this.element.children[index];\n        if (isNOU(ele) || isNOU(select('.' + CLS_HEADER, ele))) {\n            return;\n        }\n        ele.children[0].focus();\n    };\n    /**\n     * Shows or hides the specified item from Accordion.\n     * @param  {number} index - Number value that determines which item should be hidden/shown.\n     * @param  {Boolean} isHidden - Boolean value that determines the action either hide (true) or show (false). Default value is false.\n     *  If the `isHidden` value is false, the item is shown or else item it is hidden.\n     * @returns void.\n     */\n    Accordion.prototype.hideItem = function (index, isHidden) {\n        var ele = this.element.children[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        if (isNOU(isHidden)) {\n            isHidden = true;\n        }\n        isHidden ? this.add(ele, CLS_ITEMHIDE) : this.remove(ele, CLS_ITEMHIDE);\n    };\n    /**\n     * Enables/Disables the specified Accordion item.\n     * @param  {number} index - Number value that determines which item should be enabled/disabled.\n     * @param  {boolean} isEnable - Boolean value that determines the action as enable (true) or disable (false).\n     * If the `isEnable` value is true, the item is enabled or else it is disabled.\n     * @returns void.\n     */\n    Accordion.prototype.enableItem = function (index, isEnable) {\n        var ele = this.element.children[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        var eleHeader = ele.firstElementChild;\n        if (isEnable) {\n            this.remove(ele, CLS_DISABLE);\n            attributes(eleHeader, { 'tabindex': '0', 'aria-disabled': 'false' });\n            eleHeader.focus();\n        }\n        else {\n            if (ele.classList.contains(CLS_ACTIVE)) {\n                this.expandItem(false, index);\n                this.eleMoveFocus('movedown', this.element, eleHeader);\n            }\n            this.add(ele, CLS_DISABLE);\n            eleHeader.setAttribute('aria-disabled', 'true');\n            eleHeader.removeAttribute('tabindex');\n        }\n    };\n    /**\n     * Expands/Collapses the specified Accordion item.\n     * @param  {boolean} isExpand - Boolean value that determines the action as expand or collapse.\n     * @param  {number} index - Number value that determines which item should be expanded/collapsed.`index` is optional parameter.\n     *  Without Specifying index, based on the `isExpand` value all Accordion item can be expanded or collapsed.\n     * @returns void.\n     */\n    Accordion.prototype.expandItem = function (isExpand, index) {\n        var _this = this;\n        var root = this.element;\n        if (isNOU(index)) {\n            if (this.expandMode === 'Single' && isExpand) {\n                var ele = root.children[root.childElementCount - 1];\n                this.itemExpand(isExpand, ele, this.getIndexByItem(ele));\n            }\n            else {\n                [].slice.call(this.element.children).forEach(function (el) {\n                    _this.itemExpand(isExpand, el, _this.getIndexByItem(el));\n                });\n            }\n        }\n        else {\n            var ele = this.element.children[index];\n            if (isNOU(ele) || !ele.classList.contains(CLS_SLCT) || (ele.classList.contains(CLS_ACTIVE) && isExpand)) {\n                return;\n            }\n            else {\n                if (this.expandMode === 'Single') {\n                    this.expandItem(false);\n                }\n                this.itemExpand(isExpand, ele, index);\n            }\n        }\n    };\n    Accordion.prototype.itemExpand = function (isExpand, ele, index) {\n        var ctn = ele.children[1];\n        if (ele.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        if (isNOU(ctn) && isExpand) {\n            ctn = this.contentRendering(index);\n            ele.appendChild(ctn);\n            this.ariaAttrUpdate(ele);\n        }\n        else if (isNOU(ctn)) {\n            return;\n        }\n        isExpand ? this.expand(ctn) : this.collapse(ctn);\n    };\n    Accordion.prototype.destroyItems = function () {\n        [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) { detach(el); });\n    };\n    Accordion.prototype.updateItem = function (item, index) {\n        if (!isNOU(item)) {\n            var itemObj = this.items[index];\n            this.items.splice(index, 1);\n            detach(item);\n            this.addItem(itemObj, index);\n        }\n    };\n    Accordion.prototype.getPersistData = function () {\n        var keyEntity = ['expandedItems'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {AccordionModel} newProp\n     * @param  {AccordionModel} oldProp\n     * @returns void\n     * @private\n     */\n    Accordion.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var acrdn = this.element;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProp = Object.keys(newProp.items);\n                        for (var i = 0; i < changedProp.length; i++) {\n                            var index = parseInt(Object.keys(newProp.items)[i], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var oldVal = Object(oldProp.items[index])[property];\n                            var newVal = Object(newProp.items[index])[property];\n                            var item = selectAll('.' + CLS_ITEM, this.element)[index];\n                            if (property === 'header' || property === 'iconCss' || property === 'expanded') {\n                                this.updateItem(item, index);\n                            }\n                            if (property === 'cssClass' && !isNOU(item)) {\n                                item.classList.remove(oldVal);\n                                item.classList.add(newVal);\n                            }\n                            if (property === 'content' && !isNOU(item) && item.children.length === 2) {\n                                if (item.classList.contains(CLS_SLCTED)) {\n                                    this.expandItem(false, index);\n                                }\n                                detach(item.querySelector('.' + CLS_CONTENT));\n                            }\n                        }\n                    }\n                    else {\n                        this.destroyItems();\n                        this.renderItems();\n                        this.initItemExpand();\n                    }\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.add(acrdn, CLS_RTL) : this.remove(acrdn, CLS_RTL);\n                    break;\n                case 'height':\n                    setStyle(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'width':\n                    setStyle(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'expandMode':\n                    if (newProp.expandMode === 'Single') {\n                        this.element.setAttribute('aria-multiselectable', 'false');\n                        if (this.expandedItems.length > 1) {\n                            this.expandItem(false);\n                        }\n                    }\n                    else {\n                        this.element.setAttribute('aria-multiselectable', 'true');\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Collection([], AccordionItem)\n    ], Accordion.prototype, \"items\", void 0);\n    __decorate([\n        Property('100%')\n    ], Accordion.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Accordion.prototype, \"height\", void 0);\n    __decorate([\n        Property('Multiple')\n    ], Accordion.prototype, \"expandMode\", void 0);\n    __decorate([\n        Complex({}, AccordionAnimationSettings)\n    ], Accordion.prototype, \"animation\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"clicked\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"expanding\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"expanded\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"destroyed\", void 0);\n    Accordion = __decorate([\n        NotifyPropertyChanges\n    ], Accordion);\n    return Accordion;\n}(Component));\nexport { Accordion };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, ChildProperty, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, KeyboardEvents, Touch } from '@syncfusion/ej2-base';\nimport { attributes, Animation } from '@syncfusion/ej2-base';\nimport { Browser, Collection, setValue, getValue, getUniqueID, getInstance } from '@syncfusion/ej2-base';\nimport { select, selectAll, closest, createElement, detach, append, rippleEffect, isVisible } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { calculatePosition, isCollide, fit, getScrollableParent, getZindexPartial } from '@syncfusion/ej2-popups';\nvar DOWNARROW = 'downarrow';\nvar ENTER = 'enter';\nvar ESCAPE = 'escape';\nvar FOCUSED = 'e-focused';\nvar HEADER = 'e-menu-header';\nvar LEFTARROW = 'leftarrow';\nvar RIGHTARROW = 'rightarrow';\nvar RTL = 'e-rtl';\nvar SELECTED = 'e-selected';\nvar SEPARATOR = 'e-separator';\nvar UPARROW = 'uparrow';\nvar WRAPPER = 'e-contextmenu-wrapper';\nvar CARET = 'e-caret';\nvar ITEM = 'e-menu-item';\nvar DISABLED = 'e-disabled';\nvar HIDE = 'e-menu-hide';\nvar ICONS = 'e-icons';\n/**\n * Specifies context menu items.\n */\nvar MenuItem = /** @class */ (function (_super) {\n    __extends(MenuItem, _super);\n    function MenuItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"id\", void 0);\n    __decorate([\n        Property(false)\n    ], MenuItem.prototype, \"separator\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], MenuItem.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"url\", void 0);\n    return MenuItem;\n}(ChildProperty));\nexport { MenuItem };\n/**\n * The ContextMenu is a graphical user interface that appears on the user right click/touch hold operation.\n * ```html\n * <div id = 'target'></div>\n * <ul id = 'contextmenu'></ul>\n * ```\n * ```typescript\n * <script>\n * var contextMenuObj = new ContextMenu({items: [{ text: 'Cut' }, { text: 'Copy' },{ text: 'Paste' }], target: '#target'});\n * </script>\n * ```\n */\nvar ContextMenu = /** @class */ (function (_super) {\n    __extends(ContextMenu, _super);\n    /**\n     * Constructor for creating the widget.\n     * @private\n     */\n    function ContextMenu(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.animation = new Animation({});\n        _this.navIdx = [];\n        _this.isTapHold = false;\n        return _this;\n    }\n    /**\n     * Initialized animation with parent menu animation settings.\n     * @private\n     */\n    ContextMenu.prototype.preRender = function () {\n        if (this.element.tagName === 'EJS-CONTEXTMENU') {\n            this.element.style.display = 'none';\n            this.element.classList.remove('e-' + this.getModuleName());\n            this.element.classList.remove('e-control');\n            var ejInst = getValue('ej2_instances', this.element);\n            var ul = createElement('ul');\n            this.ngElement = this.element;\n            this.element = ul;\n            this.element.classList.add('e-control');\n            this.element.classList.add('e-' + this.getModuleName());\n            setValue('ej2_instances', ejInst, this.element);\n            if (!this.element.id) {\n                this.element.id = getUniqueID(this.getModuleName());\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    ContextMenu.prototype.render = function () {\n        this.initWrapper();\n        this.renderItems();\n        this.wireEvents();\n    };\n    ContextMenu.prototype.initWrapper = function () {\n        var wrapper = this.getWrapper();\n        if (!wrapper) {\n            wrapper = createElement('div', { className: WRAPPER });\n            document.body.appendChild(wrapper);\n        }\n        if (this.cssClass) {\n            wrapper.classList.add(this.cssClass);\n        }\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        attributes(this.element, { 'role': 'menu', 'tabindex': '0' });\n        wrapper.appendChild(this.element);\n        this.element.style.zIndex = getZindexPartial(this.element).toString();\n    };\n    ContextMenu.prototype.renderItems = function () {\n        if (!this.items.length) {\n            this.items = ListBase.createJsonFromElement(this.element);\n            this.element.innerHTML = '';\n        }\n        var ul = this.createItems(this.items);\n        append(Array.prototype.slice.call(ul.children), this.element);\n        this.element.classList.add('e-menu-parent');\n    };\n    ContextMenu.prototype.wireEvents = function () {\n        var wrapper = this.getWrapper();\n        if (this.target) {\n            var target = void 0;\n            var targetElems = selectAll(this.target);\n            for (var i = 0, len = targetElems.length; i < len; i++) {\n                target = targetElems[i];\n                if (Browser.isIos) {\n                    new Touch(target, { tapHold: this.touchHandler.bind(this) });\n                }\n                else {\n                    EventHandler.add(target, 'contextmenu', this.cmenuHandler, this);\n                }\n            }\n            this.targetElement = target;\n            for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n                var parent_1 = _a[_i];\n                EventHandler.add(parent_1, 'scroll', this.scrollHandler, this);\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.add(wrapper, 'mouseover', this.moverHandler, this);\n            EventHandler.add(document, 'mousedown', this.mouseDownHandler, this);\n        }\n        this.delegateClickHandler = this.clickHandler.bind(this);\n        EventHandler.add(document, 'click', this.delegateClickHandler, this);\n        new KeyboardEvents(wrapper, {\n            keyAction: this.keyBoardHandler.bind(this),\n            keyConfigs: {\n                downarrow: DOWNARROW,\n                uparrow: UPARROW,\n                enter: ENTER,\n                leftarrow: LEFTARROW,\n                rightarrow: RIGHTARROW,\n                escape: ESCAPE\n            }\n        });\n        rippleEffect(wrapper, { selector: '.' + ITEM });\n    };\n    ContextMenu.prototype.mouseDownHandler = function (e) {\n        if (closest(e.target, '.' + WRAPPER) !== this.getWrapper()) {\n            this.closeMenu(this.navIdx.length, e);\n        }\n    };\n    ContextMenu.prototype.keyBoardHandler = function (e) {\n        e.preventDefault();\n        switch (e.action) {\n            case DOWNARROW:\n            case UPARROW:\n                this.upDownKeyHandler(e);\n                break;\n            case RIGHTARROW:\n                this.rightEnterKeyHandler(e);\n                break;\n            case LEFTARROW:\n                this.leftEscKeyHandler(e);\n                break;\n            case ENTER:\n                this.rightEnterKeyHandler(e);\n                break;\n            case ESCAPE:\n                this.leftEscKeyHandler(e);\n                break;\n        }\n    };\n    ContextMenu.prototype.upDownKeyHandler = function (e) {\n        var wrapper = this.getWrapper();\n        var cul = wrapper.children[this.navIdx.length];\n        var defaultIdx = e.action === DOWNARROW ? 0 : cul.childElementCount - 1;\n        var fliIdx = defaultIdx;\n        var fli = this.getLIByClass(cul, FOCUSED);\n        if (fli) {\n            fliIdx = this.getIdx(cul, fli);\n            fli.classList.remove(FOCUSED);\n            e.action === DOWNARROW ? fliIdx++ : fliIdx--;\n            if (fliIdx === (e.action === DOWNARROW ? cul.childElementCount : -1)) {\n                fliIdx = defaultIdx;\n            }\n        }\n        var cli = cul.children[fliIdx];\n        fliIdx = this.isValidLI(cli, fliIdx, e.action);\n        cul.children[fliIdx].classList.add(FOCUSED);\n        cul.children[fliIdx].focus();\n    };\n    ContextMenu.prototype.isValidLI = function (cli, index, action) {\n        var wrapper = this.getWrapper();\n        var cul = wrapper.children[this.navIdx.length];\n        if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n            ((action === DOWNARROW) || (action === RIGHTARROW)) ? index++ : index--;\n        }\n        cli = cul.children[index];\n        if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n            index = this.isValidLI(cli, index, action);\n        }\n        return index;\n    };\n    ContextMenu.prototype.rightEnterKeyHandler = function (e) {\n        var eventArgs;\n        var wrapper = this.getWrapper();\n        var cul = wrapper.children[this.navIdx.length];\n        var fli = this.getLIByClass(cul, FOCUSED);\n        if (fli) {\n            var fliIdx = this.getIdx(cul, fli);\n            var navIdx = this.navIdx.concat(fliIdx);\n            var index = void 0;\n            var item = this.getItem(navIdx);\n            if (item.items.length) {\n                this.navIdx.push(fliIdx);\n                this.openMenu(fli, item, null, null, e);\n                fli.classList.remove(FOCUSED);\n                fli.classList.add(SELECTED);\n                if (e.action === ENTER) {\n                    eventArgs = { element: fli, item: item };\n                    this.trigger('select', eventArgs);\n                }\n                fli.focus();\n                cul = wrapper.children[this.navIdx.length];\n                index = this.isValidLI(cul.children[0], 0, e.action);\n                cul.children[index].classList.add(FOCUSED);\n                cul.children[index].focus();\n            }\n            else {\n                if (e.action === ENTER) {\n                    fli.classList.remove(FOCUSED);\n                    fli.classList.add(SELECTED);\n                    eventArgs = { element: fli, item: item };\n                    this.trigger('select', eventArgs);\n                    this.closeMenu(null, e);\n                }\n            }\n        }\n    };\n    ContextMenu.prototype.leftEscKeyHandler = function (e) {\n        if (this.navIdx.length) {\n            var wrapper = this.getWrapper();\n            this.closeMenu(this.navIdx.length, e);\n            var cul = wrapper.children[this.navIdx.length];\n            var sli = this.getLIByClass(cul, SELECTED);\n            if (sli) {\n                sli.setAttribute('aria-expanded', 'false');\n                sli.classList.remove(SELECTED);\n                sli.classList.add(FOCUSED);\n                sli.focus();\n            }\n        }\n        else {\n            if (e.action === ESCAPE) {\n                this.closeMenu(null, e);\n            }\n        }\n    };\n    ContextMenu.prototype.scrollHandler = function (e) {\n        this.closeMenu(null, e);\n    };\n    ContextMenu.prototype.touchHandler = function (e) {\n        this.isTapHold = true;\n        this.cmenuHandler(e.originalEvent);\n    };\n    ContextMenu.prototype.cmenuHandler = function (e) {\n        e.preventDefault();\n        this.closeMenu(null, e);\n        if (this.canOpen(e.target)) {\n            if (e.changedTouches) {\n                this.openMenu(null, null, e.changedTouches[0].pageY + 1, e.changedTouches[0].pageX + 1, e);\n            }\n            else {\n                this.openMenu(null, null, e.pageY + 1, e.pageX + 1, e);\n            }\n        }\n    };\n    /**\n     * Closes the ContextMenu if it is opened.\n     */\n    ContextMenu.prototype.close = function () {\n        this.closeMenu();\n    };\n    ContextMenu.prototype.closeMenu = function (ulIndex, e) {\n        if (ulIndex === void 0) { ulIndex = 0; }\n        if (e === void 0) { e = null; }\n        if (this.isMenuVisible()) {\n            var ul = void 0;\n            var item = void 0;\n            var items = void 0;\n            var closeArgs = void 0;\n            var beforeCloseArgs = void 0;\n            var wrapper = this.getWrapper();\n            for (var cnt = wrapper.childElementCount; cnt > ulIndex; cnt--) {\n                item = this.navIdx.length ? this.getItem(this.navIdx) : null;\n                items = item ? item.items : this.items;\n                ul = wrapper.children[cnt - 1];\n                beforeCloseArgs = { element: ul, parentItem: item, items: items, event: e, cancel: false };\n                this.trigger('beforeClose', beforeCloseArgs);\n                if (!beforeCloseArgs.cancel) {\n                    this.toggleAnimation(ul, false);\n                    this.navIdx.length = ulIndex ? ulIndex - 1 : ulIndex;\n                    closeArgs = { element: ul, parentItem: item, items: items };\n                    this.trigger('onClose', closeArgs);\n                }\n            }\n        }\n    };\n    ContextMenu.prototype.isMenuVisible = function () {\n        return (this.navIdx.length > 0 || (this.element.classList.contains('e-contextmenu') && isVisible(this.element).valueOf()));\n    };\n    ContextMenu.prototype.canOpen = function (target) {\n        var canOpen = true;\n        if (this.filter) {\n            canOpen = false;\n            var filter = this.filter.split(' ');\n            for (var i = 0, len = target.classList.length; i < len; i++) {\n                if (filter.indexOf(target.classList[i]) > -1) {\n                    canOpen = true;\n                    break;\n                }\n            }\n        }\n        return canOpen;\n    };\n    /**\n     * This method is used to open the ContextMenu in specified position.\n     * @param top To specify ContextMenu vertical positioning.\n     * @param left To specify ContextMenu horizontal positioning.\n     * @returns void\n     */\n    ContextMenu.prototype.open = function (top, left) {\n        this.openMenu(null, null, top, left);\n    };\n    ContextMenu.prototype.openMenu = function (li, item, top, left, e) {\n        if (top === void 0) { top = 0; }\n        if (left === void 0) { left = 0; }\n        if (e === void 0) { e = null; }\n        var ul;\n        var navIdx;\n        var wrapper = this.getWrapper();\n        if (li) {\n            ul = this.createItems(item.items);\n            if (Browser.isDevice) {\n                wrapper.lastChild.style.display = 'none';\n                var data = { text: item.text, iconCss: ICONS + ' e-previous' };\n                var hdata = new MenuItem(this.items[0], null, data, true);\n                var hli = this.createItems([hdata]).children[0];\n                hli.classList.add(HEADER);\n                ul.insertBefore(hli, ul.children[0]);\n            }\n            ul.style.zIndex = this.element.style.zIndex;\n            wrapper.appendChild(ul);\n        }\n        else {\n            ul = this.element;\n        }\n        navIdx = this.getIndex(li ? li.textContent : null);\n        var items = li ? item.items : this.items;\n        var eventArgs = { element: ul, items: items, parentItem: item, event: e, cancel: false };\n        this.trigger('beforeOpen', eventArgs);\n        if (eventArgs.cancel) {\n            this.navIdx.pop();\n        }\n        else {\n            this.setPosition(li, ul, top, left);\n            this.toggleAnimation(ul);\n        }\n    };\n    ContextMenu.prototype.setPosition = function (li, ul, top, left) {\n        var px = 'px';\n        this.toggleVisiblity(ul);\n        if (ul === this.element) {\n            var collide = isCollide(ul, null, left, top);\n            if (collide.indexOf('right') > -1) {\n                left = left - ul.offsetWidth;\n            }\n            if (collide.indexOf('bottom') > -1) {\n                var offset = fit(ul, null, { X: false, Y: true }, { top: top, left: left });\n                top = offset.top - 20;\n            }\n            collide = isCollide(ul, null, left, top);\n            if (collide.indexOf('left') > -1) {\n                var offset = fit(ul, null, { X: true, Y: false }, { top: top, left: left });\n                left = offset.left;\n            }\n        }\n        else {\n            if (Browser.isDevice) {\n                top = Number(this.element.style.top.replace(px, ''));\n                left = Number(this.element.style.left.replace(px, ''));\n            }\n            else {\n                var x = this.enableRtl ? 'left' : 'right';\n                var offset = calculatePosition(li, x, 'top');\n                top = offset.top;\n                left = offset.left;\n                var collide = isCollide(ul, null, this.enableRtl ? left - ul.offsetWidth : left, top);\n                var xCollision = collide.indexOf('left') > -1 || collide.indexOf('right') > -1;\n                if (xCollision) {\n                    offset = calculatePosition(li, this.enableRtl ? 'right' : 'left', 'top');\n                    left = offset.left;\n                }\n                if (this.enableRtl || xCollision) {\n                    left = (this.enableRtl && xCollision) ? left : left - ul.offsetWidth;\n                }\n                if (collide.indexOf('bottom') > -1) {\n                    offset = fit(ul, null, { X: false, Y: true }, { top: top, left: left });\n                    top = offset.top;\n                }\n            }\n        }\n        this.toggleVisiblity(ul, false);\n        ul.style.top = top + px;\n        ul.style.left = left + px;\n    };\n    ContextMenu.prototype.toggleVisiblity = function (ul, isVisible) {\n        if (isVisible === void 0) { isVisible = true; }\n        ul.style.visibility = isVisible ? 'hidden' : '';\n        ul.style.display = isVisible ? 'block' : 'none';\n    };\n    ContextMenu.prototype.createItems = function (items) {\n        var _this = this;\n        var showIcon = this.hasField(items, 'iconCss');\n        var listBaseOptions = {\n            showIcon: showIcon,\n            moduleName: 'menu',\n            itemCreating: function (args) {\n                args.curData.htmlAttributes = {\n                    role: 'menuitem',\n                    tabindex: '-1'\n                };\n            },\n            itemCreated: function (args) {\n                if (args.curData.separator) {\n                    args.item.classList.add(SEPARATOR);\n                    args.item.removeAttribute('role');\n                }\n                if (showIcon && !args.curData.iconCss && !args.curData.separator) {\n                    args.item.classList.add('e-blankicon');\n                }\n                if (args.curData.items && args.curData.items.length) {\n                    var span = createElement('span', { className: ICONS + ' ' + CARET });\n                    args.item.appendChild(span);\n                    args.item.setAttribute('aria-haspopup', 'true');\n                    args.item.setAttribute('aria-expanded', 'false');\n                    args.item.removeAttribute('role');\n                    args.item.classList.add('e-menu-caret-icon');\n                }\n                var eventArgs = { item: args.curData, element: args.item };\n                _this.trigger('beforeItemRender', eventArgs);\n            }\n        };\n        var ul = ListBase.createList(this.toRawObject(items.slice()), listBaseOptions, true);\n        ul.setAttribute('tabindex', '0');\n        return ul;\n    };\n    ContextMenu.prototype.toRawObject = function (items) {\n        var item;\n        var menuItems = [];\n        for (var i = 0, len = items.length; i < len; i++) {\n            item = items[i].properties;\n            menuItems.push(item);\n        }\n        return menuItems;\n    };\n    ContextMenu.prototype.moverHandler = function (e) {\n        var wrapper = this.getWrapper();\n        var trgt = e.target;\n        var cli = this.getLI(trgt);\n        if (cli && closest(cli, '.' + WRAPPER)) {\n            var fli = select('.' + FOCUSED, wrapper);\n            if (fli) {\n                fli.classList.remove(FOCUSED);\n            }\n            cli.classList.add(FOCUSED);\n            if (!this.showItemOnClick) {\n                this.clickHandler(e);\n            }\n        }\n    };\n    ContextMenu.prototype.hasField = function (items, field) {\n        for (var i = 0, len = items.length; i < len; i++) {\n            if (items[i][field]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    ContextMenu.prototype.getWrapper = function () {\n        return closest(this.element, '.' + WRAPPER);\n    };\n    ContextMenu.prototype.clickHandler = function (e) {\n        if (this.isTapHold) {\n            this.isTapHold = false;\n        }\n        else {\n            var wrapper = this.getWrapper();\n            var trgt = e.target;\n            var cli = this.getLI(trgt);\n            var cliWrapper = cli ? closest(cli, '.' + WRAPPER) : null;\n            var isInstLI = cli && cliWrapper && wrapper.firstElementChild.id === cliWrapper.firstElementChild.id;\n            if (isInstLI && e.type === 'click' && !cli.classList.contains(HEADER)) {\n                this.setLISelected(cli);\n                var navIdx = this.getIndex(cli.textContent);\n                var item = this.getItem(navIdx);\n                var eventArgs = { element: cli, item: item };\n                this.trigger('select', eventArgs);\n            }\n            if (isInstLI && (e.type === 'mouseover' || Browser.isDevice || this.showItemOnClick)) {\n                var ul = void 0;\n                if (cli.classList.contains(HEADER)) {\n                    ul = wrapper.children[this.navIdx.length - 1];\n                    this.toggleAnimation(ul);\n                    var sli = this.getLIByClass(ul, SELECTED);\n                    if (sli) {\n                        sli.classList.remove(SELECTED);\n                    }\n                    detach(cli.parentNode);\n                    this.navIdx.pop();\n                }\n                else {\n                    if (!cli.classList.contains(SEPARATOR)) {\n                        var showSubMenu = true;\n                        var cul = cli.parentNode;\n                        var cliIdx = this.getIdx(cul, cli);\n                        if (!Browser.isDevice) {\n                            var culIdx = this.getIdx(wrapper, cul);\n                            if (this.navIdx[culIdx] === cliIdx) {\n                                showSubMenu = false;\n                            }\n                            if (culIdx !== this.navIdx.length && (e.type !== 'mouseover' || showSubMenu)) {\n                                var sli = this.getLIByClass(cul, SELECTED);\n                                if (sli) {\n                                    sli.classList.remove(SELECTED);\n                                }\n                                this.closeMenu(culIdx + 1, e);\n                            }\n                        }\n                        if (showSubMenu) {\n                            var idx = this.navIdx.concat(cliIdx);\n                            var item = this.getItem(idx);\n                            if (item.items.length) {\n                                if (e.type === 'mouseover') {\n                                    this.setLISelected(cli);\n                                }\n                                cli.setAttribute('aria-expanded', 'true');\n                                this.navIdx.push(cliIdx);\n                                this.openMenu(cli, item, null, null, e);\n                            }\n                            else {\n                                if (e.type !== 'mouseover') {\n                                    this.closeMenu(null, e);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                if (trgt.tagName !== 'UL' || trgt.parentElement !== wrapper) {\n                    if (!cli || !cli.querySelector('.' + CARET)) {\n                        this.closeMenu(null, e);\n                    }\n                }\n            }\n        }\n    };\n    ContextMenu.prototype.setLISelected = function (li) {\n        var sli = this.getLIByClass(li.parentElement, SELECTED);\n        if (sli) {\n            sli.classList.remove(SELECTED);\n        }\n        li.classList.remove(FOCUSED);\n        li.classList.add(SELECTED);\n    };\n    ContextMenu.prototype.getLIByClass = function (ul, classname) {\n        for (var i = 0, len = ul.children.length; i < len; i++) {\n            if (ul.children[i].classList.contains(classname)) {\n                return ul.children[i];\n            }\n        }\n        return null;\n    };\n    ContextMenu.prototype.getItem = function (navIdx) {\n        navIdx = navIdx.slice();\n        var idx = navIdx.pop();\n        var items = this.getItems(navIdx);\n        return items[idx];\n    };\n    ContextMenu.prototype.getItems = function (navIdx) {\n        var items = this.items;\n        for (var i = 0; i < navIdx.length; i++) {\n            items = items[navIdx[i]].items;\n        }\n        return items;\n    };\n    ContextMenu.prototype.getIdx = function (ul, li, skipHdr) {\n        if (skipHdr === void 0) { skipHdr = true; }\n        var idx = Array.prototype.indexOf.call(ul.children, li);\n        if (skipHdr && ul.children[0].classList.contains(HEADER)) {\n            idx--;\n        }\n        return idx;\n    };\n    ContextMenu.prototype.getLI = function (elem) {\n        if (elem.tagName === 'LI') {\n            return elem;\n        }\n        return closest(elem, 'li');\n    };\n    /**\n     * Called internally if any of the property value changed\n     * @private\n     * @param {ContextMenuModel} newProp\n     * @param {ContextMenuModel} oldProp\n     * @returns void\n     */\n    ContextMenu.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        wrapper.classList.remove(oldProp.cssClass);\n                    }\n                    if (newProp.cssClass) {\n                        wrapper.classList.add(newProp.cssClass);\n                    }\n                    break;\n                case 'enableRtl':\n                    wrapper.classList.toggle(RTL);\n                    break;\n                case 'filter':\n                    this.closeMenu();\n                    this.filter = newProp.filter;\n                    break;\n                case 'showItemOnClick':\n                    this.unWireEvents();\n                    this.showItemOnClick = newProp.showItemOnClick;\n                    this.wireEvents();\n                    break;\n                case 'target':\n                    this.unWireEvents();\n                    this.target = newProp.target;\n                    this.wireEvents();\n                    break;\n                case 'items':\n                    var idx = void 0;\n                    var navIdx = void 0;\n                    var item = void 0;\n                    var keys = Object.keys(newProp.items);\n                    for (var i = 0; i < keys.length; i++) {\n                        navIdx = this.getChangedItemIndex(newProp, [], Number(keys[i]));\n                        if (navIdx.length <= this.getWrapper().children.length) {\n                            idx = navIdx.pop();\n                            item = this.getItems(navIdx);\n                            this.insertAfter([item[idx]], item[idx].text);\n                            this.removeItem(item, navIdx, idx);\n                        }\n                        navIdx.length = 0;\n                    }\n                    break;\n            }\n        }\n    };\n    ContextMenu.prototype.getChangedItemIndex = function (newProp, index, idx) {\n        index.push(idx);\n        var key = Object.keys(newProp.items[idx]).pop();\n        if (key === 'items') {\n            var item = newProp.items[idx];\n            this.getChangedItemIndex(item, index, Number(Object.keys(item.items).pop()));\n        }\n        else {\n            if (key === 'isParentArray' && index.length > 1) {\n                index.pop();\n            }\n        }\n        return index;\n    };\n    ContextMenu.prototype.removeItem = function (item, navIdx, idx) {\n        item.splice(idx, 1);\n        var uls = this.getWrapper().children;\n        if (navIdx.length < uls.length) {\n            detach(uls[navIdx.length].children[idx]);\n        }\n    };\n    /**\n     * Used to unwire the bind events.\n     * @private\n     */\n    ContextMenu.prototype.unWireEvents = function () {\n        var wrapper = this.getWrapper();\n        if (this.target) {\n            var target = void 0;\n            var touchModule = void 0;\n            var targetElems = selectAll(this.target);\n            for (var i = 0, len = targetElems.length; i < len; i++) {\n                target = targetElems[i];\n                if (Browser.isIos) {\n                    touchModule = getInstance(target, Touch);\n                    if (touchModule) {\n                        touchModule.destroy();\n                    }\n                }\n                else {\n                    EventHandler.remove(target, 'contextmenu', this.cmenuHandler);\n                }\n            }\n            for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n                var parent_2 = _a[_i];\n                EventHandler.remove(parent_2, 'scroll', this.scrollHandler);\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.remove(wrapper, 'mouseover', this.moverHandler);\n            EventHandler.remove(document, 'mousedown', this.mouseDownHandler);\n        }\n        EventHandler.remove(document, 'click', this.delegateClickHandler);\n        var keyboardModule = getInstance(wrapper, KeyboardEvents);\n        if (keyboardModule) {\n            keyboardModule.destroy();\n        }\n    };\n    ContextMenu.prototype.toggleAnimation = function (ul, isMenuOpen) {\n        var _this = this;\n        if (isMenuOpen === void 0) { isMenuOpen = true; }\n        if (this.animationSettings.effect === 'None' || !isMenuOpen) {\n            this.end(ul, isMenuOpen);\n        }\n        else {\n            this.animation.animate(ul, {\n                name: this.animationSettings.effect,\n                duration: this.animationSettings.duration,\n                timingFunction: this.animationSettings.easing,\n                begin: function (options) {\n                    options.element.style.display = 'block';\n                    options.element.style.maxHeight = options.element.getBoundingClientRect().height + 'px';\n                },\n                end: function (options) {\n                    _this.end(options.element, isMenuOpen);\n                }\n            });\n        }\n    };\n    ContextMenu.prototype.end = function (ul, isMenuOpen) {\n        if (isMenuOpen) {\n            ul.style.display = 'block';\n            ul.style.maxHeight = '';\n            var item = this.navIdx.length ? this.getItem(this.navIdx) : null;\n            var eventArgs = { element: ul, parentItem: item, items: item ? item.items : this.items };\n            this.trigger('onOpen', eventArgs);\n            if (ul.querySelector('.' + FOCUSED)) {\n                ul.querySelector('.' + FOCUSED).focus();\n            }\n            else {\n                var ele = void 0;\n                ele = this.getWrapper().children[this.getIdx(this.getWrapper(), ul) - 1];\n                if (ele) {\n                    ele.querySelector('.' + SELECTED).focus();\n                }\n                else {\n                    this.element.focus();\n                }\n            }\n        }\n        else {\n            if (ul === this.element) {\n                var fli = this.getLIByClass(this.element, FOCUSED);\n                if (fli) {\n                    fli.classList.remove(FOCUSED);\n                }\n                var sli = this.getLIByClass(this.element, SELECTED);\n                if (sli) {\n                    sli.classList.remove(SELECTED);\n                }\n                ul.style.display = 'none';\n            }\n            else {\n                detach(ul);\n            }\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     */\n    ContextMenu.prototype.getPersistData = function () {\n        return '';\n    };\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextmenu';\n    };\n    ContextMenu.prototype.getIndex = function (data, items, navIdx, isCallBack) {\n        if (items === void 0) { items = this.items; }\n        if (navIdx === void 0) { navIdx = []; }\n        if (isCallBack === void 0) { isCallBack = false; }\n        var item;\n        for (var i = 0, len = items.length; i < len; i++) {\n            item = items[i];\n            if (item.text === data) {\n                navIdx.push(i);\n                break;\n            }\n            else if (item.items.length) {\n                navIdx = this.getIndex(data, item.items, navIdx, true);\n                if (navIdx[navIdx.length - 1] === -1) {\n                    if (i !== len - 1) {\n                        navIdx.pop();\n                    }\n                }\n                else {\n                    navIdx.unshift(i);\n                    break;\n                }\n            }\n            else {\n                if (i === len - 1) {\n                    navIdx.push(-1);\n                }\n            }\n        }\n        return (!isCallBack && navIdx[0] === -1) ? [] : navIdx;\n    };\n    /**\n     * This method is used to enable or disable the menu items in the ContextMenu based on the items and enable argument.\n     * @param items Text items that needs to be enabled/disabled.\n     * @param enable Set `true`/`false` to enable/disable the list items.\n     * @returns void\n     */\n    ContextMenu.prototype.enableItems = function (items, enable) {\n        if (enable === void 0) { enable = true; }\n        var ul;\n        var idx;\n        var navIdx;\n        var disabled = DISABLED;\n        var wrapper = this.getWrapper();\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i]);\n            idx = navIdx.pop();\n            ul = wrapper.children[navIdx.length];\n            if (ul) {\n                if (enable) {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[idx + 1].classList.remove(disabled);\n                    }\n                    else {\n                        ul.children[idx].classList.remove(disabled);\n                    }\n                }\n                else {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[idx + 1].classList.add(disabled);\n                    }\n                    else {\n                        ul.children[idx].classList.add(disabled);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * This method is used to show the menu items in the ContextMenu based on the items text.\n     * @param items Text items that needs to be shown.\n     * @returns void\n     */\n    ContextMenu.prototype.showItems = function (items) {\n        this.showHideItems(items, false);\n    };\n    /**\n     * This method is used to hide the menu items in the ContextMenu based on the items text.\n     * @param items Text items that needs to be hidden.\n     * @returns void\n     */\n    ContextMenu.prototype.hideItems = function (items) {\n        this.showHideItems(items, true);\n    };\n    ContextMenu.prototype.showHideItems = function (items, ishide) {\n        var ul;\n        var idx;\n        var navIdx;\n        var wrapper = this.getWrapper();\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i]);\n            idx = navIdx.pop();\n            ul = wrapper.children[navIdx.length];\n            if (ul) {\n                if (ishide) {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[idx + 1].classList.add(HIDE);\n                    }\n                    else {\n                        ul.children[idx].classList.add(HIDE);\n                    }\n                }\n                else {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[idx + 1].classList.remove(HIDE);\n                    }\n                    else {\n                        ul.children[idx].classList.remove(HIDE);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * It is used to remove the menu items from the ContextMenu based on the items text.\n     * @param items Text items that needs to be removed.\n     * @returns void\n     */\n    ContextMenu.prototype.removeItems = function (items) {\n        var idx;\n        var navIdx;\n        var iitems;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i]);\n            idx = navIdx.pop();\n            iitems = this.getItems(navIdx);\n            this.removeItem(iitems, navIdx, idx);\n        }\n    };\n    /**\n     * It is used to insert the menu items after the specified menu item text.\n     * @param items Items that needs to be inserted.\n     * @param text Text item after that the element to be inserted.\n     * @returns void\n     */\n    ContextMenu.prototype.insertAfter = function (items, text) {\n        this.insertItems(items, text);\n    };\n    /**\n     * It is used to insert the menu items before the specified menu item text.\n     * @param items Items that needs to be inserted.\n     * @param text Text item before that the element to be inserted.\n     * @returns void\n     */\n    ContextMenu.prototype.insertBefore = function (items, text) {\n        this.insertItems(items, text, false);\n    };\n    ContextMenu.prototype.insertItems = function (items, text, isAfter) {\n        if (isAfter === void 0) { isAfter = true; }\n        var li;\n        var idx;\n        var navIdx;\n        var iitems;\n        var menuitem;\n        var showIcon;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(text);\n            idx = navIdx.pop();\n            iitems = this.getItems(navIdx);\n            menuitem = new MenuItem(iitems[0], null, items[i], true);\n            iitems.splice(isAfter ? idx + 1 : idx, 0, menuitem);\n            var uls = this.getWrapper().children;\n            if (navIdx.length < uls.length) {\n                idx = isAfter ? idx + 1 : idx;\n                showIcon = this.hasField(iitems, 'iconCss');\n                li = this.createItems(iitems).children[idx];\n                uls[navIdx.length].insertBefore(li, uls[navIdx.length].children[idx]);\n            }\n        }\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    ContextMenu.prototype.destroy = function () {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        if (wrapper) {\n            _super.prototype.destroy.call(this);\n            this.unWireEvents();\n            if (this.ngElement) {\n                this.ngElement.style.display = 'block';\n            }\n            else {\n                this.closeMenu();\n                this.element.innerHTML = '';\n                ['top', 'left', 'display', 'z-index'].forEach(function (key) {\n                    _this.element.style.removeProperty(key);\n                });\n                ['role', 'tabindex', 'class', 'style'].forEach(function (key) {\n                    if (['class', 'style'].indexOf(key) === -1 || !_this.element.getAttribute(key)) {\n                        _this.element.removeAttribute(key);\n                    }\n                });\n                wrapper.parentNode.insertBefore(this.element, wrapper);\n            }\n            detach(wrapper);\n        }\n    };\n    __decorate([\n        Property('')\n    ], ContextMenu.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], ContextMenu.prototype, \"filter\", void 0);\n    __decorate([\n        Property(false)\n    ], ContextMenu.prototype, \"showItemOnClick\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], ContextMenu.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], ContextMenu.prototype, \"target\", void 0);\n    __decorate([\n        Property({ duration: 400, easing: 'ease', effect: 'SlideDown' })\n    ], ContextMenu.prototype, \"animationSettings\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"onOpen\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"onClose\", void 0);\n    __decorate([\n        Event()\n    ], ContextMenu.prototype, \"select\", void 0);\n    ContextMenu = __decorate([\n        NotifyPropertyChanges\n    ], ContextMenu);\n    return ContextMenu;\n}(Component));\nexport { ContextMenu };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, closest, Collection, Complex, attributes, detach } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, select, isVisible } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, Browser, formatUnit, L10n } from '@syncfusion/ej2-base';\nimport { createElement as buildTag, setStyleAttribute as setStyle, isNullOrUndefined as isNOU, selectAll } from '@syncfusion/ej2-base';\nimport { EventHandler, rippleEffect, Touch, compile, Animation } from '@syncfusion/ej2-base';\nimport { Toolbar } from '../toolbar/toolbar';\nvar CLS_TAB = 'e-tab';\nvar CLS_HEADER = 'e-tab-header';\nvar CLS_CONTENT = 'e-content';\nvar CLS_NEST = 'e-nested';\nvar CLS_ITEMS = 'e-items';\nvar CLS_ITEM = 'e-item';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_RTL = 'e-rtl';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_DISABLE = 'e-disable';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_FOCUS = 'e-focused';\nvar CLS_ICONS = 'e-icons';\nvar CLS_ICON = 'e-icon';\nvar CLS_ICON_CLOSE = 'e-close-icon';\nvar CLS_CLOSE_SHOW = 'e-close-show';\nvar CLS_TEXT = 'e-tab-text';\nvar CLS_INDICATOR = 'e-indicator';\nvar CLS_WRAP = 'e-tab-wrap';\nvar CLS_TEXT_WRAP = 'e-text-wrap';\nvar CLS_TAB_ICON = 'e-tab-icon';\nvar CLS_TB_ITEMS = 'e-toolbar-items';\nvar CLS_TB_ITEM = 'e-toolbar-item';\nvar CLS_TB_POP = 'e-toolbar-pop';\nvar CLS_TB_POPUP = 'e-toolbar-popup';\nvar CLS_POPUP_OPEN = 'e-popup-open';\nvar CLS_POPUP_CLOSE = 'e-popup-close';\nvar CLS_PROGRESS = 'e-progress';\nvar CLS_IGNORE = 'e-ignore';\nvar CLS_OVERLAY = 'e-overlay';\nvar TabActionSettings = /** @class */ (function (_super) {\n    __extends(TabActionSettings, _super);\n    function TabActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideLeftIn')\n    ], TabActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(600)\n    ], TabActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('ease')\n    ], TabActionSettings.prototype, \"easing\", void 0);\n    return TabActionSettings;\n}(ChildProperty));\nexport { TabActionSettings };\nvar TabAnimationSettings = /** @class */ (function (_super) {\n    __extends(TabAnimationSettings, _super);\n    function TabAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideLeftIn', duration: 600, easing: 'ease' }, TabActionSettings)\n    ], TabAnimationSettings.prototype, \"previous\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideRightIn', duration: 600, easing: 'ease' }, TabActionSettings)\n    ], TabAnimationSettings.prototype, \"next\", void 0);\n    return TabAnimationSettings;\n}(ChildProperty));\nexport { TabAnimationSettings };\n/**\n * Objects used for configuring the Tab item header properties.\n */\nvar Header = /** @class */ (function (_super) {\n    __extends(Header, _super);\n    function Header() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Header.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], Header.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('left')\n    ], Header.prototype, \"iconPosition\", void 0);\n    return Header;\n}(ChildProperty));\nexport { Header };\n/**\n * An array of object that is used to configure the Tab.\n */\nvar TabItem = /** @class */ (function (_super) {\n    __extends(TabItem, _super);\n    function TabItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({}, Header)\n    ], TabItem.prototype, \"header\", void 0);\n    __decorate([\n        Property('')\n    ], TabItem.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], TabItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], TabItem.prototype, \"disabled\", void 0);\n    return TabItem;\n}(ChildProperty));\nexport { TabItem };\n/**\n * Tab is a content panel to show multiple contents in a single space, one at a time.\n * Each Tab item has an associated content, that will be displayed based on the active Tab header item.\n * ```html\n * <div id=\"tab\"></div>\n * <script>\n *   var tabObj = new Tab();\n *   tab.appendTo(\"#tab\");\n * </script>\n * ```\n */\nvar Tab = /** @class */ (function (_super) {\n    __extends(Tab, _super);\n    /**\n     * Initializes a new instance of the Tab class.\n     * @param options  - Specifies Tab model properties as options.\n     * @param element  - Specifies the element that is rendered as a Tab.\n     */\n    function Tab(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.prevIndex = 0;\n        _this.show = { name: 'SlideDown', duration: 100 };\n        _this.hide = { name: 'SlideUp', duration: 100 };\n        _this.animateOptions = {};\n        _this.animObj = new Animation(_this.animateOptions);\n        _this.maxHeight = 0;\n        _this.title = 'Close';\n        /**\n         * Contains the keyboard configuration of the Tab.\n         */\n        _this.keyConfigs = {\n            tab: 'tab',\n            home: 'home',\n            end: 'end',\n            enter: 'enter',\n            space: 'space',\n            delete: 'delete',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow'\n        };\n        return _this;\n    }\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers, attributes and classes.\n     * @returns void\n     */\n    Tab.prototype.destroy = function () {\n        var _this = this;\n        if (!isNOU(this.tbObj)) {\n            this.tbObj.destroy();\n        }\n        this.unWireEvents();\n        ['role', 'aria-disabled', 'aria-activedescendant', 'tabindex', 'aria-orientation'].forEach(function (val) {\n            _this.element.removeAttribute(val);\n        });\n        this.expTemplateContent();\n        if (!this.isTemplate) {\n            this.element.innerHTML = '';\n        }\n        else {\n            var cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n            this.element.classList.remove(CLS_TEMPLATE);\n            if (!isNOU(cntEle)) {\n                cntEle.innerHTML = this.cnt;\n            }\n        }\n        _super.prototype.destroy.call(this);\n        this.trigger('destroyed');\n    };\n    /**\n     * Initialize component\n     * @private\n     */\n    Tab.prototype.preRender = function () {\n        var nested = closest(this.element, '.' + CLS_CONTENT);\n        this.isNested = false;\n        this.isPopup = false;\n        this.initRender = true;\n        this.isSwipeed = false;\n        this.templateEle = [];\n        if (!isNOU(nested)) {\n            nested.parentElement.classList.add(CLS_NEST);\n            this.isNested = true;\n        }\n        var name = Browser.info.name;\n        var css = (name === 'msie') ? 'e-ie' : (name === 'edge') ? 'e-edge' : (name === 'safari') ? 'e-safari' : '';\n        setStyle(this.element, { 'width': formatUnit(this.width), 'height': formatUnit(this.height) });\n        this.setCssClass(this.element, this.cssClass, true);\n        attributes(this.element, { role: 'tablist', 'aria-disabled': 'false', 'aria-activedescendant': '' });\n        this.setCssClass(this.element, css, true);\n    };\n    /**\n     * Initialize the component rendering\n     * @private\n     */\n    Tab.prototype.render = function () {\n        this.renderContainer();\n        this.wireEvents();\n        this.initRender = false;\n    };\n    Tab.prototype.renderContainer = function () {\n        var ele = this.element;\n        if (this.items.length > 0 && ele.children.length === 0) {\n            ele.appendChild(buildTag('div', { className: CLS_CONTENT }));\n            this.setOrientation(this.headerPlacement, buildTag('div', { className: CLS_HEADER }));\n            this.isTemplate = false;\n        }\n        else if (this.element.children.length > 0) {\n            this.isTemplate = true;\n            ele.classList.add(CLS_TEMPLATE);\n            var header = ele.querySelector('.' + CLS_HEADER);\n            if (header && this.headerPlacement === 'Bottom') {\n                this.setOrientation(this.headerPlacement, header);\n            }\n        }\n        if (!isNOU(select('.' + CLS_HEADER, this.element)) && !isNOU(select('.' + CLS_CONTENT, this.element))) {\n            this.renderHeader();\n            this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n            if (!isNOU(this.tbItems)) {\n                rippleEffect(this.tbItems, { selector: '.e-tab-wrap' });\n            }\n            this.renderContent();\n            if (selectAll('.' + CLS_TB_ITEM, this.element).length > 0) {\n                this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n                this.bdrLine = buildTag('div', { className: CLS_INDICATOR + ' ' + CLS_HIDDEN + ' ' + CLS_IGNORE });\n                var scrCnt = select('.e-hscroll-content', this.tbItems);\n                if (!isNOU(scrCnt)) {\n                    scrCnt.insertBefore(this.bdrLine, scrCnt.firstChild);\n                }\n                else {\n                    this.tbItems.insertBefore(this.bdrLine, this.tbItems.firstChild);\n                }\n                this.setContentHeight(true);\n                this.select(this.selectedItem);\n            }\n            this.setRTL(this.enableRtl);\n        }\n    };\n    Tab.prototype.renderHeader = function () {\n        var _this = this;\n        var tabItems = [];\n        this.hdrEle = select('.' + CLS_HEADER, this.element);\n        this.btnCls = buildTag('span', { className: CLS_ICONS + ' ' + CLS_ICON_CLOSE, attrs: { title: this.title } }).outerHTML;\n        if (!this.isTemplate) {\n            tabItems = this.parseObject(this.items, 0);\n        }\n        else {\n            var count = this.hdrEle.children.length;\n            var hdrItems = [];\n            for (var i = 0; i < count; i++) {\n                hdrItems.push(this.hdrEle.children.item(i).innerHTML);\n            }\n            if (count > 0) {\n                this.hdrEle.innerHTML = '';\n                this.hdrEle.appendChild(buildTag('div', { className: CLS_ITEMS }));\n                hdrItems.forEach(function (item, index) {\n                    var attr = {\n                        className: CLS_ITEM, id: CLS_ITEM + '_' + index,\n                        attrs: { role: 'tab', 'aria-controls': CLS_CONTENT + '_' + index, 'aria-selected': 'false' }\n                    };\n                    var txt = buildTag('span', { className: CLS_TEXT, innerHTML: item, attrs: { 'role': 'presentation' } }).outerHTML;\n                    var cont = buildTag('div', { className: CLS_TEXT_WRAP, innerHTML: txt + _this.btnCls }).outerHTML;\n                    var wrap = buildTag('div', { className: CLS_WRAP, innerHTML: cont, attrs: { tabIndex: '-1' } });\n                    select('.' + CLS_ITEMS, _this.element).appendChild(buildTag('div', attr));\n                    selectAll('.' + CLS_ITEM, _this.element)[index].appendChild(wrap);\n                });\n            }\n        }\n        this.tbObj = new Toolbar({\n            width: '100%',\n            overflowMode: this.overflowMode,\n            items: (tabItems.length !== 0) ? tabItems : [],\n            clicked: this.clickHandler.bind(this)\n        });\n        this.tbObj.appendTo(this.hdrEle);\n        attributes(this.element, { 'aria-orientation': 'horizontal' });\n        this.setCloseButton(this.showCloseButton);\n        this.setProperties({ headerPlacement: (this.element.children.item(0).classList.contains(CLS_HEADER)) ? 'Top' : 'Bottom' }, true);\n    };\n    Tab.prototype.renderContent = function () {\n        this.cntEle = select('.' + CLS_CONTENT, this.element);\n        var hdrItem = selectAll('.' + CLS_TB_ITEM, this.element);\n        if (this.isTemplate) {\n            this.cnt = (this.cntEle.children.length > 0) ? this.cntEle.innerHTML : '';\n            var contents = this.cntEle.children;\n            for (var i = 0; i < hdrItem.length; i++) {\n                if (contents.length - 1 >= i) {\n                    contents.item(i).className += CLS_ITEM;\n                    attributes(contents.item(i), { 'role': 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + i });\n                    contents.item(i).id = CLS_CONTENT + '_' + i;\n                }\n            }\n        }\n    };\n    Tab.prototype.parseObject = function (items, index) {\n        var _this = this;\n        var inHTML = '';\n        var tbCount = selectAll('.' + CLS_TB_ITEM, this.element).length;\n        var tItems = [];\n        items.forEach(function (item, i) {\n            var pos = (isNOU(item.header.iconPosition)) ? '' : item.header.iconPosition;\n            var css = (isNOU(item.header.iconCss)) ? '' : item.header.iconCss;\n            var txt = item.header.text;\n            var id = ((tbCount === 0) ? i : (_this.isReplace === true) ? (i + index) : tbCount + i);\n            var disabled = (item.disabled) ? ' ' + CLS_DISABLE + ' ' + CLS_OVERLAY : '';\n            var tHtml = ((txt instanceof Object) ? txt.outerHTML : txt);\n            var txtEmpty = (!isNOU(tHtml) && tHtml !== '');\n            var tEle = (txtEmpty) ? buildTag('div', {\n                className: CLS_TEXT, innerHTML: tHtml, attrs: { 'role': 'presentation' }\n            }).outerHTML : '';\n            var icon = buildTag('span', {\n                className: CLS_ICONS + ' ' + CLS_TAB_ICON + ' ' + CLS_ICON + '-' + pos + ' ' + css\n            }).outerHTML;\n            if ((txt === '' || txt === undefined) && css === '') {\n                return;\n            }\n            else {\n                if ((txt !== '' && txt !== undefined) && css !== '') {\n                    inHTML = (pos === 'left' || pos === 'top') ? icon + '' + tEle : tEle + '' + icon;\n                }\n                else {\n                    inHTML = (css === '') ? tEle : icon;\n                }\n            }\n            var wrapAttrs = (item.disabled) ? {} : { tabIndex: '-1' };\n            var tCont = buildTag('div', { className: CLS_TEXT_WRAP, innerHTML: inHTML + '' + _this.btnCls }).outerHTML;\n            var wrap = buildTag('div', { className: CLS_WRAP, innerHTML: tCont, attrs: wrapAttrs });\n            var attrObj = {\n                id: CLS_ITEM + '_' + id, role: 'tab', 'aria-selected': 'false'\n            };\n            var tItem = { htmlAttributes: attrObj, template: wrap.outerHTML };\n            tItem.cssClass = item.cssClass + ' ' + disabled + ' ' + ((css !== '') ? 'e-i' + pos : '') + ' ' + ((!txtEmpty) ? CLS_ICON : '');\n            if (pos === 'top' || pos === 'bottom') {\n                _this.element.classList.add('e-vertical-icon');\n            }\n            tItems.push(tItem);\n        });\n        return tItems;\n    };\n    Tab.prototype.removeActiveClass = function (id) {\n        var hdrActEle = selectAll(':root .' + CLS_HEADER + ' .' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element)[0];\n        if (this.headerPlacement === 'Bottom') {\n            hdrActEle = selectAll(':root .' + CLS_HEADER + ' .' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element.children[1])[0];\n        }\n        if (!isNOU(hdrActEle)) {\n            hdrActEle.classList.remove(CLS_ACTIVE);\n            var no = this.extIndex(hdrActEle.id);\n            var trg = this.findEle(select('.' + CLS_CONTENT, this.element).children, CLS_CONTENT + '_' + no);\n        }\n    };\n    Tab.prototype.checkPopupOverflow = function (ele) {\n        this.tbPop = select('.' + CLS_TB_POP, this.element);\n        var popIcon = select('.e-hor-nav', this.element);\n        var tbrItems = select('.' + CLS_TB_ITEMS, this.element);\n        if ((this.enableRtl && ((popIcon.offsetLeft + popIcon.offsetWidth) > tbrItems.offsetLeft))\n            || (!this.enableRtl && popIcon.offsetLeft < tbrItems.offsetWidth)) {\n            ele.classList.add(CLS_TB_POPUP);\n            this.tbPop.insertBefore(ele.cloneNode(true), selectAll('.' + CLS_TB_POPUP, this.tbPop)[0]);\n            ele.outerHTML = '';\n        }\n        return true;\n    };\n    Tab.prototype.popupHandler = function (target) {\n        var ripEle = target.querySelector('.e-ripple-element');\n        if (!isNOU(ripEle)) {\n            ripEle.outerHTML = '';\n            target.querySelector('.' + CLS_WRAP).classList.remove('e-ripple');\n        }\n        this.tbItem = selectAll('.' + CLS_TB_ITEMS + ' .' + CLS_TB_ITEM, this.hdrEle);\n        var lastChild = this.tbItem[this.tbItem.length - 1];\n        if (this.tbItem.length !== 0) {\n            target.classList.remove(CLS_TB_POPUP);\n            this.tbItems.appendChild(target.cloneNode(true));\n            this.actEleId = target.id;\n            target.outerHTML = '';\n            if (this.checkPopupOverflow(lastChild)) {\n                var prevEle = this.tbItems.lastChild.previousElementSibling;\n                this.checkPopupOverflow(prevEle);\n            }\n            this.isPopup = true;\n        }\n        return selectAll('.' + CLS_TB_ITEM, this.tbItems).length - 1;\n    };\n    Tab.prototype.setCloseButton = function (val) {\n        var trg = select('.' + CLS_HEADER, this.element);\n        (val === true) ? trg.classList.add(CLS_CLOSE_SHOW) : trg.classList.remove(CLS_CLOSE_SHOW);\n        this.tbObj.refreshOverflow();\n        this.refreshActElePosition();\n    };\n    Tab.prototype.prevCtnAnimation = function (prev, current) {\n        var animation;\n        var checkRTL = this.enableRtl || this.element.classList.contains(CLS_RTL);\n        if (this.isPopup || prev <= current) {\n            if (this.animation.previous.effect === 'SlideLeftIn') {\n                animation = { name: 'SlideLeftOut',\n                    duration: this.animation.previous.duration, timingFunction: this.animation.previous.easing };\n            }\n            else {\n                animation = null;\n            }\n        }\n        else {\n            if (this.animation.next.effect === 'SlideRightIn') {\n                animation = { name: 'SlideRightOut',\n                    duration: this.animation.next.duration, timingFunction: this.animation.next.easing };\n            }\n            else {\n                animation = null;\n            }\n        }\n        return animation;\n    };\n    Tab.prototype.triggerPrevAnimation = function (oldCnt, prevIndex) {\n        var animateObj = this.prevCtnAnimation(prevIndex, this.selectedItem);\n        if (!isNOU(animateObj)) {\n            animateObj.begin = function () {\n                setStyle(oldCnt, { 'position': 'absolute' });\n                oldCnt.classList.add(CLS_PROGRESS);\n                oldCnt.classList.add('e-view');\n            };\n            animateObj.end = function () {\n                oldCnt.style.display = 'none';\n                oldCnt.classList.remove(CLS_ACTIVE);\n                oldCnt.classList.remove(CLS_PROGRESS);\n                oldCnt.classList.remove('e-view');\n                setStyle(oldCnt, { 'display': '', 'position': '' });\n            };\n            new Animation(animateObj).animate(oldCnt);\n        }\n        else {\n            oldCnt.classList.remove(CLS_ACTIVE);\n        }\n    };\n    Tab.prototype.triggerAnimation = function (id, value) {\n        var _this = this;\n        var prevIndex = this.prevIndex;\n        var itemCollection = [].slice.call(this.element.querySelector('.' + CLS_CONTENT).children);\n        var oldCnt;\n        itemCollection.forEach(function (item) {\n            if (item.id === _this.prevActiveEle) {\n                oldCnt = item;\n            }\n        });\n        var prevEle = this.tbItem[prevIndex];\n        var no = this.extIndex(this.tbItem[this.selectedItem].id);\n        var newCnt = this.getTrgContent(this.cntEle, no);\n        if (isNOU(oldCnt) && !isNOU(prevEle)) {\n            var idNo = this.extIndex(prevEle.id);\n            oldCnt = this.getTrgContent(this.cntEle, idNo);\n        }\n        if (this.initRender || value === false || this.animation === {} || isNOU(this.animation)) {\n            if (oldCnt && oldCnt !== newCnt) {\n                oldCnt.classList.remove(CLS_ACTIVE);\n            }\n            return;\n        }\n        var cnt = select('.' + CLS_CONTENT, this.element);\n        var animateObj;\n        if (this.prevIndex > this.selectedItem && !this.isPopup) {\n            var openEff = this.animation.previous.effect;\n            animateObj = {\n                name: ((openEff === 'None') ? '' : ((openEff !== 'SlideLeftIn') ? openEff : 'SlideLeftIn')),\n                duration: this.animation.previous.duration,\n                timingFunction: this.animation.previous.easing\n            };\n        }\n        else if (this.isPopup || this.prevIndex < this.selectedItem || this.prevIndex === this.selectedItem) {\n            var clsEff = this.animation.next.effect;\n            animateObj = {\n                name: ((clsEff === 'None') ? '' : ((clsEff !== 'SlideRightIn') ? clsEff : 'SlideRightIn')),\n                duration: this.animation.next.duration,\n                timingFunction: this.animation.next.easing\n            };\n        }\n        animateObj.progress = function () {\n            cnt.classList.add(CLS_PROGRESS);\n            _this.setActiveBorder();\n        };\n        animateObj.end = function () {\n            cnt.classList.remove(CLS_PROGRESS);\n            newCnt.classList.add(CLS_ACTIVE);\n        };\n        if (!this.initRender) {\n            this.triggerPrevAnimation(oldCnt, prevIndex);\n        }\n        this.prevActiveEle = newCnt.id;\n        this.isPopup = false;\n        if (animateObj.name === '') {\n            newCnt.classList.add(CLS_ACTIVE);\n        }\n        else {\n            new Animation(animateObj).animate(newCnt);\n        }\n    };\n    Tab.prototype.keyPressed = function (trg) {\n        var trgParent = closest(trg, '.' + CLS_HEADER + ' .' + CLS_TB_ITEM);\n        var trgIndex = this.getEleIndex(trgParent);\n        if (!isNOU(this.popEle) && trg.classList.contains('e-hor-nav')) {\n            (this.popEle.classList.contains(CLS_POPUP_OPEN)) ? this.popObj.hide(this.hide) : this.popObj.show(this.show);\n        }\n        else if (trg.classList.contains('e-scroll-nav')) {\n            trg.click();\n        }\n        else {\n            if (!isNOU(trgParent) && trgParent.classList.contains(CLS_ACTIVE) === false) {\n                this.select(trgIndex);\n                if (!isNOU(this.popEle)) {\n                    this.popObj.hide(this.hide);\n                }\n            }\n        }\n    };\n    Tab.prototype.getEleIndex = function (item) {\n        return Array.prototype.indexOf.call(selectAll('.' + CLS_HEADER + ' .' + CLS_TB_ITEM, this.element), item);\n    };\n    Tab.prototype.extIndex = function (id) {\n        return id.replace(CLS_ITEM + '_', '');\n    };\n    Tab.prototype.expTemplateContent = function () {\n        var _this = this;\n        this.templateEle.forEach(function (eleStr) {\n            document.body.appendChild(_this.element.querySelector(eleStr)).style.display = 'none';\n        });\n    };\n    Tab.prototype.templateCompile = function (ele, cnt) {\n        var tempEle = buildTag('div');\n        var templateFn = compile(cnt);\n        if (!isNOU(templateFn) && templateFn().length > 0) {\n            [].slice.call(templateFn()).forEach(function (el) {\n                tempEle.appendChild(el);\n            });\n            ele.appendChild(tempEle);\n        }\n    };\n    Tab.prototype.getContent = function (ele, index) {\n        var eleStr;\n        var cnt = this.items[Number(index)].content;\n        if (typeof cnt === 'string' || isNOU(cnt.innerHTML)) {\n            if (cnt[0] === '.' || cnt[0] === '#') {\n                if (document.querySelectorAll(cnt).length) {\n                    var eleVal = document.querySelector(cnt);\n                    eleStr = eleVal.outerHTML.trim();\n                    ele.appendChild(eleVal.cloneNode(true));\n                    ele.querySelector(cnt).style.display = 'block';\n                }\n                else {\n                    this.templateCompile(ele, cnt);\n                }\n            }\n            else {\n                this.templateCompile(ele, cnt);\n            }\n        }\n        else {\n            ele.appendChild(cnt);\n        }\n        if (!isNOU(eleStr)) {\n            this.templateEle.push(cnt.toString());\n        }\n    };\n    Tab.prototype.getTrgContent = function (cntEle, no) {\n        var ele;\n        if (this.element.classList.contains(CLS_NEST)) {\n            ele = select('.' + CLS_NEST + '> .' + CLS_CONTENT + ' > #' + CLS_CONTENT + '_' + no, this.element);\n        }\n        else {\n            ele = this.findEle(cntEle.children, CLS_CONTENT + '_' + no);\n        }\n        return ele;\n    };\n    Tab.prototype.findEle = function (items, key) {\n        var ele;\n        for (var i = 0; i < items.length; i++) {\n            if (items[i].id === key) {\n                ele = items[i];\n                break;\n            }\n        }\n        return ele;\n    };\n    Tab.prototype.setOrientation = function (place, ele) {\n        (place === 'Bottom') ? this.element.appendChild(ele) : this.element.insertBefore(ele, select('.' + CLS_CONTENT, this.element));\n    };\n    Tab.prototype.setCssClass = function (ele, cls, val) {\n        if (cls === '') {\n            return;\n        }\n        var list = cls.split(' ');\n        for (var i = 0; i < list.length; i++) {\n            if (val) {\n                ele.classList.add(list[i]);\n            }\n            else {\n                ele.classList.remove(list[i]);\n            }\n        }\n    };\n    Tab.prototype.setContentHeight = function (val) {\n        if (isNOU(this.cntEle)) {\n            return;\n        }\n        var height;\n        var hdrEle = select('.' + CLS_HEADER, this.element);\n        if (this.heightAdjustMode === 'None') {\n            if (this.height === 'auto') {\n                return;\n            }\n            else {\n                setStyle(this.cntEle, { 'height': (this.element.offsetHeight - hdrEle.offsetHeight) + 'px' });\n            }\n        }\n        else if (this.heightAdjustMode === 'Fill') {\n            setStyle(this.element, { 'height': '100%' });\n            setStyle(this.cntEle, { 'height': 'auto' });\n        }\n        else if (this.heightAdjustMode === 'Auto') {\n            var cnt = selectAll('.' + CLS_CONTENT + ' > .' + CLS_ITEM, this.element);\n            if (this.isTemplate === true) {\n                for (var i = 0; i < cnt.length; i++) {\n                    cnt[i].setAttribute('style', 'display:block; visibility: visible');\n                    this.maxHeight = Math.max(this.maxHeight, this.getHeight(cnt[i]));\n                    cnt[i].style.removeProperty('display');\n                    cnt[i].style.removeProperty('visibility');\n                }\n            }\n            else {\n                this.cntEle = select('.' + CLS_CONTENT, this.element);\n                if (val === true) {\n                    this.cntEle.appendChild(buildTag('div', {\n                        id: (CLS_CONTENT + '_' + 0), className: CLS_ITEM + ' ' + CLS_ACTIVE,\n                        attrs: { 'role': 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + 0 }\n                    }));\n                }\n                var ele = this.cntEle.children.item(0);\n                for (var i = 0; i < this.items.length; i++) {\n                    this.getContent(ele, i);\n                    this.maxHeight = Math.max(this.maxHeight, this.getHeight(ele));\n                    ele.innerHTML = '';\n                }\n                this.templateEle = [];\n                this.getContent(ele, 0);\n                ele.classList.remove(CLS_ACTIVE);\n            }\n            setStyle(this.cntEle, { 'height': this.maxHeight + 'px' });\n        }\n        else {\n            setStyle(this.cntEle, { 'height': 'auto' });\n        }\n    };\n    Tab.prototype.getHeight = function (ele) {\n        var cs = window.getComputedStyle(ele);\n        return ele.offsetHeight + parseFloat(cs.getPropertyValue('padding-top')) + parseFloat(cs.getPropertyValue('padding-bottom')) +\n            parseFloat(cs.getPropertyValue('margin-top')) + parseFloat(cs.getPropertyValue('margin-bottom'));\n    };\n    Tab.prototype.setActiveBorder = function () {\n        var trg = select('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element);\n        if (this.headerPlacement === 'Bottom') {\n            trg = select('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element.children[1]);\n        }\n        if (trg === null) {\n            return;\n        }\n        var root = closest(trg, '.' + CLS_TAB);\n        if (this.element !== root) {\n            return;\n        }\n        var hsCnt = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS + ' .e-hscroll-content', this.element.children[0]);\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        var bar = select('.' + CLS_HEADER + ' .' + CLS_INDICATOR, this.element);\n        if (this.headerPlacement === 'Bottom') {\n            hsCnt = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS + ' .e-hscroll-content', this.element.children[1]);\n        }\n        var tbWidth = (isNOU(hsCnt)) ? this.tbItems.offsetWidth : hsCnt.offsetWidth;\n        if (tbWidth !== 0) {\n            setStyle(bar, { 'left': trg.offsetLeft + 'px', 'right': tbWidth - (trg.offsetLeft + trg.offsetWidth) + 'px' });\n        }\n        else {\n            setStyle(bar, { 'left': 'auto', 'right': 'auto' });\n        }\n        if (!isNOU(this.bdrLine)) {\n            this.bdrLine.classList.remove(CLS_HIDDEN);\n        }\n    };\n    Tab.prototype.setActive = function (value) {\n        this.tbItem = selectAll('.' + CLS_HEADER + ' .' + CLS_TB_ITEM, this.element);\n        var trg = this.tbItem[value];\n        if (value >= 0) {\n            this.setProperties({ selectedItem: value }, true);\n        }\n        if (value < 0 || isNaN(value) || this.tbItem.length === 0) {\n            return;\n        }\n        if (trg.classList.contains(CLS_ACTIVE)) {\n            this.setActiveBorder();\n            return;\n        }\n        if (!this.isTemplate) {\n            var prev = this.tbItem[this.prevIndex];\n            if (!isNOU(prev)) {\n                prev.removeAttribute('aria-controls');\n            }\n            attributes(trg, { 'aria-controls': CLS_CONTENT + '_' + value });\n        }\n        var id = trg.id;\n        this.removeActiveClass(id);\n        trg.classList.add(CLS_ACTIVE);\n        trg.setAttribute('aria-selected', 'true');\n        var no = Number(this.extIndex(id));\n        attributes(this.element, { 'aria-activedescendant': id });\n        if (this.isTemplate) {\n            if (select('.' + CLS_CONTENT, this.element).children.length > 0) {\n                var trg_1 = this.findEle(select('.' + CLS_CONTENT, this.element).children, CLS_CONTENT + '_' + no);\n                if (!isNOU(trg_1)) {\n                    trg_1.classList.add(CLS_ACTIVE);\n                }\n                this.triggerAnimation(id, this.enableAnimation);\n            }\n        }\n        else {\n            this.cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n            var item = this.getTrgContent(this.cntEle, this.extIndex(id));\n            if (isNOU(item)) {\n                this.cntEle.appendChild(buildTag('div', {\n                    id: CLS_CONTENT + '_' + this.extIndex(id), className: CLS_ITEM + ' ' + CLS_ACTIVE,\n                    attrs: { role: 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + this.extIndex(id) }\n                }));\n                var eleTrg = this.getTrgContent(this.cntEle, this.extIndex(id));\n                this.getContent(eleTrg, Number(this.extIndex(id)));\n            }\n            else {\n                item.classList.add(CLS_ACTIVE);\n            }\n            this.triggerAnimation(id, this.enableAnimation);\n        }\n        this.setActiveBorder();\n        var curActItem = select('.' + CLS_HEADER + ' #' + id, this.element);\n        this.refreshItemVisibility(curActItem);\n        curActItem.firstChild.focus();\n        var eventArg = {\n            previousItem: this.prevItem,\n            previousIndex: this.prevIndex,\n            selectedItem: trg,\n            selectedIndex: value,\n            isSwiped: this.isSwipeed\n        };\n        this.trigger('selected', eventArg);\n    };\n    Tab.prototype.setItems = function (items) {\n        this.isReplace = true;\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        this.tbObj.items = this.parseObject(items, 0);\n        this.tbObj.dataBind();\n        this.isReplace = false;\n    };\n    Tab.prototype.setRTL = function (value) {\n        this.tbObj.enableRtl = value;\n        this.tbObj.dataBind();\n        this.setCssClass(this.element, CLS_RTL, value);\n        this.refreshActiveBorder();\n    };\n    Tab.prototype.refreshActiveBorder = function () {\n        if (!isNOU(this.bdrLine)) {\n            this.bdrLine.classList.add(CLS_HIDDEN);\n        }\n        this.setActiveBorder();\n    };\n    Tab.prototype.wireEvents = function () {\n        window.addEventListener('resize', this.refreshActElePosition.bind(this));\n        EventHandler.add(this.element, 'mouseover', this.hoverHandler, this);\n        EventHandler.add(this.element, 'keydown', this.spaceKeyDown, this);\n        if (!isNOU(this.cntEle)) {\n            this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n        }\n        this.keyModule = new KeyboardEvents(this.element, { keyAction: this.keyHandler.bind(this), keyConfigs: this.keyConfigs });\n        this.tabKeyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyHandler.bind(this),\n            keyConfigs: { openPopup: 'shift+f10', tab: 'tab', shiftTab: 'shift+tab' },\n            eventName: 'keydown'\n        });\n    };\n    Tab.prototype.unWireEvents = function () {\n        this.keyModule.destroy();\n        this.tabKeyModule.destroy();\n        if (!isNOU(this.cntEle)) {\n            this.touchModule.destroy();\n        }\n        window.removeEventListener('resize', this.refreshActElePosition.bind(this));\n        this.element.removeEventListener('mouseover', this.hoverHandler.bind(this));\n    };\n    Tab.prototype.clickHandler = function (args) {\n        this.element.classList.remove(CLS_FOCUS);\n        var trg = args.originalEvent.target;\n        var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n        var trgIndex = this.getEleIndex(trgParent);\n        if (trg.classList.contains(CLS_ICON_CLOSE)) {\n            this.removeTab(trgIndex);\n        }\n        else {\n            this.isPopup = false;\n            if (!isNOU(trgParent) && trgIndex !== this.selectedItem) {\n                this.select(trgIndex);\n            }\n        }\n    };\n    Tab.prototype.swipeHandler = function (e) {\n        if (e.velocity < 3 && isNOU(e.originalEvent.changedTouches)) {\n            return;\n        }\n        this.isSwipeed = true;\n        if (e.swipeDirection === 'Right') {\n            this.select(this.selectedItem - 1);\n        }\n        else {\n            if (e.swipeDirection === 'Left' && (this.selectedItem !== selectAll('.' + CLS_TB_ITEM, this.element).length - 1)) {\n                this.select(this.selectedItem + 1);\n            }\n        }\n        this.isSwipeed = false;\n    };\n    Tab.prototype.spaceKeyDown = function (e) {\n        if ((e.keyCode === 32 && e.which === 32) || (e.keyCode === 35 && e.which === 35)) {\n            var clstHead = closest(e.target, '.' + CLS_HEADER);\n            if (!isNOU(clstHead)) {\n                e.preventDefault();\n            }\n        }\n    };\n    Tab.prototype.keyHandler = function (e) {\n        if (this.element.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        this.element.classList.add(CLS_FOCUS);\n        var trg = e.target;\n        var actEle = select('.' + CLS_HEADER + ' .' + CLS_ACTIVE, this.element);\n        var tabItem = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_TB_POPUP + ')', this.element);\n        this.popEle = select('.' + CLS_TB_POP, this.element);\n        if (!isNOU(this.popEle)) {\n            this.popObj = this.popEle.ej2_instances[0];\n        }\n        switch (e.action) {\n            case 'space':\n            case 'enter':\n                if (trg.parentElement.classList.contains(CLS_DISABLE)) {\n                    return;\n                }\n                if (e.action === 'enter' && trg.classList.contains('e-hor-nav')) {\n                    break;\n                }\n                this.keyPressed(trg);\n                break;\n            case 'tab':\n            case 'shiftTab':\n                if (trg.classList.contains(CLS_WRAP)\n                    && closest(trg, '.' + CLS_TB_ITEM).classList.contains(CLS_ACTIVE) === false) {\n                    trg.setAttribute('tabindex', '-1');\n                }\n                if (this.popObj && isVisible(this.popObj.element)) {\n                    this.popObj.hide(this.hide);\n                }\n                actEle.children.item(0).setAttribute('tabindex', '0');\n                break;\n            case 'moveLeft':\n            case 'moveRight':\n                var item = closest(document.activeElement, '.' + CLS_TB_ITEM);\n                if (!isNOU(item)) {\n                    this.refreshItemVisibility(item);\n                }\n                break;\n            case 'openPopup':\n                e.preventDefault();\n                if (!isNOU(this.popEle) && this.popEle.classList.contains(CLS_POPUP_CLOSE)) {\n                    this.popObj.show(this.show);\n                }\n                break;\n            case 'delete':\n                var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n                if (this.showCloseButton === true && !isNOU(trgParent)) {\n                    var nxtSib = trgParent.nextSibling;\n                    if (!isNOU(nxtSib) && nxtSib.classList.contains(CLS_TB_ITEM)) {\n                        nxtSib.firstChild.focus();\n                    }\n                    this.removeTab(this.getEleIndex(trgParent));\n                }\n                this.setActiveBorder();\n                break;\n        }\n    };\n    Tab.prototype.refreshActElePosition = function () {\n        var activeEle = select('.' + CLS_TB_ITEM + '.' + CLS_TB_POPUP + '.' + CLS_ACTIVE, this.element);\n        if (!isNOU(activeEle)) {\n            this.select(this.getEleIndex(activeEle));\n        }\n        this.refreshActiveBorder();\n    };\n    Tab.prototype.refreshItemVisibility = function (target) {\n        var scrCnt = select('.e-hscroll-content', this.tbItems);\n        if (!isNOU(scrCnt)) {\n            var scrBar = select('.e-hscroll-bar', this.tbItems);\n            var scrStart = scrBar.scrollLeft;\n            var scrEnd = scrStart + scrBar.offsetWidth;\n            var eleStart = target.offsetLeft;\n            var eleWidth = target.offsetWidth;\n            var eleEnd = target.offsetLeft + target.offsetWidth;\n            if ((scrStart < eleStart) && (scrEnd < eleEnd)) {\n                var eleViewRange = scrEnd - eleStart;\n                scrBar.scrollLeft = scrStart + (eleWidth - eleViewRange);\n            }\n            else {\n                if ((scrStart > eleStart) && (scrEnd > eleEnd)) {\n                    var eleViewRange = eleEnd - scrStart;\n                    scrBar.scrollLeft = scrStart - (eleWidth - eleViewRange);\n                }\n            }\n        }\n        else {\n            return;\n        }\n    };\n    Tab.prototype.hoverHandler = function (e) {\n        var trg = e.target;\n        if (!isNOU(trg.classList) && trg.classList.contains(CLS_ICON_CLOSE)) {\n            trg.setAttribute('title', new L10n('tab', { closeButtonTitle: this.title }, this.locale).getConstant('closeButtonTitle'));\n        }\n    };\n    /**\n     * Enables or disables the specified Tab item. On passing value as `false`, the item will be disabled.\n     * @param  {number} index - Index value of target Tab item.\n     * @param  {boolean} value - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, isEnable is true.\n     * @returns void.\n     */\n    Tab.prototype.enableTab = function (index, value) {\n        var tbItems = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNOU(tbItems)) {\n            return;\n        }\n        if (value === true) {\n            tbItems.classList.remove(CLS_DISABLE, CLS_OVERLAY);\n            tbItems.firstChild.setAttribute('tabindex', '-1');\n        }\n        else {\n            tbItems.classList.add(CLS_DISABLE, CLS_OVERLAY);\n            tbItems.firstChild.removeAttribute('tabindex');\n            if (tbItems.classList.contains(CLS_ACTIVE)) {\n                this.select(index + 1);\n            }\n        }\n        tbItems.setAttribute('aria-disabled', (value === true) ? 'false' : 'true');\n    };\n    /**\n     * Adds new items to the Tab that accepts an array as Tab items.\n     * @param  {TabItemsModel[]} items - An array of item that is added to the Tab.\n     * @param  {number} index - Number value that determines where the items to be added. By default, index is 0.\n     * @returns void.\n     */\n    Tab.prototype.addTab = function (items, index) {\n        var _this = this;\n        this.trigger('adding', { addedItems: items });\n        if (isNOU(index)) {\n            index = selectAll('.' + CLS_TB_ITEM).length - 1;\n        }\n        if (this.isTemplate === true || selectAll('.' + CLS_TB_ITEM).length - 1 < index || index < 0 || isNaN(index)) {\n            return;\n        }\n        this.bdrLine.classList.add(CLS_HIDDEN);\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        var tabItems = this.parseObject(items, index);\n        items.forEach(function (item, place) {\n            if (_this.isReplace === true) {\n                var hdrItem = select('.' + CLS_TB_ITEMS + ' #' + CLS_ITEM + '_' + index, _this.element);\n                detach(hdrItem);\n                _this.items.splice((index + place), 0, item);\n            }\n            else {\n                _this.items.push(item);\n            }\n        });\n        this.tbObj.addItems(tabItems, index);\n        this.trigger('added', { addedItems: items });\n        if (this.selectedItem === index) {\n            this.select(index);\n        }\n        else {\n            this.setActiveBorder();\n        }\n    };\n    /**\n     * Removes the items in the Tab from the specified index.\n     * @param  {number} index - Index of target item that is going to be removed.\n     * @returns void.\n     */\n    Tab.prototype.removeTab = function (index) {\n        var trg = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        var removingArgs = { removedItem: trg, removedIndex: index };\n        this.trigger('removing', removingArgs);\n        if (isNOU(trg)) {\n            return;\n        }\n        this.tbObj.removeItems(index);\n        this.refreshActiveBorder();\n        var no = this.extIndex(trg.id);\n        var cntTrg = this.findEle(select('.' + CLS_CONTENT, this.element).children, CLS_CONTENT + '_' + no);\n        if (!isNOU(cntTrg)) {\n            cntTrg.outerHTML = '';\n        }\n        var removedArgs = { removedItem: trg, removedIndex: index };\n        this.trigger('removed', removedArgs);\n        if (trg.classList.contains(CLS_ACTIVE)) {\n            index = (index > selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_TB_POPUP + ')', this.element).length - 1) ? index - 1 : index;\n            this.enableAnimation = false;\n            this.select(index);\n        }\n        if (selectAll('.' + CLS_TB_ITEM, this.element).length === 0) {\n            this.hdrEle.style.display = 'none';\n        }\n        this.enableAnimation = true;\n    };\n    /**\n     * Shows or hides the Tab that is in the specified index.\n     * @param  {number} index - Index value of target item.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (false) or show (true). By default, value is true.\n     * @returns void.\n     */\n    Tab.prototype.hideTab = function (index, value) {\n        var item = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNOU(item)) {\n            return;\n        }\n        if (isNOU(value)) {\n            value = true;\n        }\n        this.bdrLine.classList.add(CLS_HIDDEN);\n        if (value === true) {\n            item.classList.add(CLS_HIDDEN);\n            if (item.classList.contains(CLS_ACTIVE)) {\n                this.select((index !== 0) ? index - 1 : index + 1);\n            }\n        }\n        else {\n            item.classList.remove(CLS_HIDDEN);\n        }\n        this.setActiveBorder();\n        item.setAttribute('aria-hidden', '' + value);\n    };\n    /**\n     * Specifies the index or HTMLElement to select an item from the Tab.\n     * @param  {number | HTMLElement} args - Index or DOM element is used for selecting an item from the Tab.\n     * @returns void.\n     */\n    Tab.prototype.select = function (args) {\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        this.tbItem = selectAll('.' + CLS_HEADER + ' .' + CLS_TB_ITEM, this.element);\n        this.prevItem = this.tbItem[this.prevIndex];\n        if (!isNOU(this.prevItem) && !this.prevItem.classList.contains(CLS_DISABLE)) {\n            this.prevItem.children.item(0).setAttribute('tabindex', '-1');\n        }\n        var eventArg = {\n            previousItem: this.prevItem,\n            previousIndex: this.prevIndex,\n            selectedItem: this.tbItem[this.selectedItem],\n            selectedIndex: this.selectedItem,\n            isSwiped: this.isSwipeed\n        };\n        this.trigger('selecting', eventArg);\n        if (eventArg.cancel) {\n            return;\n        }\n        if (typeof args === 'number') {\n            if (!isNOU(this.tbItem[args]) && this.tbItem[args].classList.contains(CLS_DISABLE)) {\n                for (var i = args + 1; i < this.items.length; i++) {\n                    if (this.items[i].disabled === false) {\n                        args = i;\n                        break;\n                    }\n                    else {\n                        args = 0;\n                    }\n                }\n            }\n            if (this.tbItem.length > args && args >= 0 && !isNaN(args)) {\n                this.prevIndex = this.selectedItem;\n                if (this.tbItem[args].classList.contains(CLS_TB_POPUP)) {\n                    this.setActive(this.popupHandler(this.tbItem[args]));\n                }\n                else {\n                    this.setActive(args);\n                }\n            }\n            else {\n                this.setActive(0);\n            }\n        }\n        else if (args instanceof (HTMLElement)) {\n            this.setActive(this.getEleIndex(args));\n        }\n    };\n    /**\n     * Specifies the value to disable/enable the Tab component.\n     * When set to `true`, the component will be disabled.\n     * @param  {boolean} value - Based on this Boolean value, Tab will be enabled (false) or disabled (true).\n     * @returns void.\n     */\n    Tab.prototype.disable = function (value) {\n        this.setCssClass(this.element, CLS_DISABLE, value);\n        this.element.setAttribute('aria-disabled', '' + value);\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     */\n    Tab.prototype.getPersistData = function () {\n        return this.addOnPersist(['selectedItem', 'actEleId']);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Tab.prototype.getModuleName = function () {\n        return 'tab';\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {TabModel} newProp\n     * @param  {TabModel} oldProp\n     * @returns void\n     * @private\n     */\n    Tab.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyle(this.element, { width: formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyle(this.element, { height: formatUnit(newProp.height) });\n                    this.setContentHeight(false);\n                    break;\n                case 'cssClass':\n                    this.setCssClass(this.element, newProp.cssClass, true);\n                    break;\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProp = Object.keys(newProp.items);\n                        for (var i = 0; i < changedProp.length; i++) {\n                            var index = parseInt(Object.keys(newProp.items)[i], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var oldVal = Object(oldProp.items[index])[property];\n                            var newVal = Object(newProp.items[index])[property];\n                            var hdrItem = select('.' + CLS_TB_ITEMS + ' #' + CLS_ITEM + '_' + index, this.element);\n                            var cntItem = select('.' + CLS_CONTENT + ' #' + CLS_CONTENT + '_' + index, this.element);\n                            if (property === 'header') {\n                                var arr = [];\n                                arr.push(this.items[index]);\n                                this.items.splice(index, 1);\n                                this.tbObj.items.splice(index, 1);\n                                this.isReplace = true;\n                                this.addTab(arr, index);\n                                this.isReplace = false;\n                            }\n                            if (property === 'content' && !isNOU(cntItem)) {\n                                var strVal = typeof newVal === 'string' || isNOU(newVal.innerHTML);\n                                if (strVal && (newVal[0] === '.' || newVal[0] === '#') && newVal.length) {\n                                    var eleVal = document.querySelector(newVal);\n                                    var eleStr = eleVal.outerHTML.trim();\n                                    cntItem.appendChild(eleVal.cloneNode(true));\n                                    cntItem.querySelector(newVal).style.display = 'block';\n                                }\n                                else {\n                                    cntItem.innerHTML = newVal;\n                                }\n                            }\n                            if (property === 'cssClass') {\n                                if (!isNOU(hdrItem)) {\n                                    hdrItem.classList.remove(oldVal);\n                                    hdrItem.classList.add(newVal);\n                                }\n                                if (!isNOU(cntItem)) {\n                                    cntItem.classList.remove(oldVal);\n                                    cntItem.classList.add(newVal);\n                                }\n                            }\n                            if (property === 'disabled') {\n                                this.enableTab(index, ((newVal === true) ? false : true));\n                            }\n                        }\n                    }\n                    else {\n                        if (isNOU(this.tbObj)) {\n                            this.renderContainer();\n                            if (!isNOU(this.cntEle)) {\n                                this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n                            }\n                        }\n                        else {\n                            this.setItems(newProp.items);\n                            select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element).innerHTML = '';\n                            this.select(this.selectedItem);\n                        }\n                    }\n                    break;\n                case 'showCloseButton':\n                    this.setCloseButton(newProp.showCloseButton);\n                    break;\n                case 'selectedItem':\n                    this.selectedItem = oldProp.selectedItem;\n                    this.select(newProp.selectedItem);\n                    break;\n                case 'headerPlacement':\n                    var tempHdrEle = select('.' + CLS_HEADER, this.element);\n                    this.setOrientation(newProp.headerPlacement, tempHdrEle);\n                    this.select(this.selectedItem);\n                    break;\n                case 'enableRtl':\n                    this.setRTL(newProp.enableRtl);\n                    break;\n                case 'overflowMode':\n                    this.tbObj.overflowMode = newProp.overflowMode;\n                    this.tbObj.dataBind();\n                    this.refreshActElePosition();\n                    break;\n                case 'heightAdjustMode':\n                    this.setContentHeight(false);\n                    this.select(this.selectedItem);\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Collection([], TabItem)\n    ], Tab.prototype, \"items\", void 0);\n    __decorate([\n        Property('100%')\n    ], Tab.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Tab.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], Tab.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(0)\n    ], Tab.prototype, \"selectedItem\", void 0);\n    __decorate([\n        Property('Top')\n    ], Tab.prototype, \"headerPlacement\", void 0);\n    __decorate([\n        Property('Content')\n    ], Tab.prototype, \"heightAdjustMode\", void 0);\n    __decorate([\n        Property('Scrollable')\n    ], Tab.prototype, \"overflowMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"showCloseButton\", void 0);\n    __decorate([\n        Complex({}, TabAnimationSettings)\n    ], Tab.prototype, \"animation\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"adding\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"added\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"selecting\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"selected\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"removing\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"removed\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"destroyed\", void 0);\n    Tab = __decorate([\n        NotifyPropertyChanges\n    ], Tab);\n    return Tab;\n}(Component));\nexport { Tab };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, isUndefined, Browser, compile } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { rippleEffect, Animation } from '@syncfusion/ej2-base';\nimport { Draggable, Droppable } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, closest, matches, detach, select, selectAll, isVisible, createElement, append } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { isNullOrUndefined as isNOU, Touch, getValue, setValue } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { createCheckBox, rippleMouseHandler } from '@syncfusion/ej2-buttons';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nvar ROOT = 'e-treeview';\nvar COLLAPSIBLE = 'e-icon-collapsible';\nvar EXPANDABLE = 'e-icon-expandable';\nvar LISTITEM = 'e-list-item';\nvar LISTTEXT = 'e-list-text';\nvar PARENTITEM = 'e-list-parent';\nvar HOVER = 'e-hover';\nvar ACTIVE = 'e-active';\nvar LOAD = 'e-icons-spinner';\nvar PROCESS = 'e-process';\nvar ICON = 'e-icons';\nvar TEXTWRAP = 'e-text-content';\nvar INPUT = 'e-input';\nvar INPUTGROUP = 'e-input-group';\nvar TREEINPUT = 'e-tree-input';\nvar EDITING = 'e-editing';\nvar RTL = 'e-rtl';\nvar DRAGITEM = 'e-drag-item';\nvar DROPPABLE = 'e-droppable';\nvar DRAGGING = 'e-dragging';\nvar SIBLING = 'e-sibling';\nvar DROPIN = 'e-drop-in';\nvar DROPNEXT = 'e-drop-next';\nvar DROPOUT = 'e-drop-out';\nvar NODROP = 'e-no-drop';\nvar FULLROWWRAP = 'e-fullrow-wrap';\nvar FULLROW = 'e-fullrow';\nvar SELECTED = 'e-selected';\nvar EXPANDED = 'e-expanded';\nvar NODECOLLAPSED = 'e-node-collapsed';\nvar DISABLE = 'e-disable';\nvar CONTENT = 'e-content';\nvar DOWNTAIL = 'e-downtail';\nvar DROPCOUNT = 'e-drop-count';\nvar CHECK = 'e-check';\nvar INDETERMINATE = 'e-stop';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECKBOXRIPPLE = 'e-ripple-container';\nvar FOCUS = 'e-node-focus';\nvar IMAGE = 'e-list-img';\nvar BIGGER = 'e-bigger';\nvar SMALL = 'e-small';\nvar treeAriaAttr = {\n    treeRole: 'tree',\n    itemRole: 'treeitem',\n    listRole: 'group',\n    itemText: '',\n    wrapperRole: '',\n};\n/**\n * Configures the fields to bind to the properties of node in the TreeView component.\n */\nvar FieldsSettings = /** @class */ (function (_super) {\n    __extends(FieldsSettings, _super);\n    function FieldsSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('child')\n    ], FieldsSettings.prototype, \"child\", void 0);\n    __decorate([\n        Property([])\n    ], FieldsSettings.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('expanded')\n    ], FieldsSettings.prototype, \"expanded\", void 0);\n    __decorate([\n        Property('hasChildren')\n    ], FieldsSettings.prototype, \"hasChildren\", void 0);\n    __decorate([\n        Property('htmlAttributes')\n    ], FieldsSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('iconCss')\n    ], FieldsSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('id')\n    ], FieldsSettings.prototype, \"id\", void 0);\n    __decorate([\n        Property('imageUrl')\n    ], FieldsSettings.prototype, \"imageUrl\", void 0);\n    __decorate([\n        Property('isChecked')\n    ], FieldsSettings.prototype, \"isChecked\", void 0);\n    __decorate([\n        Property('parentID')\n    ], FieldsSettings.prototype, \"parentID\", void 0);\n    __decorate([\n        Property(null)\n    ], FieldsSettings.prototype, \"query\", void 0);\n    __decorate([\n        Property('selected')\n    ], FieldsSettings.prototype, \"selected\", void 0);\n    __decorate([\n        Property(null)\n    ], FieldsSettings.prototype, \"tableName\", void 0);\n    __decorate([\n        Property('text')\n    ], FieldsSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property('tooltip')\n    ], FieldsSettings.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property('navigateUrl')\n    ], FieldsSettings.prototype, \"navigateUrl\", void 0);\n    return FieldsSettings;\n}(ChildProperty));\nexport { FieldsSettings };\n/**\n * Configures animation settings for the TreeView component.\n */\nvar ActionSettings = /** @class */ (function (_super) {\n    __extends(ActionSettings, _super);\n    function ActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideDown')\n    ], ActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], ActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('linear')\n    ], ActionSettings.prototype, \"easing\", void 0);\n    return ActionSettings;\n}(ChildProperty));\nexport { ActionSettings };\n/**\n * Configures the animation settings for expanding and collapsing nodes in TreeView.\n */\nvar NodeAnimationSettings = /** @class */ (function (_super) {\n    __extends(NodeAnimationSettings, _super);\n    function NodeAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideUp', duration: 400, easing: 'linear' }, ActionSettings)\n    ], NodeAnimationSettings.prototype, \"collapse\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideDown', duration: 400, easing: 'linear' }, ActionSettings)\n    ], NodeAnimationSettings.prototype, \"expand\", void 0);\n    return NodeAnimationSettings;\n}(ChildProperty));\nexport { NodeAnimationSettings };\n/**\n * The TreeView component is used to represent hierarchical data in a tree like structure with advanced\n * functions to perform edit, drag and drop, selection with check-box, and more.\n * ```html\n *  <div id=\"tree\"></div>\n * ```\n * ```typescript\n *  let treeObj: TreeView = new TreeView();\n *  treeObj.appendTo('#tree');\n * ```\n */\nvar TreeView = /** @class */ (function (_super) {\n    __extends(TreeView, _super);\n    function TreeView(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.mouseDownStatus = false;\n        return _this;\n    }\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    TreeView.prototype.getModuleName = function () {\n        return 'treeview';\n    };\n    /**\n     * Initialize the event handler\n     */\n    TreeView.prototype.preRender = function () {\n        var _this = this;\n        this.checkActionNodes = [];\n        this.dragStartAction = false;\n        this.isAnimate = false;\n        this.keyConfigs = {\n            escape: 'escape',\n            end: 'end',\n            enter: 'enter',\n            f2: 'f2',\n            home: 'home',\n            moveDown: 'downarrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlUp: 'ctrl+uparrow',\n            ctrlEnter: 'ctrl+enter',\n            ctrlHome: 'ctrl+home',\n            ctrlEnd: 'ctrl+end',\n            ctrlA: 'ctrl+A',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            shiftEnter: 'shift+enter',\n            shiftHome: 'shift+home',\n            shiftEnd: 'shift+end',\n            csDown: 'ctrl+shift+downarrow',\n            csUp: 'ctrl+shift+uparrow',\n            csEnter: 'ctrl+shift+enter',\n            csHome: 'ctrl+shift+home',\n            csEnd: 'ctrl+shift+end',\n            space: 'space',\n        };\n        this.listBaseOption = {\n            expandCollapse: true,\n            fields: this.fields.properties,\n            showIcon: true,\n            expandIconClass: EXPANDABLE,\n            ariaAttributes: treeAriaAttr,\n            expandIconPosition: 'Left',\n            itemCreated: function (e) {\n                _this.beforeNodeCreate(e);\n            },\n        };\n        this.listBaseOption.fields.url = this.fields.navigateUrl;\n        this.aniObj = new Animation({});\n        this.treeList = [];\n        this.isLoaded = false;\n        this.setTouchClass();\n        if (isNOU(this.selectedNodes)) {\n            this.setProperties({ selectedNodes: [] }, true);\n        }\n        if (isNOU(this.checkedNodes)) {\n            this.setProperties({ checkedNodes: [] }, true);\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     * @hidden\n     */\n    TreeView.prototype.getPersistData = function () {\n        var keyEntity = ['selectedNodes', 'checkedNodes'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    TreeView.prototype.render = function () {\n        this.isAnimate = true;\n        this.initialize();\n        this.setDataBinding();\n        this.setExpandOnType();\n        this.setRipple();\n        this.wireEditingEvents(this.allowEditing);\n        this.setDragAndDrop(this.allowDragAndDrop);\n        this.wireEvents();\n    };\n    TreeView.prototype.initialize = function () {\n        this.element.setAttribute('role', 'tree');\n        this.element.setAttribute('tabindex', '0');\n        this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n        this.setCssClass(null, this.cssClass);\n        this.setEnableRtl();\n        this.setFullRow(this.fullRowSelect);\n        this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n    };\n    TreeView.prototype.setEnableRtl = function () {\n        this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n    };\n    TreeView.prototype.setRipple = function () {\n        var tempStr = '.' + FULLROW + ',.' + TEXTWRAP;\n        var rippleModel = {\n            selector: tempStr,\n            ignore: '.' + TEXTWRAP + ' > .' + ICON + ',.' + INPUTGROUP + ',.' + INPUT + ', .' + CHECKBOXWRAP\n        };\n        this.rippleFn = rippleEffect(this.element, rippleModel);\n        var iconModel = {\n            selector: '.' + TEXTWRAP + ' > .' + ICON,\n            isCenterRipple: true,\n        };\n        this.rippleIconFn = rippleEffect(this.element, iconModel);\n    };\n    TreeView.prototype.setFullRow = function (isEnabled) {\n        isEnabled ? addClass([this.element], FULLROWWRAP) : removeClass([this.element], FULLROWWRAP);\n    };\n    TreeView.prototype.setMultiSelect = function (isEnabled) {\n        var firstUl = select('.' + PARENTITEM, this.element);\n        if (isEnabled) {\n            firstUl.setAttribute('aria-multiselectable', 'true');\n        }\n        else {\n            firstUl.removeAttribute('aria-multiselectable');\n        }\n    };\n    TreeView.prototype.templateComplier = function (template) {\n        if (template) {\n            var e = void 0;\n            try {\n                if (document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n            }\n            catch (e) {\n                return compile(template);\n            }\n        }\n        return undefined;\n    };\n    TreeView.prototype.setDataBinding = function () {\n        var _this = this;\n        this.treeList.push('false');\n        if (this.fields.dataSource instanceof DataManager) {\n            this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then(function (e) {\n                _this.treeList.pop();\n                _this.treeData = e.result;\n                _this.isNumberTypeId = _this.getType();\n                _this.setRootData();\n                _this.renderItems(true);\n                if (_this.treeList.length === 0 && !_this.isLoaded) {\n                    _this.finalize();\n                }\n            });\n        }\n        else {\n            this.treeList.pop();\n            if (isNOU(this.fields.dataSource)) {\n                this.rootData = this.treeData = [];\n            }\n            else {\n                this.treeData = this.fields.dataSource;\n                this.setRootData();\n            }\n            this.renderItems(false);\n        }\n        if (this.treeList.length === 0 && !this.isLoaded) {\n            this.finalize();\n        }\n    };\n    TreeView.prototype.getQuery = function (mapper, value) {\n        if (value === void 0) { value = null; }\n        var columns = [];\n        var query;\n        if (!mapper.query) {\n            query = new Query();\n            var prop = this.getActualProperties(mapper);\n            for (var _i = 0, _a = Object.keys(prop); _i < _a.length; _i++) {\n                var col = _a[_i];\n                if (col !== 'dataSource' && col !== 'tableName' && col !== 'child' && !!mapper[col]\n                    && columns.indexOf(mapper[col]) === -1) {\n                    columns.push(mapper[col]);\n                }\n            }\n            query.select(columns);\n            if (prop.hasOwnProperty('tableName')) {\n                query.from(mapper.tableName);\n            }\n        }\n        else {\n            query = mapper.query.clone();\n        }\n        ListBase.addSorting(this.sortOrder, mapper.text, query);\n        if (!isNOU(value) && !isNOU(mapper.parentID)) {\n            query.where(mapper.parentID, 'equal', (this.isNumberTypeId ? parseFloat(value) : value));\n        }\n        return query;\n    };\n    TreeView.prototype.getType = function () {\n        return this.treeData[0] ? ((typeof getValue(this.fields.id, this.treeData[0]) === 'number') ? true : false) : false;\n    };\n    TreeView.prototype.setRootData = function () {\n        this.dataType = this.getDataType(this.treeData, this.fields);\n        if (this.dataType === 1) {\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n            var rootItems = this.getChildNodes(this.treeData, undefined, true);\n            if (isNOU(rootItems)) {\n                this.rootData = [];\n            }\n            else {\n                this.rootData = rootItems;\n            }\n        }\n        else {\n            this.rootData = this.treeData;\n        }\n    };\n    TreeView.prototype.renderItems = function (isSorted) {\n        this.listBaseOption.ariaAttributes.level = 1;\n        this.ulElement = ListBase.createList(isSorted ? this.rootData : this.getSortedData(this.rootData), this.listBaseOption);\n        this.element.appendChild(this.ulElement);\n        this.finalizeNode(this.element);\n    };\n    TreeView.prototype.beforeNodeCreate = function (e) {\n        if (this.showCheckBox) {\n            var checkboxEle = createCheckBox(true, { cssClass: this.touchClass });\n            var icon = select('div.' + ICON, e.item);\n            var id = e.item.getAttribute('data-uid');\n            e.item.childNodes[0].insertBefore(checkboxEle, e.item.childNodes[0].childNodes[isNOU(icon) ? 0 : 1]);\n            var checkValue = getValue(e.fields.isChecked, e.curData);\n            if (this.checkedNodes.indexOf(id) > -1) {\n                select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n                checkboxEle.setAttribute('aria-checked', 'true');\n                this.addCheck(e.item);\n            }\n            else if (!isNOU(checkValue) && checkValue.toString() === 'true') {\n                select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n                checkboxEle.setAttribute('aria-checked', 'true');\n                this.addCheck(e.item);\n            }\n            else {\n                checkboxEle.setAttribute('aria-checked', 'false');\n            }\n            var frame = select('.' + CHECKBOXFRAME, checkboxEle);\n            EventHandler.add(frame, 'mousedown', this.frameMouseHandler, this);\n            EventHandler.add(frame, 'mouseup', this.frameMouseHandler, this);\n        }\n        if (this.fullRowSelect) {\n            this.createFullRow(e.item);\n        }\n        if (this.allowMultiSelection && !e.item.classList.contains(SELECTED)) {\n            e.item.setAttribute('aria-selected', 'false');\n        }\n        var fields = e.fields;\n        this.addActionClass(e, fields.selected, SELECTED);\n        this.addActionClass(e, fields.expanded, EXPANDED);\n        if (!isNOU(this.nodeTemplateFn)) {\n            var textEle = e.item.querySelector('.' + LISTTEXT);\n            textEle.innerHTML = '';\n            append(this.nodeTemplateFn(e.curData), textEle);\n        }\n        var eventArgs = {\n            node: e.item,\n            nodeData: e.curData,\n            text: e.text,\n        };\n        this.trigger('drawNode', eventArgs);\n    };\n    TreeView.prototype.frameMouseHandler = function (e) {\n        var rippleSpan = select('.' + CHECKBOXRIPPLE, e.target.parentElement);\n        rippleMouseHandler(e, rippleSpan);\n    };\n    TreeView.prototype.addActionClass = function (e, action, cssClass) {\n        var data = e.curData;\n        var actionValue = getValue(action, data);\n        if (!isNOU(actionValue) && actionValue.toString() !== 'false') {\n            e.item.classList.add(cssClass);\n        }\n    };\n    TreeView.prototype.getDataType = function (ds, mapper) {\n        if (this.fields.dataSource instanceof DataManager) {\n            for (var i = 0; i < ds.length; i++) {\n                if ((typeof mapper.child === 'string') && isNOU(getValue(mapper.child, ds[i]))) {\n                    return 1;\n                }\n            }\n            return 2;\n        }\n        for (var i = 0, len = ds.length; i < len; i++) {\n            if ((typeof mapper.child === 'string') && !isNOU(getValue(mapper.child, ds[i]))) {\n                return 2;\n            }\n            if (!isNOU(getValue(mapper.parentID, ds[i])) || !isNOU(getValue(mapper.hasChildren, ds[i]))) {\n                return 1;\n            }\n        }\n        return 1;\n    };\n    TreeView.prototype.getGroupedData = function (dataSource, groupBy) {\n        var cusQuery = new Query().group(groupBy);\n        var ds = ListBase.getDataSource(dataSource, cusQuery);\n        var grpItem = [];\n        for (var j = 0; j < ds.length; j++) {\n            var itemObj = ds[j].items;\n            grpItem.push(itemObj);\n        }\n        return grpItem;\n    };\n    TreeView.prototype.getSortedData = function (list) {\n        if (list && this.sortOrder !== 'None') {\n            list = ListBase.getDataSource(list, ListBase.addSorting(this.sortOrder, this.fields.text));\n        }\n        return list;\n    };\n    TreeView.prototype.finalizeNode = function (element) {\n        var iNodes = selectAll('.' + IMAGE, element);\n        for (var k = 0; k < iNodes.length; k++) {\n            iNodes[k].setAttribute('alt', IMAGE);\n        }\n        if (this.isLoaded) {\n            var sNodes = selectAll('.' + SELECTED, element);\n            for (var i = 0; i < sNodes.length; i++) {\n                this.selectNode(sNodes[i], null);\n                break;\n            }\n            removeClass(sNodes, SELECTED);\n        }\n        var cNodes = selectAll('.' + LISTITEM + ':not(.' + EXPANDED + ')', element);\n        for (var j = 0; j < cNodes.length; j++) {\n            var icon = select('div.' + ICON, cNodes[j]);\n            if (icon && icon.classList.contains(EXPANDABLE)) {\n                cNodes[j].setAttribute('aria-expanded', 'false');\n                addClass([cNodes[j]], NODECOLLAPSED);\n            }\n        }\n        var eNodes = selectAll('.' + EXPANDED, element);\n        for (var i = 0; i < eNodes.length; i++) {\n            this.renderChildNodes(eNodes[i]);\n        }\n        removeClass(eNodes, EXPANDED);\n        this.updateList();\n        if (this.isLoaded) {\n            this.updateCheckedProp();\n        }\n    };\n    TreeView.prototype.updateCheckedProp = function () {\n        var _this = this;\n        if (this.showCheckBox) {\n            var nodes_1 = [].concat([], this.checkedNodes);\n            this.checkedNodes.forEach(function (value, index) {\n                var checkBox = _this.element.querySelector('[data-uid=\"' + value + '\"]');\n                if (isNOU(checkBox)) {\n                    nodes_1 = nodes_1.filter(function (e) { return e !== value; });\n                }\n            });\n            this.setProperties({ checkedNodes: nodes_1 }, true);\n        }\n    };\n    TreeView.prototype.ensureParentCheckState = function (element) {\n        if (!isNOU(element)) {\n            if (element.classList.contains(ROOT)) {\n                return;\n            }\n            var ulElement = element;\n            if (element.classList.contains(LISTITEM)) {\n                ulElement = select('.' + PARENTITEM, element);\n            }\n            var checkedNodes = selectAll('.' + CHECK, ulElement);\n            var nodes = selectAll('.' + LISTITEM, ulElement);\n            var checkBoxEle = element.getElementsByClassName(CHECKBOXWRAP)[0];\n            if (nodes.length === checkedNodes.length) {\n                this.changeState(checkBoxEle, 'check', null, true, true);\n            }\n            else if (checkedNodes.length > 0) {\n                this.changeState(checkBoxEle, 'indeterminate', null, true, true);\n            }\n            else if (checkedNodes.length === 0) {\n                this.changeState(checkBoxEle, 'uncheck', null, true, true);\n            }\n            var parentUL = closest(element, '.' + PARENTITEM);\n            if (!isNOU(parentUL)) {\n                var currentParent = closest(parentUL, '.' + LISTITEM);\n                this.ensureParentCheckState(currentParent);\n            }\n        }\n    };\n    TreeView.prototype.ensureChildCheckState = function (element, e) {\n        if (!isNOU(element)) {\n            var childElement = select('.' + PARENTITEM, element);\n            var checkBoxes = void 0;\n            if (!isNOU(childElement)) {\n                checkBoxes = selectAll('.' + CHECKBOXWRAP, childElement);\n                var isChecked = element.getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n                var checkedState = void 0;\n                for (var index = 0; index < checkBoxes.length; index++) {\n                    if (!isNOU(this.currentLoadData) && !isNOU(getValue(this.fields.isChecked, this.currentLoadData[index]))) {\n                        checkedState = getValue(this.fields.isChecked, this.currentLoadData[index]) ? 'check' : 'uncheck';\n                    }\n                    else {\n                        var isNodeChecked = checkBoxes[index].getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n                        checkedState = (!this.isLoaded && isNodeChecked) ? 'check' : (isChecked ? 'check' : 'uncheck');\n                    }\n                    this.changeState(checkBoxes[index], checkedState, e, true, true);\n                }\n            }\n        }\n    };\n    TreeView.prototype.doCheckBoxAction = function (nodes, doCheck) {\n        if (!isNOU(nodes)) {\n            for (var i = 0, len = nodes.length; i < len; i++) {\n                var liEle = this.getElement(nodes[i]);\n                if (isNOU(liEle)) {\n                    continue;\n                }\n                var checkBox = select('.' + PARENTITEM + ' .' + CHECKBOXWRAP, liEle);\n                this.validateCheckNode(checkBox, !doCheck, liEle, null);\n            }\n        }\n        else {\n            var checkBoxes = selectAll('.' + CHECKBOXWRAP, this.element);\n            for (var index = 0; index < checkBoxes.length; index++) {\n                this.changeState(checkBoxes[index], doCheck ? 'check' : 'uncheck');\n            }\n        }\n    };\n    TreeView.prototype.changeState = function (wrapper, state, e, isPrevent, isAdd) {\n        var ariaState;\n        var eventArgs;\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        if (!isPrevent) {\n            this.checkActionNodes = [];\n            eventArgs = this.getCheckEvent(currLi, state, e);\n            this.trigger('nodeChecking', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n        }\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            this.addCheck(currLi);\n            ariaState = 'true';\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            this.removeCheck(currLi);\n            ariaState = 'false';\n        }\n        else if (state === 'indeterminate' && !frameSpan.classList.contains(INDETERMINATE)) {\n            frameSpan.classList.remove(CHECK);\n            frameSpan.classList.add(INDETERMINATE);\n            this.removeCheck(currLi);\n            ariaState = 'mixed';\n        }\n        ariaState = state === 'check' ? 'true' : state === 'uncheck' ? 'false' : ariaState;\n        if (!isNOU(ariaState)) {\n            wrapper.setAttribute('aria-checked', ariaState);\n        }\n        if (isAdd) {\n            var data = [].concat([], this.checkActionNodes);\n            eventArgs = this.getCheckEvent(currLi, state, e);\n            if (isUndefined(isPrevent)) {\n                eventArgs.data = data;\n            }\n        }\n        if (!isPrevent) {\n            if (!isNOU(ariaState)) {\n                wrapper.setAttribute('aria-checked', ariaState);\n                eventArgs.data[0].checked = ariaState;\n                this.trigger('nodeChecked', eventArgs);\n                this.checkActionNodes = [];\n            }\n        }\n    };\n    TreeView.prototype.addCheck = function (liEle) {\n        var id = liEle.getAttribute('data-uid');\n        if (!isNOU(id) && this.checkedNodes.indexOf(id) === -1) {\n            this.checkedNodes.push(id);\n        }\n    };\n    TreeView.prototype.removeCheck = function (liEle) {\n        var index = this.checkedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.checkedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.getCheckEvent = function (currLi, action, e) {\n        this.checkActionNodes.push(this.getNodeData(currLi));\n        var nodeData = this.checkActionNodes;\n        return { action: action, cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, data: nodeData };\n    };\n    TreeView.prototype.finalize = function () {\n        var firstUl = select('.' + PARENTITEM, this.element);\n        firstUl.setAttribute('role', treeAriaAttr.treeRole);\n        this.setMultiSelect(this.allowMultiSelection);\n        var firstNode = select('.' + LISTITEM, this.element);\n        if (firstNode) {\n            addClass([firstNode], FOCUS);\n            this.updateIdAttr(null, firstNode);\n        }\n        this.doSelectionAction();\n        this.updateCheckedProp();\n        this.isLoaded = true;\n        this.isAnimate = false;\n        var eventArgs = { data: this.treeData };\n        this.trigger('dataBound', eventArgs);\n    };\n    TreeView.prototype.doSelectionAction = function () {\n        var sNodes = selectAll('.' + SELECTED, this.element);\n        var sUids = this.selectedNodes;\n        if (sUids.length > 0) {\n            this.setProperties({ selectedNodes: [] }, true);\n            for (var i = 0; i < sUids.length; i++) {\n                var sNode = select('[data-uid=\"' + sUids[i] + '\"]', this.element);\n                this.selectNode(sNode, null, true);\n                if (!this.allowMultiSelection) {\n                    break;\n                }\n            }\n        }\n        else {\n            this.selectGivenNodes(sNodes);\n        }\n        removeClass(sNodes, SELECTED);\n    };\n    TreeView.prototype.selectGivenNodes = function (sNodes) {\n        for (var i = 0; i < sNodes.length; i++) {\n            this.selectNode(sNodes[i], null, true);\n            if (!this.allowMultiSelection) {\n                break;\n            }\n        }\n    };\n    TreeView.prototype.clickHandler = function (event) {\n        var target = event.originalEvent.target;\n        EventHandler.remove(this.element, 'contextmenu', this.preventContextMenu);\n        if (!target || this.dragStartAction) {\n            return;\n        }\n        else {\n            var classList = target.classList;\n            var li = closest(target, '.' + LISTITEM);\n            if (!li) {\n                return;\n            }\n            else {\n                this.removeHover();\n                this.setFocusElement(li);\n                if (this.showCheckBox && !li.classList.contains('e-disable')) {\n                    var checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n                    if (!isNOU(checkWrapper)) {\n                        var checkElement = select('.' + CHECKBOXFRAME, checkWrapper);\n                        this.validateCheckNode(checkWrapper, checkElement.classList.contains(CHECK), li, event.originalEvent);\n                        this.triggerClickEvent(event.originalEvent, li);\n                        return;\n                    }\n                }\n                if (classList.contains(EXPANDABLE)) {\n                    this.expandAction(li, target, event);\n                }\n                else if (classList.contains(COLLAPSIBLE)) {\n                    this.collapseNode(li, target, event);\n                }\n                else {\n                    if (!classList.contains(PARENTITEM) && !classList.contains(LISTITEM)) {\n                        this.toggleSelect(li, event.originalEvent, false);\n                    }\n                }\n                this.triggerClickEvent(event.originalEvent, li);\n            }\n        }\n    };\n    TreeView.prototype.nodeCheckingEvent = function (wrapper, isCheck, e) {\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        this.checkActionNodes = [];\n        var ariaState = !isCheck ? 'true' : 'false';\n        if (!isNOU(ariaState)) {\n            wrapper.setAttribute('aria-checked', ariaState);\n        }\n        var eventArgs = this.getCheckEvent(currLi, !isCheck ? 'uncheck' : 'check', e);\n        this.trigger('nodeChecking', eventArgs);\n        return eventArgs;\n    };\n    TreeView.prototype.nodeCheckedEvent = function (wrapper, isCheck, e) {\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        var eventArgs = this.getCheckEvent(wrapper, isCheck ? 'uncheck' : 'check', e);\n        eventArgs.data = eventArgs.data.splice(0, eventArgs.data.length - 1);\n        this.trigger('nodeChecked', eventArgs);\n    };\n    TreeView.prototype.triggerClickEvent = function (e, li) {\n        var eventArgs = {\n            event: e,\n            node: li,\n        };\n        this.trigger('nodeClicked', eventArgs);\n    };\n    TreeView.prototype.expandNode = function (currLi, icon) {\n        var _this = this;\n        if (icon.classList.contains(LOAD)) {\n            this.hideSpinner(icon);\n        }\n        removeClass([icon], EXPANDABLE);\n        addClass([icon], COLLAPSIBLE);\n        var start = 0;\n        var end = 0;\n        var proxy = this;\n        var ul = select('.' + PARENTITEM, currLi);\n        var liEle = currLi;\n        this.setHeight(liEle, ul);\n        if (!this.isAnimate) {\n            this.aniObj.animate(ul, {\n                name: this.animation.expand.effect,\n                duration: this.animation.expand.duration,\n                timingFunction: this.animation.expand.easing,\n                begin: function (args) {\n                    liEle.style.overflow = 'hidden';\n                    start = liEle.offsetHeight;\n                    end = select('.' + TEXTWRAP, currLi).offsetHeight;\n                },\n                progress: function (args) {\n                    args.element.style.display = 'block';\n                    proxy.animateHeight(args, start, end);\n                },\n                end: function (args) {\n                    args.element.style.display = 'block';\n                    _this.expandedNode(liEle, ul, icon);\n                }\n            });\n        }\n        else {\n            this.expandedNode(liEle, ul, icon);\n        }\n    };\n    TreeView.prototype.expandedNode = function (currLi, ul, icon) {\n        ul.style.display = 'block';\n        currLi.style.display = 'block';\n        currLi.style.overflow = '';\n        currLi.style.height = '';\n        removeClass([icon], PROCESS);\n        currLi.setAttribute('aria-expanded', 'true');\n        removeClass([currLi], NODECOLLAPSED);\n        if (this.isLoaded && this.expandArgs) {\n            this.expandArgs = this.getExpandEvent(currLi, null);\n            this.trigger('nodeExpanded', this.expandArgs);\n        }\n    };\n    TreeView.prototype.collapseNode = function (currLi, icon, e) {\n        var _this = this;\n        if (icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            addClass([icon], PROCESS);\n        }\n        var colArgs;\n        if (this.isLoaded) {\n            colArgs = this.getExpandEvent(currLi, e);\n            this.trigger('nodeCollapsing', colArgs);\n            if (colArgs.cancel) {\n                removeClass([icon], PROCESS);\n                return;\n            }\n        }\n        removeClass([icon], COLLAPSIBLE);\n        addClass([icon], EXPANDABLE);\n        var start = 0;\n        var end = 0;\n        var proxy = this;\n        var ul = select('.' + PARENTITEM, currLi);\n        var liEle = currLi;\n        addClass([currLi], NODECOLLAPSED);\n        this.aniObj.animate(ul, {\n            name: this.animation.collapse.effect,\n            duration: this.animation.collapse.duration,\n            timingFunction: this.animation.collapse.easing,\n            begin: function (args) {\n                liEle.style.overflow = 'hidden';\n                start = select('.' + TEXTWRAP, currLi).offsetHeight;\n                end = liEle.offsetHeight;\n            },\n            progress: function (args) {\n                proxy.animateHeight(args, start, end);\n            },\n            end: function (args) {\n                liEle.style.overflow = '';\n                args.element.style.display = 'none';\n                liEle.style.height = '';\n                removeClass([icon], PROCESS);\n                currLi.setAttribute('aria-expanded', 'false');\n                if (_this.isLoaded) {\n                    _this.trigger('nodeCollapsed', colArgs);\n                }\n            }\n        });\n    };\n    TreeView.prototype.setHeight = function (currLi, ul) {\n        ul.style.display = 'block';\n        ul.style.visibility = 'hidden';\n        currLi.style.height = currLi.offsetHeight + 'px';\n        ul.style.display = 'none';\n        ul.style.visibility = '';\n    };\n    TreeView.prototype.animateHeight = function (args, start, end) {\n        var remaining = (args.duration - args.timeStamp) / args.duration;\n        var currentHeight = (end - start) * remaining + start;\n        args.element.parentElement.style.height = currentHeight + 'px';\n    };\n    TreeView.prototype.renderChildNodes = function (parentLi, expandChild) {\n        var _this = this;\n        var eicon = select('div.' + ICON, parentLi);\n        if (isNOU(eicon)) {\n            return;\n        }\n        this.showSpinner(eicon);\n        var childItems;\n        if (this.fields.dataSource instanceof DataManager) {\n            var level = this.parents(parentLi, '.' + PARENTITEM).length;\n            var mapper_1 = this.getChildFields(this.fields, level, 1);\n            if (isNOU(mapper_1) || isNOU(mapper_1.dataSource)) {\n                detach(eicon);\n                parentLi.removeAttribute('aria-expanded');\n                return;\n            }\n            this.treeList.push('false');\n            mapper_1.dataSource.executeQuery(this.getQuery(mapper_1, parentLi.getAttribute('data-uid'))).then(function (e) {\n                _this.treeList.pop();\n                childItems = e.result;\n                _this.currentLoadData = childItems;\n                if (isNOU(childItems) || childItems.length === 0) {\n                    detach(eicon);\n                    parentLi.removeAttribute('aria-expanded');\n                }\n                else {\n                    var prop = _this.getActualProperties(mapper_1);\n                    _this.listBaseOption.fields = prop;\n                    _this.listBaseOption.fields.url = prop.navigateUrl;\n                    var id = parentLi.getAttribute('data-uid');\n                    var nodeData = _this.getNodeObject(id);\n                    setValue('child', childItems, nodeData);\n                    _this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n                    parentLi.appendChild(ListBase.createList(childItems, _this.listBaseOption));\n                    _this.expandNode(parentLi, eicon);\n                    _this.ensureCheckNode(parentLi);\n                    _this.finalizeNode(parentLi);\n                    _this.renderSubChild(parentLi, expandChild);\n                }\n                if (_this.treeList.length === 0 && !_this.isLoaded) {\n                    _this.finalize();\n                }\n            });\n        }\n        else {\n            childItems = this.getChildNodes(this.treeData, parentLi.getAttribute('data-uid'));\n            this.currentLoadData = childItems;\n            if (isNOU(childItems) || childItems.length === 0) {\n                detach(eicon);\n                parentLi.removeAttribute('aria-expanded');\n                return;\n            }\n            else {\n                this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n                parentLi.appendChild(ListBase.createList(this.getSortedData(childItems), this.listBaseOption));\n                this.expandNode(parentLi, eicon);\n                this.ensureCheckNode(parentLi);\n                this.finalizeNode(parentLi);\n                this.renderSubChild(parentLi, expandChild);\n            }\n        }\n    };\n    TreeView.prototype.ensureCheckNode = function (element) {\n        if (this.showCheckBox) {\n            this.ensureChildCheckState(element);\n            this.ensureParentCheckState(element);\n        }\n        this.currentLoadData = null;\n    };\n    TreeView.prototype.getFields = function (mapper, nodeLevel, dataLevel) {\n        if (nodeLevel === dataLevel) {\n            return mapper;\n        }\n        else {\n            return this.getFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n        }\n    };\n    TreeView.prototype.getChildFields = function (mapper, nodeLevel, dataLevel) {\n        var childData;\n        if (nodeLevel === dataLevel) {\n            return this.getChildMapper(mapper);\n        }\n        else {\n            return this.getChildFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n        }\n    };\n    TreeView.prototype.getChildMapper = function (mapper) {\n        return (typeof mapper.child === 'string' || isNOU(mapper.child)) ? mapper : mapper.child;\n    };\n    TreeView.prototype.getChildNodes = function (obj, parentId, isRoot) {\n        if (isRoot === void 0) { isRoot = false; }\n        var childNodes;\n        if (isNOU(obj)) {\n            return childNodes;\n        }\n        else if (this.dataType === 1) {\n            return this.getChildGroup(this.groupedData, parentId, isRoot);\n        }\n        else {\n            if (typeof this.fields.child === 'string') {\n                for (var i = 0, objlen = obj.length; i < objlen; i++) {\n                    var dataId = getValue(this.fields.id, obj[i]);\n                    if (dataId && dataId.toString() === parentId) {\n                        return getValue(this.fields.child, obj[i]);\n                    }\n                    else if (!isNOU(getValue(this.fields.child, obj[i]))) {\n                        childNodes = this.getChildNodes(getValue(this.fields.child, obj[i]), parentId);\n                        if (childNodes !== undefined) {\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return childNodes;\n    };\n    TreeView.prototype.getChildGroup = function (data, parentId, isRoot) {\n        var childNodes;\n        if (isNOU(data)) {\n            return childNodes;\n        }\n        for (var i = 0, objlen = data.length; i < objlen; i++) {\n            if (!isNOU(data[i][0]) && !isNOU(getValue(this.fields.parentID, data[i][0]))) {\n                if (getValue(this.fields.parentID, data[i][0]).toString() === parentId) {\n                    return data[i];\n                }\n            }\n            else if (isRoot) {\n                return data[i];\n            }\n            else {\n                return [];\n            }\n        }\n        return childNodes;\n    };\n    TreeView.prototype.renderSubChild = function (element, expandChild) {\n        if (expandChild) {\n            var cIcons = selectAll('.' + EXPANDABLE, element);\n            for (var i = 0, len = cIcons.length; i < len; i++) {\n                var icon = cIcons[i];\n                var curLi = closest(icon, '.' + LISTITEM);\n                this.expandArgs = this.getExpandEvent(curLi, null);\n                this.trigger('nodeExpanding', this.expandArgs);\n                this.renderChildNodes(curLi, expandChild);\n            }\n        }\n    };\n    TreeView.prototype.toggleSelect = function (li, e, multiSelect) {\n        if (!li.classList.contains('e-disable')) {\n            if (this.allowMultiSelection && ((e && e.ctrlKey) || multiSelect) && this.isActive(li)) {\n                this.unselectNode(li, e);\n            }\n            else {\n                this.selectNode(li, e, multiSelect);\n            }\n        }\n    };\n    TreeView.prototype.isActive = function (li) {\n        return li.classList.contains(ACTIVE) ? true : false;\n    };\n    TreeView.prototype.selectNode = function (li, e, multiSelect) {\n        if (isNOU(li) || (!this.allowMultiSelection && this.isActive(li) && !isNOU(e))) {\n            this.setFocusElement(li);\n            return;\n        }\n        var eventArgs;\n        if (this.isLoaded) {\n            eventArgs = this.getSelectEvent(li, 'select', e);\n            this.trigger('nodeSelecting', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n        }\n        if (!this.allowMultiSelection || (!multiSelect && (!e || (e && !e.ctrlKey)))) {\n            this.removeSelectAll();\n        }\n        if (this.allowMultiSelection && e && e.shiftKey) {\n            if (!this.startNode) {\n                this.startNode = li;\n            }\n            var startIndex = this.liList.indexOf(this.startNode);\n            var endIndex = this.liList.indexOf(li);\n            if (startIndex > endIndex) {\n                var temp = startIndex;\n                startIndex = endIndex;\n                endIndex = temp;\n            }\n            for (var i = startIndex; i <= endIndex; i++) {\n                var currNode = this.liList[i];\n                if (isVisible(currNode)) {\n                    this.addSelect(currNode);\n                }\n            }\n        }\n        else {\n            this.startNode = li;\n            this.addSelect(li);\n        }\n        this.setFocusElement(li);\n        if (this.isLoaded) {\n            this.trigger('nodeSelected', eventArgs);\n        }\n    };\n    TreeView.prototype.unselectNode = function (li, e) {\n        var eventArgs;\n        if (this.isLoaded) {\n            eventArgs = this.getSelectEvent(li, 'un-select', e);\n            this.trigger('nodeSelecting', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n        }\n        this.removeSelect(li);\n        this.setFocusElement(li);\n        if (this.isLoaded) {\n            this.trigger('nodeSelected', eventArgs);\n        }\n    };\n    TreeView.prototype.setFocusElement = function (li) {\n        if (!isNOU(li)) {\n            var focusedNode = this.getFocusedNode();\n            if (focusedNode) {\n                removeClass([focusedNode], FOCUS);\n            }\n            addClass([li], FOCUS);\n            this.updateIdAttr(focusedNode, li);\n        }\n    };\n    TreeView.prototype.addSelect = function (liEle) {\n        liEle.setAttribute('aria-selected', 'true');\n        addClass([liEle], ACTIVE);\n        var id = liEle.getAttribute('data-uid');\n        if (!isNOU(id) && this.selectedNodes.indexOf(id) === -1) {\n            this.selectedNodes.push(id);\n        }\n    };\n    TreeView.prototype.removeSelect = function (liEle) {\n        if (this.allowMultiSelection) {\n            liEle.setAttribute('aria-selected', 'false');\n        }\n        else {\n            liEle.removeAttribute('aria-selected');\n        }\n        removeClass([liEle], ACTIVE);\n        var index = this.selectedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.selectedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.removeSelectAll = function () {\n        var selectedLI = this.element.querySelectorAll('.' + ACTIVE);\n        for (var _i = 0, selectedLI_1 = selectedLI; _i < selectedLI_1.length; _i++) {\n            var ele = selectedLI_1[_i];\n            if (this.allowMultiSelection) {\n                ele.setAttribute('aria-selected', 'false');\n            }\n            else {\n                ele.removeAttribute('aria-selected');\n            }\n        }\n        removeClass(selectedLI, ACTIVE);\n        this.setProperties({ selectedNodes: [] }, true);\n    };\n    TreeView.prototype.getSelectEvent = function (currLi, action, e) {\n        var nodeData = this.getNodeData(currLi);\n        return { action: action, cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, nodeData: nodeData };\n    };\n    TreeView.prototype.setExpandOnType = function () {\n        this.expandOnType = (this.expandOn === 'Auto') ? (Browser.isDevice ? 'Click' : 'DblClick') : this.expandOn;\n    };\n    TreeView.prototype.expandHandler = function (e) {\n        var target = e.originalEvent.target;\n        if (!target || target.classList.contains(INPUT) || target.classList.contains(ROOT) ||\n            target.classList.contains(PARENTITEM) || target.classList.contains(LISTITEM) ||\n            target.classList.contains(ICON) || this.showCheckBox && closest(target, '.' + CHECKBOXWRAP)) {\n            return;\n        }\n        else {\n            this.expandCollapseAction(closest(target, '.' + LISTITEM), e);\n        }\n    };\n    TreeView.prototype.expandCollapseAction = function (currLi, e) {\n        var icon = select('div.' + ICON, currLi);\n        if (!icon || icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            var classList = icon.classList;\n            if (classList.contains(EXPANDABLE)) {\n                this.expandAction(currLi, icon, e);\n            }\n            else {\n                this.collapseNode(currLi, icon, e);\n            }\n        }\n    };\n    TreeView.prototype.expandAction = function (currLi, icon, e, expandChild) {\n        if (icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            addClass([icon], PROCESS);\n        }\n        if (this.isLoaded) {\n            this.expandArgs = this.getExpandEvent(currLi, e);\n            this.trigger('nodeExpanding', this.expandArgs);\n            if (this.expandArgs.cancel) {\n                removeClass([icon], PROCESS);\n                return;\n            }\n        }\n        var ul = select('.' + PARENTITEM, currLi);\n        if (ul && ul.nodeName === 'UL') {\n            this.expandNode(currLi, icon);\n        }\n        else {\n            this.renderChildNodes(currLi, expandChild);\n        }\n    };\n    TreeView.prototype.keyActionHandler = function (e) {\n        var target = e.target;\n        var focusedNode = this.getFocusedNode();\n        if (target && target.classList.contains(INPUT)) {\n            var inpEle = target;\n            if (e.action === 'enter') {\n                inpEle.blur();\n                this.element.focus();\n                addClass([focusedNode], HOVER);\n            }\n            else if (e.action === 'escape') {\n                inpEle.value = this.oldText;\n                inpEle.blur();\n                this.element.focus();\n                addClass([focusedNode], HOVER);\n            }\n            return;\n        }\n        e.preventDefault();\n        var eventArgs = {\n            cancel: false,\n            event: e,\n            node: focusedNode,\n        };\n        this.trigger('keyPress', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        switch (e.action) {\n            case 'space':\n                if (this.showCheckBox) {\n                    this.checkNode(e);\n                }\n                break;\n            case 'moveRight':\n                this.openNode(this.enableRtl ? false : true, e);\n                break;\n            case 'moveLeft':\n                this.openNode(this.enableRtl ? true : false, e);\n                break;\n            case 'shiftDown':\n                this.shiftKeySelect(true, e);\n                break;\n            case 'moveDown':\n            case 'ctrlDown':\n            case 'csDown':\n                this.navigateNode(true);\n                break;\n            case 'shiftUp':\n                this.shiftKeySelect(false, e);\n                break;\n            case 'moveUp':\n            case 'ctrlUp':\n            case 'csUp':\n                this.navigateNode(false);\n                break;\n            case 'home':\n            case 'shiftHome':\n            case 'ctrlHome':\n            case 'csHome':\n                this.navigateRootNode(true);\n                break;\n            case 'end':\n            case 'shiftEnd':\n            case 'ctrlEnd':\n            case 'csEnd':\n                this.navigateRootNode(false);\n                break;\n            case 'enter':\n            case 'ctrlEnter':\n            case 'shiftEnter':\n            case 'csEnter':\n                this.toggleSelect(focusedNode, e);\n                break;\n            case 'f2':\n                if (this.allowEditing) {\n                    this.createTextbox(focusedNode, e);\n                }\n                break;\n            case 'ctrlA':\n                if (this.allowMultiSelection) {\n                    var sNodes = selectAll('.' + LISTITEM + ':not(.' + ACTIVE + ')', this.element);\n                    this.selectGivenNodes(sNodes);\n                }\n                break;\n        }\n    };\n    TreeView.prototype.navigateToFocus = function (isUp) {\n        var focusNode = this.getFocusedNode().querySelector('.' + TEXTWRAP);\n        var pos = focusNode.getBoundingClientRect();\n        var parent = this.getScrollParent(this.element);\n        if (!isNOU(parent)) {\n            var parentPos = parent.getBoundingClientRect();\n            if (pos.bottom > parentPos.bottom) {\n                parent.scrollTop += pos.bottom - parentPos.bottom;\n            }\n            else if (pos.top < parentPos.top) {\n                parent.scrollTop -= parentPos.top - pos.top;\n            }\n        }\n        var isVisible = this.isVisibleInViewport(focusNode);\n        if (!isVisible) {\n            focusNode.scrollIntoView(isUp);\n        }\n    };\n    TreeView.prototype.isVisibleInViewport = function (txtWrap) {\n        var pos = txtWrap.getBoundingClientRect();\n        return (pos.top >= 0 && pos.left >= 0 && pos.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n            pos.right <= (window.innerWidth || document.documentElement.clientWidth));\n    };\n    TreeView.prototype.getScrollParent = function (node) {\n        if (isNOU(node)) {\n            return null;\n        }\n        return (node.scrollHeight > node.clientHeight) ? node : this.getScrollParent(node.parentElement);\n    };\n    TreeView.prototype.shiftKeySelect = function (isTowards, e) {\n        if (this.allowMultiSelection) {\n            var focusedNode = this.getFocusedNode();\n            var nextNode = isTowards ? this.getNextNode(focusedNode) : this.getPrevNode(focusedNode);\n            this.removeHover();\n            this.setFocusElement(nextNode);\n            this.toggleSelect(nextNode, e, false);\n            this.navigateToFocus(!isTowards);\n        }\n        else {\n            this.navigateNode(isTowards);\n        }\n    };\n    TreeView.prototype.checkNode = function (e) {\n        var focusedNode = this.getFocusedNode();\n        var checkWrap = select('.' + CHECKBOXWRAP, focusedNode);\n        var isChecked = select(' .' + CHECKBOXFRAME, checkWrap).classList.contains(CHECK);\n        this.validateCheckNode(checkWrap, isChecked, focusedNode, e);\n    };\n    TreeView.prototype.validateCheckNode = function (checkWrap, isCheck, li, e) {\n        var eventArgs = this.nodeCheckingEvent(checkWrap, isCheck, e);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true);\n        this.ensureChildCheckState(li);\n        this.ensureParentCheckState(closest(closest(li, '.' + PARENTITEM), '.' + LISTITEM));\n        this.nodeCheckedEvent(checkWrap, isCheck, e);\n    };\n    TreeView.prototype.openNode = function (toBeOpened, e) {\n        var focusedNode = this.getFocusedNode();\n        var icon = select('div.' + ICON, focusedNode);\n        if (toBeOpened) {\n            if (!icon) {\n                return;\n            }\n            else if (icon.classList.contains(EXPANDABLE)) {\n                this.expandAction(focusedNode, icon, e);\n            }\n            else {\n                this.focusNextNode(focusedNode, true);\n            }\n        }\n        else {\n            if (icon && icon.classList.contains(COLLAPSIBLE)) {\n                this.collapseNode(focusedNode, icon, e);\n            }\n            else {\n                var parentLi = closest(closest(focusedNode, '.' + PARENTITEM), '.' + LISTITEM);\n                if (!parentLi) {\n                    return;\n                }\n                else {\n                    this.setFocus(focusedNode, parentLi);\n                    this.navigateToFocus(true);\n                }\n            }\n        }\n    };\n    TreeView.prototype.navigateNode = function (isTowards) {\n        var focusedNode = this.getFocusedNode();\n        this.focusNextNode(focusedNode, isTowards);\n    };\n    TreeView.prototype.navigateRootNode = function (isBackwards) {\n        var focusedNode = this.getFocusedNode();\n        var rootNode = isBackwards ? this.getRootNode() : this.getEndNode();\n        this.setFocus(focusedNode, rootNode);\n        this.navigateToFocus(isBackwards);\n    };\n    TreeView.prototype.getFocusedNode = function () {\n        var fNode = select('.' + LISTITEM + '.' + FOCUS, this.element);\n        return isNOU(fNode) ? select('.' + LISTITEM, this.element) : fNode;\n    };\n    TreeView.prototype.focusNextNode = function (li, isTowards) {\n        var nextNode = isTowards ? this.getNextNode(li) : this.getPrevNode(li);\n        this.setFocus(li, nextNode);\n        this.navigateToFocus(!isTowards);\n        if (nextNode.classList.contains('e-disable')) {\n            this.focusNextNode(nextNode, isTowards);\n        }\n    };\n    TreeView.prototype.getNextNode = function (li) {\n        var index = this.liList.indexOf(li);\n        var nextNode;\n        var i;\n        do {\n            index++;\n            if (index === this.liList.length && li.classList.contains('e-disable')) {\n                for (i = index - 1; i > 0; i--) {\n                    if (!this.liList[i].classList.contains('e-disable')) {\n                        index = i;\n                        break;\n                    }\n                }\n            }\n            nextNode = this.liList[index];\n            if (isNOU(nextNode)) {\n                return li;\n            }\n        } while (!isVisible(nextNode));\n        return nextNode;\n    };\n    TreeView.prototype.getPrevNode = function (li) {\n        var index = this.liList.indexOf(li);\n        var prevNode;\n        var i;\n        do {\n            index--;\n            if (index < 0 && li.classList.contains('e-disable')) {\n                for (i = 1; i < this.liList.length; i++) {\n                    if (!this.liList[i].classList.contains('e-disable')) {\n                        index = i;\n                        break;\n                    }\n                }\n            }\n            prevNode = this.liList[index];\n            if (isNOU(prevNode)) {\n                return li;\n            }\n        } while (!isVisible(prevNode));\n        return prevNode;\n    };\n    TreeView.prototype.getRootNode = function () {\n        var index = 0;\n        var rootNode;\n        do {\n            rootNode = this.liList[index];\n            index++;\n        } while (!isVisible(rootNode));\n        return rootNode;\n    };\n    TreeView.prototype.getEndNode = function () {\n        var index = this.liList.length - 1;\n        var endNode;\n        do {\n            endNode = this.liList[index];\n            index--;\n        } while (!isVisible(endNode));\n        return endNode;\n    };\n    TreeView.prototype.setFocus = function (preNode, nextNode) {\n        removeClass([preNode], [HOVER, FOCUS]);\n        addClass([nextNode], [HOVER, FOCUS]);\n        this.updateIdAttr(preNode, nextNode);\n    };\n    TreeView.prototype.updateIdAttr = function (preNode, nextNode) {\n        this.element.removeAttribute('aria-activedescendant');\n        if (preNode) {\n            preNode.removeAttribute('id');\n        }\n        nextNode.setAttribute('id', this.element.id + '_active');\n        this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n    };\n    TreeView.prototype.focusIn = function () {\n        if (!this.mouseDownStatus) {\n            addClass([this.getFocusedNode()], HOVER);\n        }\n        this.mouseDownStatus = false;\n    };\n    TreeView.prototype.focusOut = function () {\n        removeClass([this.getFocusedNode()], HOVER);\n    };\n    TreeView.prototype.onMouseOver = function (e) {\n        var target = e.target;\n        var classList = target.classList;\n        var currentLi = closest(target, '.' + LISTITEM);\n        if (!currentLi || classList.contains(PARENTITEM) || classList.contains(LISTITEM)) {\n            this.removeHover();\n            return;\n        }\n        else {\n            if (currentLi && !currentLi.classList.contains('e-disable')) {\n                this.setHover(currentLi);\n            }\n        }\n    };\n    TreeView.prototype.setHover = function (li) {\n        if (!li.classList.contains(HOVER)) {\n            this.removeHover();\n            addClass([li], HOVER);\n        }\n    };\n    ;\n    TreeView.prototype.onMouseLeave = function (e) {\n        this.removeHover();\n    };\n    TreeView.prototype.removeHover = function () {\n        var hoveredNode = selectAll('.' + HOVER, this.element);\n        if (hoveredNode && hoveredNode.length) {\n            removeClass(hoveredNode, HOVER);\n        }\n    };\n    ;\n    TreeView.prototype.getNodeData = function (currLi, fromDS) {\n        if (!isNOU(currLi) && currLi.classList.contains(LISTITEM)) {\n            var id = currLi.getAttribute('data-uid');\n            var text = this.getText(currLi, fromDS);\n            var pNode = closest(currLi.parentNode, '.' + LISTITEM);\n            var pid = pNode ? pNode.getAttribute('data-uid') : null;\n            var selected = currLi.classList.contains(ACTIVE);\n            var expanded = (currLi.getAttribute('aria-expanded') === 'true') ? true : false;\n            var checked = null;\n            if (this.showCheckBox) {\n                checked = select('.' + CHECKBOXWRAP, currLi).getAttribute('aria-checked');\n            }\n            return { id: id, text: text, parentID: pid, selected: selected, expanded: expanded, isChecked: checked };\n        }\n        return { id: '', text: '', parentID: '', selected: '', expanded: '', isChecked: '' };\n    };\n    TreeView.prototype.getText = function (currLi, fromDS) {\n        if (fromDS) {\n            var nodeData = this.getNodeObject(currLi.getAttribute('data-uid'));\n            var level = parseFloat(currLi.getAttribute('aria-level'));\n            var nodeFields = this.getFields(this.fields, level, 1);\n            return getValue(nodeFields.text, nodeData);\n        }\n        return select('.' + LISTTEXT, currLi).textContent;\n    };\n    TreeView.prototype.getExpandEvent = function (currLi, e) {\n        var nodeData = this.getNodeData(currLi);\n        return { cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, nodeData: nodeData, event: e };\n    };\n    TreeView.prototype.reRenderNodes = function () {\n        this.element.innerHTML = '';\n        this.setTouchClass();\n        this.setProperties({ selectedNodes: [], checkedNodes: [] }, true);\n        this.isLoaded = false;\n        this.setDataBinding();\n    };\n    TreeView.prototype.setCssClass = function (oldClass, newClass) {\n        if (!isNOU(oldClass) && oldClass !== '') {\n            removeClass([this.element], oldClass.split(' '));\n        }\n        if (!isNOU(newClass) && newClass !== '') {\n            addClass([this.element], newClass.split(' '));\n        }\n    };\n    TreeView.prototype.editingHandler = function (e) {\n        var target = e.target;\n        if (!target || target.classList.contains(ROOT) || target.classList.contains(PARENTITEM) ||\n            target.classList.contains(LISTITEM) || target.classList.contains(ICON) ||\n            target.classList.contains(INPUT) || target.classList.contains(INPUTGROUP)) {\n            return;\n        }\n        else {\n            var liEle = closest(target, '.' + LISTITEM);\n            this.createTextbox(liEle, e);\n        }\n    };\n    TreeView.prototype.createTextbox = function (liEle, e) {\n        var oldInpEle = select('.' + TREEINPUT, this.element);\n        if (oldInpEle) {\n            oldInpEle.blur();\n        }\n        var textEle = select('.' + LISTTEXT, liEle);\n        this.updateOldText(liEle);\n        var innerEle = createElement('input', { className: TREEINPUT, attrs: { value: this.oldText } });\n        var eventArgs = this.getEditEvent(liEle, null, innerEle.outerHTML);\n        this.trigger('nodeEditing', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        var inpWidth = textEle.offsetWidth + 5;\n        var style = 'width:' + inpWidth + 'px';\n        addClass([liEle], EDITING);\n        textEle.innerHTML = eventArgs.innerHtml;\n        var inpEle = select('.' + TREEINPUT, textEle);\n        this.inputObj = Input.createInput({\n            element: inpEle,\n            properties: {\n                enableRtl: this.enableRtl,\n            }\n        });\n        this.inputObj.container.setAttribute('style', style);\n        inpEle.focus();\n        var inputEle = inpEle;\n        inputEle.setSelectionRange(0, inputEle.value.length);\n        this.wireInputEvents(inpEle);\n    };\n    TreeView.prototype.updateOldText = function (liEle) {\n        var id = liEle.getAttribute('data-uid');\n        this.editData = this.getNodeObject(id);\n        var level = parseFloat(liEle.getAttribute('aria-level'));\n        this.editFields = this.getFields(this.fields, level, 1);\n        this.oldText = getValue(this.editFields.text, this.editData);\n    };\n    TreeView.prototype.inputFocusOut = function (e) {\n        if (!select('.' + TREEINPUT, this.element)) {\n            return;\n        }\n        var target = e.target;\n        var newText = target.value;\n        var txtEle = closest(target, '.' + LISTTEXT);\n        var liEle = closest(target, '.' + LISTITEM);\n        detach(this.inputObj.container);\n        this.appendNewText(liEle, txtEle, newText, true);\n    };\n    TreeView.prototype.appendNewText = function (liEle, txtEle, newText, isInput) {\n        var newData = setValue(this.editFields.text, newText, this.editData);\n        if (!isNOU(this.nodeTemplateFn)) {\n            txtEle.innerHTML = '';\n            append(this.nodeTemplateFn(newData), txtEle);\n        }\n        else {\n            txtEle.innerHTML = newText;\n        }\n        if (isInput) {\n            removeClass([liEle], EDITING);\n            txtEle.focus();\n        }\n        this.trigger('nodeEdited', this.getEditEvent(liEle, newText, null));\n    };\n    TreeView.prototype.getElement = function (ele) {\n        if (isNOU(ele)) {\n            return null;\n        }\n        else if (typeof ele === 'string') {\n            return this.element.querySelector('[data-uid=\"' + ele + '\"]');\n        }\n        else if (typeof ele === 'object') {\n            return ele;\n        }\n        else {\n            return null;\n        }\n    };\n    TreeView.prototype.getEditEvent = function (liEle, newText, inpEle) {\n        var data = this.getNodeData(liEle);\n        return { cancel: false, newText: newText, node: liEle, nodeData: data, oldText: this.oldText, innerHtml: inpEle };\n    };\n    TreeView.prototype.getNodeObject = function (id) {\n        var childNodes;\n        if (isNOU(id)) {\n            return childNodes;\n        }\n        else if (this.dataType === 1) {\n            for (var i = 0, objlen = this.treeData.length; i < objlen; i++) {\n                var dataId = getValue(this.fields.id, this.treeData[i]);\n                if (!isNOU(this.treeData[i]) && !isNOU(dataId) && dataId.toString() === id) {\n                    return this.treeData[i];\n                }\n            }\n        }\n        else {\n            return this.getChildNodeObject(this.treeData, this.fields, id);\n        }\n        return childNodes;\n    };\n    TreeView.prototype.getChildNodeObject = function (obj, mapper, id) {\n        var newList;\n        if (isNOU(obj)) {\n            return newList;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var dataId = getValue(mapper.id, obj[i]);\n            if (obj[i] && dataId && dataId.toString() === id) {\n                return obj[i];\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var childData = getValue(mapper.child, obj[i]);\n                newList = this.getChildNodeObject(childData, this.getChildMapper(mapper), id);\n                if (newList !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                var child = 'child';\n                newList = this.getChildNodeObject(getValue(child, obj[i]), this.getChildMapper(mapper), id);\n                if (newList !== undefined) {\n                    break;\n                }\n            }\n        }\n        return newList;\n    };\n    TreeView.prototype.setDragAndDrop = function (toBind) {\n        if (toBind) {\n            this.initializeDrag();\n        }\n        else {\n            this.destroyDrag();\n        }\n    };\n    TreeView.prototype.initializeDrag = function () {\n        var _this = this;\n        var virtualEle;\n        this.dragObj = new Draggable(this.element, {\n            enableTailMode: true,\n            dragTarget: '.' + TEXTWRAP,\n            helper: function (e) {\n                _this.dragTarget = e.sender.target;\n                var dragRoot = closest(_this.dragTarget, '.' + ROOT);\n                var dragWrap = closest(_this.dragTarget, '.' + TEXTWRAP);\n                _this.dragLi = closest(_this.dragTarget, '.' + LISTITEM);\n                if (_this.fullRowSelect && !dragWrap && _this.dragTarget.classList.contains(FULLROW)) {\n                    dragWrap = _this.dragTarget.nextElementSibling;\n                }\n                if (!_this.dragTarget || !e.element.isSameNode(dragRoot) || !dragWrap ||\n                    _this.dragTarget.classList.contains(ROOT) || _this.dragTarget.classList.contains(PARENTITEM) ||\n                    _this.dragTarget.classList.contains(LISTITEM)) {\n                    return false;\n                }\n                var cloneEle = (dragWrap.cloneNode(true));\n                if (isNOU(select('div.' + ICON, cloneEle))) {\n                    var icon = createElement('div', { className: ICON + ' ' + EXPANDABLE });\n                    cloneEle.insertBefore(icon, cloneEle.children[0]);\n                }\n                var cssClass = DRAGITEM + ' ' + ROOT + ' ' + _this.cssClass + ' ' + (_this.enableRtl ? RTL : '');\n                virtualEle = createElement('div', { className: cssClass });\n                virtualEle.appendChild(cloneEle);\n                var nLen = _this.selectedNodes.length;\n                if (nLen > 1 && _this.allowMultiSelection && _this.dragLi.classList.contains(ACTIVE)) {\n                    var cNode = createElement('span', { className: DROPCOUNT, innerHTML: '' + nLen });\n                    virtualEle.appendChild(cNode);\n                }\n                document.body.appendChild(virtualEle);\n                document.body.style.cursor = '';\n                _this.dragData = _this.getNodeData(_this.dragLi);\n                return virtualEle;\n            },\n            dragStart: function (e) {\n                addClass([_this.element], DRAGGING);\n                var eventArgs = _this.getDragEvent(e.event, _this, null, e.target);\n                _this.trigger('nodeDragStart', eventArgs);\n                if (eventArgs.cancel) {\n                    detach(virtualEle);\n                    removeClass([_this.element], DRAGGING);\n                }\n                _this.dragStartAction = true;\n            },\n            drag: function (e) {\n                _this.dragObj.setProperties({ cursorAt: { top: (!isNOU(e.event.targetTouches) || Browser.isDevice) ? 60 : -20 } });\n                _this.dragAction(e, virtualEle);\n            },\n            dragStop: function (e) {\n                removeClass([_this.element], DRAGGING);\n                _this.removeVirtualEle();\n                var dropTarget = e.target;\n                var dropRoot = (closest(dropTarget, '.' + DROPPABLE));\n                if (!dropTarget || !dropRoot || dropTarget.classList.contains(ROOT)) {\n                    detach(e.helper);\n                    document.body.style.cursor = '';\n                }\n                var eventArgs = _this.getDragEvent(e.event, _this, dropTarget, dropTarget);\n                _this.trigger('nodeDragStop', eventArgs);\n                if (eventArgs.cancel) {\n                    if (e.helper.parentNode) {\n                        detach(e.helper);\n                    }\n                    document.body.style.cursor = '';\n                }\n                _this.dragStartAction = false;\n            }\n        });\n        this.dropObj = new Droppable(this.element, {\n            out: function (e) {\n                if (!isNOU(e) && !e.target.classList.contains(SIBLING)) {\n                    document.body.style.cursor = 'not-allowed';\n                }\n            },\n            over: function (e) {\n                document.body.style.cursor = '';\n            },\n            drop: function (e) {\n                _this.dropAction(e);\n            }\n        });\n    };\n    TreeView.prototype.dragAction = function (e, virtualEle) {\n        var dropRoot = closest(e.target, '.' + DROPPABLE);\n        var dropWrap = closest(e.target, '.' + TEXTWRAP);\n        var icon = select('div.' + ICON, virtualEle);\n        removeClass([icon], [DROPIN, DROPNEXT, DROPOUT, NODROP]);\n        this.removeVirtualEle();\n        document.body.style.cursor = '';\n        var classList = e.target.classList;\n        if (this.fullRowSelect && !dropWrap && !isNOU(classList) && classList.contains(FULLROW)) {\n            dropWrap = e.target.nextElementSibling;\n        }\n        if (dropRoot) {\n            var dropLi = closest(e.target, '.' + LISTITEM);\n            if (!dropRoot.classList.contains(ROOT) || (dropWrap &&\n                (!dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi)))) {\n                if (dropLi && e && (e.event.offsetY < 7)) {\n                    addClass([icon], DROPNEXT);\n                    var virEle = createElement('div', { className: SIBLING });\n                    var index = this.fullRowSelect ? (1) : (0);\n                    dropLi.insertBefore(virEle, dropLi.children[index]);\n                }\n                else if (dropLi && e && (e.target.offsetHeight > 0 && e.event.offsetY > (e.target.offsetHeight - 10))) {\n                    addClass([icon], DROPNEXT);\n                    var virEle = createElement('div', { className: SIBLING });\n                    var index = this.fullRowSelect ? (2) : (1);\n                    dropLi.insertBefore(virEle, dropLi.children[index]);\n                }\n                else {\n                    addClass([icon], DROPIN);\n                }\n            }\n            else if (e.target.nodeName === 'LI' && (!dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi))) {\n                addClass([icon], DROPNEXT);\n                this.renderVirtualEle(e);\n            }\n            else if (e.target.classList.contains(SIBLING)) {\n                addClass([icon], DROPNEXT);\n            }\n            else {\n                addClass([icon], DROPOUT);\n            }\n        }\n        else {\n            addClass([icon], NODROP);\n            document.body.style.cursor = 'not-allowed';\n        }\n        this.trigger('nodeDragging', this.getDragEvent(e.event, this, e.target, e.target));\n    };\n    TreeView.prototype.dropAction = function (e) {\n        var offsetY = e.event.offsetY;\n        var dropTarget = e.target;\n        var dragObj = e.dragData.draggable.ej2_instances[0];\n        var dragTarget = dragObj.dragTarget;\n        var dragLi = (closest(dragTarget, '.' + LISTITEM));\n        var dropLi = (closest(dropTarget, '.' + LISTITEM));\n        detach(e.droppedElement);\n        document.body.style.cursor = '';\n        if (!dropLi || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n            return;\n        }\n        if (dragObj.allowMultiSelection && (dragLi.classList.contains(ACTIVE) || (offsetY < 7 ||\n            (e.target.offsetHeight > 0 && offsetY > (e.target.offsetHeight - 10))))) {\n            var sNodes = selectAll('.' + ACTIVE, dragObj.element);\n            for (var i = 0; i < sNodes.length; i++) {\n                if (dropLi.isSameNode(sNodes[i]) || this.isDescendant(sNodes[i], dropLi)) {\n                    continue;\n                }\n                this.appendNode(dropTarget, sNodes[i], dropLi, e, dragObj, offsetY);\n            }\n        }\n        else {\n            this.appendNode(dropTarget, dragLi, dropLi, e, dragObj, offsetY);\n        }\n        this.trigger('nodeDropped', this.getDragEvent(e.event, dragObj, dropTarget, e.target));\n    };\n    TreeView.prototype.appendNode = function (dropTarget, dragLi, dropLi, e, dragObj, offsetY) {\n        if (dropTarget.nodeName === 'LI') {\n            this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n        }\n        else {\n            this.dropAsChildNode(dragLi, dropLi, dragObj, null, e, offsetY);\n        }\n    };\n    TreeView.prototype.dropAsSiblingNode = function (dragLi, dropLi, e, dragObj) {\n        var dropUl = closest(dropLi, '.' + PARENTITEM);\n        var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        var pre;\n        if (e.target.offsetHeight > 0 && e.event.offsetY > e.target.offsetHeight - 2) {\n            pre = false;\n        }\n        else if (e.event.offsetY < 2) {\n            pre = true;\n        }\n        dropUl.insertBefore(dragLi, pre ? e.target : e.target.nextElementSibling);\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateAriaLevel(dragLi);\n        if (dragObj.element.id === this.element.id) {\n            this.updateList();\n        }\n        else {\n            dragObj.updateInstance();\n            this.updateInstance();\n        }\n    };\n    TreeView.prototype.dropAsChildNode = function (dragLi, dropLi, dragObj, index, e, pos) {\n        var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        var dropParentUl = closest(dropLi, '.' + PARENTITEM);\n        if (e && (pos < 7)) {\n            dropParentUl.insertBefore(dragLi, dropLi);\n        }\n        else if (e && (e.target.offsetHeight > 0 && pos > (e.target.offsetHeight - 10))) {\n            dropParentUl.insertBefore(dragLi, dropLi.nextElementSibling);\n        }\n        else {\n            var dropUl = this.expandParent(dropLi);\n            dropUl.insertBefore(dragLi, dropUl.childNodes[index]);\n        }\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateAriaLevel(dragLi);\n        if (dragObj.element.id === this.element.id) {\n            this.updateList();\n        }\n        else {\n            dragObj.updateInstance();\n            this.updateInstance();\n        }\n    };\n    TreeView.prototype.expandParent = function (dropLi) {\n        var dropIcon = select('div.' + ICON, dropLi);\n        if (dropIcon && dropIcon.classList.contains(EXPANDABLE)) {\n            this.expandAction(dropLi, dropIcon, null);\n        }\n        var dropUl = select('.' + PARENTITEM, dropLi);\n        if (isNOU(dropUl)) {\n            ListBase.generateIcon(dropLi, COLLAPSIBLE, this.listBaseOption);\n            var icon = select('div.' + ICON, dropLi);\n            removeClass([icon], EXPANDABLE);\n            dropUl = ListBase.generateUL([], null, this.listBaseOption);\n            dropLi.appendChild(dropUl);\n            dropLi.setAttribute('aria-expanded', 'true');\n            removeClass([dropLi], NODECOLLAPSED);\n        }\n        return dropUl;\n    };\n    TreeView.prototype.updateElement = function (dragParentUl, dragParentLi) {\n        if (dragParentLi && dragParentUl.childElementCount === 0) {\n            var dragIcon = select('div.' + ICON, dragParentLi);\n            detach(dragParentUl);\n            detach(dragIcon);\n            dragParentLi.removeAttribute('aria-expanded');\n        }\n    };\n    TreeView.prototype.updateAriaLevel = function (dragLi) {\n        var level = this.parents(dragLi, '.' + PARENTITEM).length;\n        dragLi.setAttribute('aria-level', '' + level);\n        this.updateChildAriaLevel(select('.' + PARENTITEM, dragLi), level + 1);\n    };\n    TreeView.prototype.updateChildAriaLevel = function (element, level) {\n        if (!isNOU(element)) {\n            var cNodes = element.childNodes;\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var liEle = cNodes[i];\n                liEle.setAttribute('aria-level', '' + level);\n                this.updateChildAriaLevel(select('.' + PARENTITEM, liEle), level + 1);\n            }\n        }\n    };\n    TreeView.prototype.renderVirtualEle = function (e) {\n        var pre;\n        if (e.event.offsetY > e.target.offsetHeight - 2) {\n            pre = false;\n        }\n        else if (e.event.offsetY < 2) {\n            pre = true;\n        }\n        var virEle = createElement('div', { className: SIBLING });\n        var index = this.fullRowSelect ? (pre ? 1 : 2) : (pre ? 0 : 1);\n        e.target.insertBefore(virEle, e.target.children[index]);\n    };\n    TreeView.prototype.removeVirtualEle = function () {\n        var sibEle = select('.' + SIBLING);\n        if (sibEle) {\n            detach(sibEle);\n        }\n    };\n    TreeView.prototype.destroyDrag = function () {\n        if (this.dragObj && this.dropObj) {\n            this.dragObj.destroy();\n            this.dropObj.destroy();\n        }\n    };\n    TreeView.prototype.getDragEvent = function (event, obj, dropTarget, target) {\n        var dropLi = dropTarget ? closest(dropTarget, '.' + LISTITEM) : null;\n        var dropData = dropLi ? this.getNodeData(dropLi) : null;\n        return {\n            cancel: false,\n            event: event,\n            draggedNode: obj.dragLi,\n            draggedNodeData: obj.dragData,\n            droppedNode: dropLi,\n            droppedNodeData: dropData,\n            target: target\n        };\n    };\n    TreeView.prototype.addFullRow = function (toAdd) {\n        var len = this.liList.length;\n        if (toAdd) {\n            for (var i = 0; i < len; i++) {\n                this.createFullRow(this.liList[i]);\n            }\n        }\n        else {\n            for (var i = 0; i < len; i++) {\n                var rowDiv = select('.' + FULLROW, this.liList[i]);\n                detach(rowDiv);\n            }\n        }\n    };\n    TreeView.prototype.createFullRow = function (item) {\n        var rowDiv = createElement('div', { className: FULLROW });\n        item.insertBefore(rowDiv, item.childNodes[0]);\n    };\n    TreeView.prototype.addMultiSelect = function (toAdd) {\n        if (toAdd) {\n            var liEles = selectAll('.' + LISTITEM + ':not([aria-selected=\"true\"])', this.element);\n            for (var _i = 0, liEles_1 = liEles; _i < liEles_1.length; _i++) {\n                var ele = liEles_1[_i];\n                ele.setAttribute('aria-selected', 'false');\n            }\n        }\n        else {\n            var liEles = selectAll('.' + LISTITEM + '[aria-selected=\"false\"]', this.element);\n            for (var _a = 0, liEles_2 = liEles; _a < liEles_2.length; _a++) {\n                var ele = liEles_2[_a];\n                ele.removeAttribute('aria-selected');\n            }\n        }\n    };\n    TreeView.prototype.collapseByLevel = function (element, level, excludeHiddenNodes) {\n        if (level > 0 && !isNOU(element)) {\n            var cNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var liEle = cNodes[i];\n                var icon = select('.' + COLLAPSIBLE, select('.' + TEXTWRAP, liEle));\n                if (!isNOU(icon)) {\n                    this.collapseNode(liEle, icon, null);\n                }\n                this.collapseByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n            }\n        }\n    };\n    TreeView.prototype.collapseAllNodes = function (excludeHiddenNodes) {\n        var cIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + COLLAPSIBLE, this.element));\n        for (var i = 0, len = cIcons.length; i < len; i++) {\n            var icon = cIcons[i];\n            var liEle = closest(icon, '.' + LISTITEM);\n            this.collapseNode(liEle, icon, null);\n        }\n    };\n    TreeView.prototype.expandByLevel = function (element, level, excludeHiddenNodes) {\n        if (level > 0 && !isNOU(element)) {\n            var eNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n            for (var i = 0, len = eNodes.length; i < len; i++) {\n                var liEle = eNodes[i];\n                var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, liEle));\n                if (!isNOU(icon)) {\n                    this.expandAction(liEle, icon, null);\n                }\n                this.expandByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n            }\n        }\n    };\n    TreeView.prototype.expandAllNodes = function (excludeHiddenNodes) {\n        var eIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + EXPANDABLE, this.element));\n        for (var i = 0, len = eIcons.length; i < len; i++) {\n            var icon = eIcons[i];\n            var liEle = closest(icon, '.' + LISTITEM);\n            this.expandAction(liEle, icon, null, true);\n        }\n    };\n    TreeView.prototype.getVisibleNodes = function (excludeHiddenNodes, nodes) {\n        var vNodes = Array.prototype.slice.call(nodes);\n        if (excludeHiddenNodes) {\n            for (var i = 0; i < vNodes.length; i++) {\n                if (!isVisible(vNodes[i])) {\n                    vNodes.splice(i, 1);\n                    i--;\n                }\n            }\n        }\n        return vNodes;\n    };\n    TreeView.prototype.removeNode = function (node) {\n        var dragParentUl = closest(node, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        detach(node);\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateInstance();\n    };\n    TreeView.prototype.updateInstance = function () {\n        this.updateList();\n        this.updateSelectedNodes();\n    };\n    TreeView.prototype.updateList = function () {\n        this.liList = Array.prototype.slice.call(selectAll('.' + LISTITEM, this.element));\n    };\n    TreeView.prototype.updateSelectedNodes = function () {\n        this.setProperties({ selectedNodes: [] }, true);\n        var sNodes = selectAll('.' + ACTIVE, this.element);\n        this.selectGivenNodes(sNodes);\n    };\n    TreeView.prototype.doGivenAction = function (nodes, selector, toExpand) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNOU(liEle)) {\n                continue;\n            }\n            var icon = select('.' + selector, select('.' + TEXTWRAP, liEle));\n            if (!isNOU(icon)) {\n                toExpand ? this.expandAction(liEle, icon, null) : this.collapseNode(liEle, icon, null);\n            }\n        }\n    };\n    TreeView.prototype.addGivenNodes = function (nodes, dropLi, index, isRemote) {\n        var level = dropLi ? parseFloat(dropLi.getAttribute('aria-level')) + 1 : 1;\n        if (isRemote) {\n            this.updateMapper(level);\n        }\n        var li = ListBase.createListItemFromJson(nodes, this.listBaseOption, level);\n        var dropUl = dropLi ? this.expandParent(dropLi) : select('.' + PARENTITEM, this.element);\n        var refNode = dropUl.childNodes[index];\n        for (var i = 0; i < li.length; i++) {\n            dropUl.insertBefore(li[i], refNode);\n        }\n        this.finalizeNode(dropUl);\n    };\n    TreeView.prototype.updateMapper = function (level) {\n        var mapper = (level === 1) ? this.fields : this.getChildFields(this.fields, level - 1, 1);\n        var prop = this.getActualProperties(mapper);\n        this.listBaseOption.fields = prop;\n        this.listBaseOption.fields.url = prop.navigateUrl;\n    };\n    TreeView.prototype.doDisableAction = function (nodes) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNOU(liEle)) {\n                continue;\n            }\n            liEle.setAttribute('aria-disabled', 'true');\n            addClass([liEle], DISABLE);\n        }\n    };\n    TreeView.prototype.doEnableAction = function (nodes) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNOU(liEle)) {\n                continue;\n            }\n            liEle.removeAttribute('aria-disabled');\n            removeClass([liEle], DISABLE);\n        }\n    };\n    TreeView.prototype.setTouchClass = function () {\n        var ele = closest(this.element, '.' + BIGGER);\n        this.touchClass = isNOU(ele) ? '' : SMALL;\n    };\n    TreeView.prototype.wireInputEvents = function (inpEle) {\n        EventHandler.add(inpEle, 'blur', this.inputFocusOut, this);\n    };\n    TreeView.prototype.wireEditingEvents = function (toBind) {\n        if (toBind) {\n            var proxy_1 = this;\n            this.touchEditObj = new Touch(this.element, {\n                tap: function (e) {\n                    if (e.tapCount === 2) {\n                        e.originalEvent.preventDefault();\n                        proxy_1.editingHandler(e.originalEvent);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.touchEditObj) {\n                this.touchEditObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.wireClickEvent = function (toBind) {\n        if (toBind) {\n            var proxy_2 = this;\n            this.touchClickObj = new Touch(this.element, {\n                tap: function (e) {\n                    proxy_2.clickHandler(e);\n                }\n            });\n        }\n        else {\n            if (this.touchClickObj) {\n                this.touchClickObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.wireExpandOnEvent = function (toBind) {\n        var _this = this;\n        if (toBind) {\n            var proxy_3 = this;\n            this.touchExpandObj = new Touch(this.element, {\n                tap: function (e) {\n                    if (_this.expandOnType === 'Click' || (_this.expandOnType === 'DblClick' && e.tapCount === 2)) {\n                        proxy_3.expandHandler(e);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.touchExpandObj) {\n                this.touchExpandObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.mouseDownHandler = function (e) {\n        this.mouseDownStatus = true;\n        if (e.shiftKey || e.ctrlKey) {\n            e.preventDefault();\n        }\n        if (e.ctrlKey && this.allowMultiSelection) {\n            EventHandler.add(this.element, 'contextmenu', this.preventContextMenu, this);\n        }\n    };\n    ;\n    TreeView.prototype.preventContextMenu = function (e) {\n        e.preventDefault();\n    };\n    TreeView.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'mousedown', this.mouseDownHandler, this);\n        this.wireClickEvent(true);\n        this.wireExpandOnEvent(true);\n        EventHandler.add(this.element, 'focus', this.focusIn, this);\n        EventHandler.add(this.element, 'blur', this.focusOut, this);\n        EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.element, 'mouseout', this.onMouseLeave, this);\n        this.keyboardModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown',\n        });\n    };\n    TreeView.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'mousedown', this.mouseDownHandler);\n        this.wireClickEvent(false);\n        this.wireExpandOnEvent(false);\n        EventHandler.remove(this.element, 'focus', this.focusIn);\n        EventHandler.remove(this.element, 'blur', this.focusOut);\n        EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.element, 'mouseout', this.onMouseLeave);\n        this.keyboardModule.destroy();\n    };\n    TreeView.prototype.parents = function (element, selector) {\n        var matched = [];\n        var el = element.parentNode;\n        while (!isNOU(el)) {\n            if (matches(el, selector)) {\n                matched.push(el);\n            }\n            el = el.parentNode;\n        }\n        return matched;\n    };\n    TreeView.prototype.isDescendant = function (parent, child) {\n        var node = child.parentNode;\n        while (!isNOU(node)) {\n            if (node === parent) {\n                return true;\n            }\n            node = node.parentNode;\n        }\n        return false;\n    };\n    TreeView.prototype.showSpinner = function (element) {\n        addClass([element], LOAD);\n        createSpinner({\n            target: element,\n            width: Browser.isDevice ? 16 : 14\n        });\n        showSpinner(element);\n    };\n    TreeView.prototype.hideSpinner = function (element) {\n        hideSpinner(element);\n        element.innerHTML = '';\n        removeClass([element], LOAD);\n    };\n    TreeView.prototype.setCheckedNodes = function (nodes) {\n        nodes = JSON.parse(JSON.stringify(nodes));\n        this.uncheckAll();\n        if (nodes.length > 0) {\n            this.checkAll(nodes);\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {TreeView} newProp\n     * @param  {TreeView} oldProp\n     * @returns void\n     * @private\n     */\n    TreeView.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.setDragAndDrop(this.allowDragAndDrop);\n                    break;\n                case 'allowEditing':\n                    this.wireEditingEvents(this.allowEditing);\n                    break;\n                case 'allowMultiSelection':\n                    if (this.selectedNodes.length > 1) {\n                        var sNode = this.getElement(this.selectedNodes[0]);\n                        this.isLoaded = false;\n                        this.removeSelectAll();\n                        this.selectNode(sNode, null);\n                        this.isLoaded = true;\n                    }\n                    this.setMultiSelect(this.allowMultiSelection);\n                    this.addMultiSelect(this.allowMultiSelection);\n                    break;\n                case 'checkedNodes':\n                    if (this.showCheckBox) {\n                        this.checkedNodes = oldProp.checkedNodes;\n                        this.setCheckedNodes(newProp.checkedNodes);\n                    }\n                    break;\n                case 'cssClass':\n                    this.setCssClass(oldProp.cssClass, newProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'expandOn':\n                    this.wireExpandOnEvent(false);\n                    this.setExpandOnType();\n                    this.wireExpandOnEvent(true);\n                    break;\n                case 'fields':\n                    this.listBaseOption.fields = this.fields.properties;\n                    this.listBaseOption.fields.url = this.fields.navigateUrl;\n                    this.reRenderNodes();\n                    break;\n                case 'fullRowSelect':\n                    this.setFullRow(this.fullRowSelect);\n                    this.addFullRow(this.fullRowSelect);\n                    break;\n                case 'nodeTemplate':\n                    this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n                    this.reRenderNodes();\n                    break;\n                case 'selectedNodes':\n                    this.removeSelectAll();\n                    this.setProperties({ selectedNodes: newProp.selectedNodes }, true);\n                    this.doSelectionAction();\n                    break;\n                case 'showCheckBox':\n                    this.reRenderNodes();\n                    break;\n                case 'sortOrder':\n                    this.reRenderNodes();\n                    break;\n            }\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n     */\n    TreeView.prototype.destroy = function () {\n        this.element.removeAttribute('aria-activedescendant');\n        this.element.removeAttribute('tabindex');\n        this.unWireEvents();\n        this.wireEditingEvents(false);\n        this.rippleFn();\n        this.rippleIconFn();\n        this.setCssClass(this.cssClass, null);\n        this.setDragAndDrop(false);\n        this.setFullRow(false);\n        this.element.innerHTML = '';\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Adds the collection of TreeView nodes based on target and index position. If target node is not specified,\n     * then the nodes are added as children of the given parentID or in the root level of TreeView.\n     * @param  { Object[] } nodes - Specifies the array of JSON data that has to be added.\n     * @param  { string | Element } target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  { number } index - Specifies the index to place the newly added nodes in the target element.\n     */\n    TreeView.prototype.addNodes = function (nodes, target, index) {\n        if (isNOU(nodes)) {\n            return;\n        }\n        var dropLi = this.getElement(target);\n        nodes = this.getSortedData(nodes);\n        if (this.fields.dataSource instanceof DataManager) {\n            this.addGivenNodes(nodes, dropLi, index, true);\n        }\n        else if (this.dataType === 2) {\n            this.addGivenNodes(nodes, dropLi, index);\n        }\n        else {\n            if (dropLi) {\n                this.addGivenNodes(nodes, dropLi, index);\n            }\n            else {\n                for (var i = 0; i < nodes.length; i++) {\n                    var pid = getValue(this.fields.parentID, nodes[i]);\n                    dropLi = pid ? this.getElement(pid.toString()) : pid;\n                    this.addGivenNodes([nodes[i]], dropLi, index);\n                }\n            }\n        }\n    };\n    /**\n     * Instead of clicking on the TreeView node for editing, we can enable it by using\n     * `beginEdit` property. On passing the node ID or element through this property, the edit textBox\n     * will be created for the particular node thus allowing us to edit it.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    TreeView.prototype.beginEdit = function (node) {\n        var ele = this.getElement(node);\n        if (!isNOU(ele)) {\n            this.createTextbox(ele, null);\n        }\n    };\n    /**\n     * Checks all the unchecked nodes. You can also check specific nodes by passing array of unchecked nodes\n     * as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.checkAll = function (nodes) {\n        if (this.showCheckBox) {\n            this.doCheckBoxAction(nodes, true);\n        }\n    };\n    /**\n     * Collapses all the expanded TreeView nodes. You can collapse specific nodes by passing array of nodes as argument to this method.\n     * You can also collapse all the nodes excluding the hidden nodes by setting **excludeHiddenNodes** to true. If you want to collapse\n     * a specific level of nodes, set **level** as argument to collapseAll method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/ array of TreeView node.\n     * @param  {number} level - TreeView nodes will collapse up to the given level.\n     * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes of TreeView when collapsing all nodes.\n     */\n    TreeView.prototype.collapseAll = function (nodes, level, excludeHiddenNodes) {\n        if (!isNOU(nodes)) {\n            this.doGivenAction(nodes, COLLAPSIBLE, false);\n        }\n        else {\n            if (level > 0) {\n                this.collapseByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n            }\n            else {\n                this.collapseAllNodes(excludeHiddenNodes);\n            }\n        }\n    };\n    /**\n     * Disables the collection of nodes by passing the ID of nodes or node elements in the array.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     */\n    TreeView.prototype.disableNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            this.doDisableAction(nodes);\n        }\n    };\n    /**\n     * Enables the collection of disabled nodes by passing the ID of nodes or node elements in the array.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     */\n    TreeView.prototype.enableNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            this.doEnableAction(nodes);\n        }\n    };\n    /**\n     * Ensures visibility of the TreeView node by using node ID or node element.\n     * When many TreeView nodes are present and we need to find a particular node, `ensureVisible` property\n     * helps bring the node to visibility by expanding the TreeView and scrolling to the specific node.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView nodes.\n     */\n    TreeView.prototype.ensureVisible = function (node) {\n        var liEle = this.getElement(node);\n        if (isNOU(liEle)) {\n            return;\n        }\n        var parents = this.parents(liEle, '.' + LISTITEM);\n        this.expandAll(parents);\n        setTimeout(function () { liEle.scrollIntoView(true); }, 450);\n    };\n    /**\n     * Expands all the collapsed TreeView nodes. You can expand the specific nodes by passing the array of collapsed nodes\n     * as argument to this method. You can also expand all the collapsed nodes by excluding the hidden nodes by setting\n     * **excludeHiddenNodes** to true to this method. To expand a specific level of nodes, set **level** as argument to expandAll method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     * @param  {number} level - TreeView nodes will expand up to the given level.\n     * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes when expanding all nodes.\n     */\n    TreeView.prototype.expandAll = function (nodes, level, excludeHiddenNodes) {\n        if (!isNOU(nodes)) {\n            this.doGivenAction(nodes, EXPANDABLE, true);\n        }\n        else {\n            if (level > 0) {\n                this.expandByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n            }\n            else {\n                this.expandAllNodes(excludeHiddenNodes);\n            }\n        }\n    };\n    /**\n     * Get the node's data such as id, text, parentID, selected, isChecked, and expanded by passing the node element or it's ID.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    TreeView.prototype.getNode = function (node) {\n        var ele = this.getElement(node);\n        return this.getNodeData(ele, true);\n    };\n    /**\n     * Moves the collection of nodes within the same TreeView based on target or its index position.\n     * @param  {string[] | Element[]} sourceNodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  {number} index - Specifies the index to place the moved nodes in the target element.\n     */\n    TreeView.prototype.moveNodes = function (sourceNodes, target, index) {\n        var dropLi = this.getElement(target);\n        if (isNOU(dropLi)) {\n            return;\n        }\n        for (var i = 0; i < sourceNodes.length; i++) {\n            var dragLi = this.getElement(sourceNodes[i]);\n            if (isNOU(dragLi) || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n                continue;\n            }\n            this.dropAsChildNode(dragLi, dropLi, this, index);\n        }\n    };\n    /**\n     * Removes the collection of TreeView nodes by passing the array of node details as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.removeNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            for (var i = 0, len = nodes.length; i < len; i++) {\n                var liEle = this.getElement(nodes[i]);\n                if (isNOU(liEle)) {\n                    continue;\n                }\n                this.removeNode(liEle);\n            }\n        }\n    };\n    /**\n     * Replaces the text of the TreeView node with the given text.\n     * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  {string} newText - Specifies the new text of TreeView node.\n     */\n    TreeView.prototype.updateNode = function (target, newText) {\n        if (isNOU(target) || isNOU(newText) || !this.allowEditing) {\n            return;\n        }\n        var liEle = this.getElement(target);\n        if (isNOU(liEle)) {\n            return;\n        }\n        var txtEle = select('.' + LISTTEXT, liEle);\n        this.updateOldText(liEle);\n        var eventArgs = this.getEditEvent(liEle, null, null);\n        this.trigger('nodeEditing', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.appendNewText(liEle, txtEle, newText, false);\n    };\n    /**\n     * Unchecks all the checked nodes. You can also uncheck the specific nodes by passing array of checked nodes\n     * as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.uncheckAll = function (nodes) {\n        if (this.showCheckBox) {\n            this.doCheckBoxAction(nodes, false);\n        }\n    };\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowDragAndDrop\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowMultiSelection\", void 0);\n    __decorate([\n        Complex({}, NodeAnimationSettings)\n    ], TreeView.prototype, \"animation\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"checkedNodes\", void 0);\n    __decorate([\n        Property('')\n    ], TreeView.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property('Auto')\n    ], TreeView.prototype, \"expandOn\", void 0);\n    __decorate([\n        Complex({}, FieldsSettings)\n    ], TreeView.prototype, \"fields\", void 0);\n    __decorate([\n        Property(true)\n    ], TreeView.prototype, \"fullRowSelect\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"nodeTemplate\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"selectedNodes\", void 0);\n    __decorate([\n        Property('None')\n    ], TreeView.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"showCheckBox\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"drawNode\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"keyPress\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeChecked\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeChecking\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeClicked\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeCollapsed\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeCollapsing\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragging\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragStart\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragStop\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDropped\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeEdited\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeEditing\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeExpanded\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeExpanding\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeSelected\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeSelecting\", void 0);\n    TreeView = __decorate([\n        NotifyPropertyChanges\n    ], TreeView);\n    return TreeView;\n}(Component));\nexport { TreeView };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, formatUnit, EventHandler, Event, isNullOrUndefined, closest } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, Browser } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, addClass, removeClass, createElement, Touch } from '@syncfusion/ej2-base';\nvar CONTROL = 'e-control';\nvar ROOT = 'e-sidebar';\nvar DOCKER = 'e-dock';\nvar CLOSE = 'e-close';\nvar OPEN = 'e-open';\nvar TRASITION = 'e-transition';\nvar DEFAULTBACKDROP = 'e-sidebar-overlay';\nvar CONTEXTBACKDROP = 'e-backdrop';\nvar RTL = 'e-rtl';\nvar RIGHT = 'e-right';\nvar LEFT = 'e-left';\nvar OVER = 'e-over';\nvar PUSH = 'e-push';\nvar SLIDE = 'e-slide';\nvar VISIBILITY = 'e-visibility';\nvar MAINCONTENTANIMATION = 'e-content-animation';\nvar DISABLEANIMATION = 'e-disable-animation';\nvar CONTEXT = 'e-sidebar-context';\nvar SIDEBARABSOLUTE = 'e-sidebar-absolute';\n/**\n * Sidebar is an expandable and collapsible\n * component that typically act as a side container to place the primary or secondary content alongside of the main content.\n * ```html\n * <aside id=\"sidebar\">\n * </aside>\n * ````\n * ````typescript\n * <script>\n *   let sidebarObject = new Sidebar({ });\n *   sidebarObject.appendTo(\"#sidebar\");\n * </script>\n * ```\n */\nvar Sidebar = /** @class */ (function (_super) {\n    __extends(Sidebar, _super);\n    function Sidebar(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Sidebar.prototype.preRender = function () {\n        this.setWidth();\n    };\n    Sidebar.prototype.render = function () {\n        this.initialize();\n        this.wireEvents();\n    };\n    Sidebar.prototype.initialize = function () {\n        this.setContext();\n        this.addClass();\n        this.setZindex();\n        if (this.enableDock) {\n            this.setDock();\n        }\n        this.setMediaQuery();\n        this.setType(this.type);\n        this.setCloseOnDocumentClick();\n    };\n    Sidebar.prototype.setContext = function () {\n        if (typeof (this.target) === 'string') {\n            this.setProperties({ target: document.querySelector('.' + this.target) }, true);\n        }\n        if (this.target) {\n            this.target.insertAdjacentElement('afterbegin', this.element);\n            addClass([this.element], SIDEBARABSOLUTE);\n            addClass([this.target], CONTEXT);\n        }\n    };\n    Sidebar.prototype.setCloseOnDocumentClick = function () {\n        if (this.closeOnDocumentClick) {\n            EventHandler.add(document, 'mousedown touchstart', this.documentclickHandler, this);\n        }\n        else {\n            EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n        }\n    };\n    Sidebar.prototype.setWidth = function () {\n        if (this.enableDock && this.position === 'Left') {\n            setStyle(this.element, { 'width': formatUnit(this.dockSize) });\n        }\n        else if (this.enableDock && this.position === 'Right') {\n            setStyle(this.element, { 'width': formatUnit(this.dockSize) });\n        }\n        else if (!this.enableDock) {\n            setStyle(this.element, { 'width': formatUnit(this.width) });\n        }\n    };\n    Sidebar.prototype.setZindex = function () {\n        setStyle(this.element, { 'z-index': '' + this.zIndex });\n    };\n    Sidebar.prototype.addClass = function () {\n        var classELement = document.querySelector('.e-main-content');\n        if (!isNullOrUndefined((classELement ||\n            this.element.nextElementSibling))) {\n            addClass([classELement || this.element.nextElementSibling], [MAINCONTENTANIMATION]);\n        }\n        if (!this.enableDock && this.type !== 'Auto') {\n            addClass([this.element], [VISIBILITY]);\n        }\n        removeClass([this.element], [OPEN, CLOSE, RIGHT, LEFT, SLIDE, PUSH, OVER]);\n        this.element.classList.add(ROOT);\n        addClass([this.element], (this.position === 'Right') ? RIGHT : LEFT);\n        if (this.type === 'Auto' && !Browser.isDevice && !this.enableDock) {\n            addClass([this.element], OPEN);\n        }\n        else {\n            addClass([this.element], CLOSE);\n        }\n    };\n    Sidebar.prototype.destroyBackDrop = function () {\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        if (this.target && this.showBackdrop && sibling) {\n            removeClass([sibling], CONTEXTBACKDROP);\n        }\n        else if (this.showBackdrop && this.modal) {\n            this.modal.style.display = 'none';\n            this.modal.outerHTML = '';\n            this.modal = null;\n        }\n    };\n    /**\n     * Hide the Sidebar component.\n     * @returns void\n     */\n    Sidebar.prototype.hide = function () {\n        if (this.element.classList.contains(CLOSE)) {\n            return;\n        }\n        if (this.element.classList.contains(OPEN)) {\n            this.eventArguments = { name: 'change', element: this.element };\n            this.trigger('change', this.eventArguments);\n        }\n        addClass([this.element], CLOSE);\n        removeClass([this.element], OPEN);\n        this.enableDock ? setStyle(this.element, { 'width': formatUnit(this.dockSize) }) :\n            setStyle(this.element, { 'width': formatUnit(this.width) });\n        this.setDock();\n        this.setType(this.type);\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        if (!this.enableDock && sibling) {\n            sibling.style.transform = 'translateX(' + 0 + 'px)';\n            this.position === 'Left' ? sibling.style.marginLeft = '0px' : sibling.style.marginRight = '0px';\n        }\n        this.eventArguments = { name: 'change', element: this.element };\n        this.trigger('close', this.eventArguments);\n        this.destroyBackDrop();\n        this.setCloseOnDocumentClick();\n        this.setAnimation();\n        if (this.type === 'Slide') {\n            document.body.classList.remove('e-sidebar-overflow');\n        }\n    };\n    /**\n     * Shows the Sidebar component.\n     * @returns void\n     */\n    Sidebar.prototype.show = function () {\n        removeClass([this.element], VISIBILITY);\n        if (this.element.classList.contains(OPEN)) {\n            return;\n        }\n        if (this.element.classList.contains(CLOSE)) {\n            this.eventArguments = { name: 'open', element: this.element };\n            this.trigger('change', this.eventArguments);\n        }\n        addClass([this.element], [OPEN, TRASITION]);\n        setStyle(this.element, { 'transform': '' });\n        removeClass([this.element], CLOSE);\n        setStyle(this.element, { 'width': formatUnit(this.width) });\n        var elementWidth = this.element.getBoundingClientRect().width;\n        this.setType(this.type);\n        this.createBackDrop();\n        this.eventArguments.name = 'open';\n        this.eventArguments.element = this.element;\n        this.trigger('open', this.eventArguments);\n        this.setCloseOnDocumentClick();\n        this.setAnimation();\n        if (this.type === 'Slide') {\n            document.body.classList.add('e-sidebar-overflow');\n        }\n    };\n    Sidebar.prototype.setAnimation = function () {\n        if (this.animate) {\n            removeClass([this.element], DISABLEANIMATION);\n        }\n        else {\n            addClass([this.element], DISABLEANIMATION);\n        }\n    };\n    Sidebar.prototype.setDock = function () {\n        if (this.enableDock && this.position === 'Left' && !this.isOpen()) {\n            setStyle(this.element, { 'transform': 'translateX(' + -100 + '%) translateX(' + formatUnit(this.dockSize) + ')' });\n        }\n        else if (this.enableDock && this.position === 'Right' && !this.isOpen()) {\n            setStyle(this.element, { 'transform': 'translateX(' + 100 + '%) translateX(' + '-' + formatUnit(this.dockSize) + ')' });\n        }\n        if (this.element.classList.contains(CLOSE) && this.enableDock) {\n            setStyle(this.element, { 'width': formatUnit(this.dockSize) });\n        }\n    };\n    Sidebar.prototype.createBackDrop = function () {\n        if (this.target && this.showBackdrop) {\n            var sibling = document.querySelector('.e-main-content') ||\n                this.element.nextElementSibling;\n            addClass([sibling], CONTEXTBACKDROP);\n        }\n        else if (this.showBackdrop && !this.modal && this.isOpen()) {\n            this.modal = createElement('div');\n            this.modal.className = DEFAULTBACKDROP;\n            this.modal.style.display = 'block';\n            document.body.appendChild(this.modal);\n        }\n    };\n    Sidebar.prototype.getPersistData = function () {\n        return this.addOnPersist(['type', 'position']);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Sidebar.prototype.getModuleName = function () {\n        return 'sidebar';\n    };\n    /**\n     * Shows or hides the Sidebar based on the current state.\n     * @returns void\n     */\n    Sidebar.prototype.toggle = function (e) {\n        this.element.classList.contains(OPEN) ? this.hide() : this.show();\n    };\n    /**\n     * Specifies the current state of the Sidebar component.\n     * @returns boolean\n     */\n    Sidebar.prototype.isOpen = function () {\n        return this.element.classList.contains(OPEN) ? true : false;\n    };\n    Sidebar.prototype.setMediaQuery = function () {\n        if (this.mediaQuery && this.mediaQuery.matches) {\n            this.show();\n        }\n        else if (this.mediaQuery && this.isOpen()) {\n            this.hide();\n        }\n    };\n    Sidebar.prototype.resize = function (e) {\n        if (this.type === 'Auto') {\n            if (Browser.isDevice) {\n                addClass([this.element], OVER);\n            }\n            else {\n                addClass([this.element], PUSH);\n            }\n        }\n        this.setMediaQuery();\n    };\n    Sidebar.prototype.documentclickHandler = function (e) {\n        if (closest(e.target, '.' + CONTROL + '' + '.' + ROOT)) {\n            return;\n        }\n        this.hide();\n    };\n    Sidebar.prototype.enableGestureHandler = function (args) {\n        if (this.position === 'Left' && args.swipeDirection === 'Right' &&\n            (args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5)) {\n            this.show();\n        }\n        else if (this.position === 'Left' && args.swipeDirection === 'Left') {\n            this.hide();\n        }\n        else if (this.position === 'Right' && args.swipeDirection === 'Right') {\n            this.hide();\n        }\n        else if (this.position === 'Right' && args.swipeDirection === 'Left'\n            && (window.innerWidth - args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5)) {\n            this.show();\n        }\n    };\n    Sidebar.prototype.setEnableGestures = function () {\n        if (this.enableGestures) {\n            this.mainContentEle = new Touch(document.body, { swipe: this.enableGestureHandler.bind(this) });\n            this.sidebarEle = new Touch(this.element, { swipe: this.enableGestureHandler.bind(this) });\n        }\n        else {\n            if (this.mainContentEle && this.sidebarEle) {\n                this.mainContentEle.destroy();\n                this.sidebarEle.destroy();\n            }\n        }\n    };\n    Sidebar.prototype.wireEvents = function () {\n        this.setEnableGestures();\n        window.addEventListener('resize', this.resize.bind(this));\n    };\n    Sidebar.prototype.unWireEvents = function () {\n        window.removeEventListener('resize', this.resize.bind(this));\n        EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n        if (this.mainContentEle) {\n            this.mainContentEle.destroy();\n        }\n        if (this.sidebarEle) {\n            this.sidebarEle.destroy();\n        }\n    };\n    Sidebar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    this.setWidth();\n                    if (!this.isOpen()) {\n                        this.setDock();\n                    }\n                    break;\n                case 'animate':\n                    this.setAnimation();\n                    break;\n                case 'type':\n                    removeClass([this.element], [VISIBILITY]);\n                    this.addClass();\n                    this.setType(this.type);\n                    break;\n                case 'position':\n                    this.element.style.transform = '';\n                    this.setDock();\n                    if (sibling) {\n                        this.position === 'Left' ? sibling.style.marginRight = '0px' : sibling.style.marginLeft = '0px';\n                    }\n                    if (this.position === 'Right') {\n                        removeClass([this.element], LEFT);\n                        addClass([this.element], RIGHT);\n                    }\n                    else {\n                        removeClass([this.element], RIGHT);\n                        addClass([this.element], LEFT);\n                    }\n                    this.setType(this.type);\n                    break;\n                case 'showBackdrop':\n                    if (this.showBackdrop) {\n                        this.createBackDrop();\n                    }\n                    else {\n                        if (this.modal) {\n                            this.modal.style.display = 'none';\n                            this.modal.outerHTML = '';\n                            this.modal = null;\n                        }\n                    }\n                    break;\n                case 'target':\n                    if (typeof (this.target) === 'string') {\n                        this.setProperties({ target: document.querySelector('.' + this.target) }, true);\n                    }\n                    if (isNullOrUndefined(this.target)) {\n                        removeClass([this.element], SIDEBARABSOLUTE);\n                        removeClass([oldProp.target], CONTEXT);\n                        setStyle(sibling, { 'margin-left': 0, 'margin-right': 0 });\n                        document.body.insertAdjacentElement('afterbegin', this.element);\n                    }\n                    else {\n                        _super.prototype.refresh.call(this);\n                    }\n                    break;\n                case 'closeOnDocumentClick':\n                    this.setCloseOnDocumentClick();\n                    break;\n                case 'enableDock':\n                    if (!this.isOpen()) {\n                        this.setDock();\n                    }\n                    break;\n                case 'zIndex':\n                    this.setZindex();\n                    break;\n                case 'mediaQuery':\n                    this.setMediaQuery();\n                    break;\n                case 'enableGestures':\n                    this.setEnableGestures();\n                    break;\n            }\n        }\n    };\n    Sidebar.prototype.setType = function (type) {\n        var elementWidth = this.element.getBoundingClientRect().width;\n        this.setZindex();\n        if (this.enableDock) {\n            addClass([this.element], DOCKER);\n        }\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        if (sibling) {\n            sibling.style.transform = 'translateX(' + 0 + 'px)';\n            if (!Browser.isDevice && this.type !== 'Auto') {\n                this.position === 'Left' ? sibling.style.marginLeft = '0px' : sibling.style.marginRight = '0px';\n            }\n        }\n        var margin = this.position === 'Left' ? elementWidth + 'px' : elementWidth + 'px';\n        var eleWidth = this.position === 'Left' ? elementWidth : -(elementWidth);\n        removeClass([this.element], [PUSH, OVER, SLIDE]);\n        switch (type) {\n            case 'Push':\n                addClass([this.element], [PUSH]);\n                if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                    this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                }\n                break;\n            case 'Slide':\n                addClass([this.element], [SLIDE]);\n                if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                    sibling.style.transform = 'translateX(' + eleWidth + 'px)';\n                }\n                break;\n            case 'Over':\n                addClass([this.element], [OVER]);\n                if (this.enableDock && this.element.classList.contains(CLOSE)) {\n                    if (sibling) {\n                        this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                    }\n                }\n                break;\n            case 'Auto':\n                addClass([this.element], [TRASITION]);\n                if (Browser.isDevice) {\n                    if (sibling && (this.enableDock) && !this.isOpen()) {\n                        this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                        addClass([this.element], PUSH);\n                    }\n                    else {\n                        addClass([this.element], OVER);\n                    }\n                }\n                else {\n                    addClass([this.element], PUSH);\n                    if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                        this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                    }\n                }\n                this.createBackDrop();\n        }\n    };\n    /**\n     * Removes the control from the DOM and removes all its related events\n     * @returns void\n     */\n    Sidebar.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        removeClass([this.element], [OPEN, CLOSE, PUSH, SLIDE, OVER, LEFT, RIGHT, TRASITION]);\n        if (this.target) {\n            removeClass([this.element], SIDEBARABSOLUTE);\n            removeClass([this.target], CONTEXT);\n        }\n        this.destroyBackDrop();\n        this.element.style.width = '';\n        this.element.style.zIndex = '';\n        this.element.style.transform = '';\n        var sibling = document.querySelector('.e-main-content')\n            || this.element.nextElementSibling;\n        if (!isNullOrUndefined(sibling)) {\n            sibling.style.margin = '';\n            sibling.style.transform = '';\n        }\n        this.unWireEvents();\n    };\n    __decorate([\n        Property('auto')\n    ], Sidebar.prototype, \"dockSize\", void 0);\n    __decorate([\n        Property(null)\n    ], Sidebar.prototype, \"mediaQuery\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"enableDock\", void 0);\n    __decorate([\n        Property(true)\n    ], Sidebar.prototype, \"enableGestures\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(true)\n    ], Sidebar.prototype, \"animate\", void 0);\n    __decorate([\n        Property('auto')\n    ], Sidebar.prototype, \"height\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"closeOnDocumentClick\", void 0);\n    __decorate([\n        Property('Left')\n    ], Sidebar.prototype, \"position\", void 0);\n    __decorate([\n        Property(null)\n    ], Sidebar.prototype, \"target\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"showBackdrop\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Sidebar.prototype, \"type\", void 0);\n    __decorate([\n        Property('auto')\n    ], Sidebar.prototype, \"width\", void 0);\n    __decorate([\n        Property(1000)\n    ], Sidebar.prototype, \"zIndex\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"destroyed\", void 0);\n    Sidebar = __decorate([\n        NotifyPropertyChanges\n    ], Sidebar);\n    return Sidebar;\n}(Component));\nexport { Sidebar };\n"],"names":["__extends","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","this","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","CLS_RTL","CLS_DISABLE","CLS_NAVARROW","CLS_NAVRIGHTARROW","CLS_NAVLEFTARROW","CLS_HSCROLLNAV","CLS_HSCROLLNAVRIGHT","CLS_HSCROLLNAVLEFT","HScroll","_super","options","element","call","preRender","browser","Browser","info","name","browserCheck","isDevice","ieCheck","initialize","id","getUniqueID","uniqueId","style","display","enableRtl","classList","add","render","touchModule","Touch","scroll","touchHandler","bind","createNavIcon","EventHandler","scrollEle","scrollHandler","buildTag","className","scrollDiv","setAttribute","ele","_i","innerEle_1","slice","children","ele_1","appendChild","overflowX","scrollItems","getPersistData","addOnPersist","getModuleName","destroy","remove","nav","selectAll","_a","elem","removeAttribute","detach","concat","clsRight","navItem","clsLeft","navEle","navLeftItem","insertBefore","firstChild","eventBinding","onKeyPress","e","_this","keyTimer","window","setTimeout","keyTimeout","eleScrolling","onKeyUp","click","clearTimeout","forEach","el","tapHold","tabHoldHandler","tapHoldThreshold","addEventListener","repeatScroll","preventDefault","clickEventHandler","clearInterval","timeout","trgt","originalEvent","contains","firstElementChild","setInterval","scrollDis","rootEle","querySelector","scrlLeft","scrollLeft","scrollStep","distance","distanceX","scrollDirection","arrowDisabling","addDisable","removeDisable","width","offsetWidth","navLeftEle","navRightEle","Math","ceil","scrollWidth","disEle","onPropertyChanged","newProp","oldProp","keys","Property","NotifyPropertyChanges","Component","CLS_ITEMS","CLS_ITEM","CLS_SEPARATOR","CLS_POPUPICON","CLS_POPUPDOWN","CLS_POPUPTEXT","CLS_TBARTEXT","CLS_TBAROVERFLOW","CLS_POPOVERFLOW","CLS_TBARNAV","CLS_TBARCENTER","CLS_TBARPOS","CLS_POPUPCLASS","CLS_POPUP","CLS_TBARNAVACT","CLS_TBARIGNORE","CLS_POPPRI","Item","apply","ChildProperty","Toolbar","keyConfigs","moveLeft","moveRight","moveUp","moveDown","popupOpen","popupClose","tab","home","end","unwireEvents","removeChild","trgtEle","ctrlTem","clearProperty","popObj","tbarAlign","attrb","trigger","scrollModule","tbarItemsCol","items","popupPriCount","wireEvents","clickHandler","resize","keyModule","KeyboardEvents","keyAction","keyActionHandler","docKeyDown","tagName","keyCode","isVisible","hide","duration","destroyHScroll","document","docEvent","tbarEle","tbarAlgEle","lefts","centers","rights","popEle","closest","destroyItems","querySelectorAll","tbarItems","destroyMode","popupRefresh","val","elementFocus","fChild","focus","activeEleSwitch","clstElement","tbrNavChk","keyHandling","clst","navChk","scrollChk","popAnimate","action","eleFocus","nodes","popupCheck","value","popFrstEle","lastElementChild","activeEle","activeEleRemove","top","offsetHeight","show","tbarScrollChk","pos","sib","skipEle","parentElement","isNOU","clsList","isPopupElement","popupNav","popupClickHandler","itemObj","indexOf","eventArgs","item","cancel","position","X","Y","offsetX","dataBind","refreshPosition","renderControl","formatUnit","height","setStyle","attributes","role","aria-disabled","aria-haspopup","aria-orientation","renderItems","renderOverflowMode","itemPositioning","childElementCount","checkPopupRefresh","initHScroll","innerItems","checkOverflow","overflow","itemWidthCal","parseFloat","getComputedStyle","marginRight","innerItem","itemWidth","eleWidth","popNav","scrollNav","refreshOverflow","priorityCheck","offsetWid","overflowMode","getElementsByClassName","removePositioning","createPopupEle","innerEle","innerNav","createPopupIcon","direction","checkPriority","removeProperty","createPopup","pushingPoppedEle","tbarObj","popupPri","eleHeight","nodeIndex","nodePri","index","tbResize","push","childNodes","tbarElement","eleItem","popupInit","popupEle","maxHeight","popup","Popup","relateTo","offsetY","open","close","appendTo","toolEle","popupElePos","offsetTop","calculatePosition","popIcon","scrollVal","scrollY","innerHeight","overflowHeight","inEle","pre","popPriority","eleWid","sepCheck","itemCount","itemPopCount","checkClass","rVal","cls","mrgn","marginLeft","fstEleCheck","tbarEleMrgn","eleWid_1","minWidth","offsetLeft","sepEle","popedEle","tbarPriRef","indx","sepPri","des","elWid","wid","ig","ignoreCount","priEleCnt","eleSep","ignoreCheck","eleSepWidth","prevSep","previousElementSibling","popupEleRefresh","ignoreEleFetch","ignoreEle","ignoreInx","count","root","popupEleWidth","tbarWidth","tbarItemsWid","elWidth","btnText","btn","eleSplice","_loop_1","this_1","align","toLowerCase","sepBeforePri_1","refreshPositioning","margin","tbarWid","popWid","left","right","tbarItemAlign","itemEle","showAlwaysInPopup","alignDiv","alignEle","leftAlign_1","ctrlTemplate","cloneNode","itemEleDom","innerPos","renderSubComponent","setAttr","attr","keyVal","enableItems","isEnable","elements","len","enable","removeClass","addClass","addItems","itemsDiv","itemAgn","items_1","type","algIndex","splice","parentNode","removeItems","args","parseInt","toString","removeItemByIndex","eleIdx","indexAgn","templateRender","templateProp","isComponent","itemType","eleObj","templateFn","trim","tempStr","outerHTML","templateCompiler","template","tempArray","buttonRendering","dom","iconCss","iconPos","textStr","text","btnTxt","innerHTML","prefixIcon","suffixIcon","Button","iconPosition","htmlAttributes","tooltipText","cssClass","itemClick","showTextOn","sTxt","currentTarget","curEle","itemsRerender","tEle","changedProb","property","newProperty","refresh","itemCol","hideItem","Collection","Event","CLS_ACRDN_ROOT","CLS_ROOT","CLS_HEADER","CLS_HEADERCTN","CLS_CONTENT","CLS_CTENT","CLS_TOOGLEICN","CLS_EXPANDICN","CLS_CTNHIDE","CLS_SLCT","CLS_SLCTED","CLS_ACTIVE","CLS_TOGANIMATE","CLS_EXPANDSTATE","AccordionActionSettings","AccordionAnimationSettings","Complex","effect","easing","AccordionItem","undefined","Accordion","enter","space","isDestroy","templateEle","eleStr","body","nested","isNested","enablePersistence","expandedItems","initExpand","aria-multiselectable","expandMode","select","initItemExpand","rippleEffect","selector","eventName","focusIn","focusOut","content","innerEles","header","tabindex","aria-level","headerEle","toggleIconGenerate","aria-labelledby","aria-hidden","tglIcon","hdrColIcon","expandItem","renderInnerItem","acrdnItem","acrdnHdr","acrdnCtn","acrdnCtnItem","acrdActive","getIndexByItem","contentRendering","ariaAttrUpdate","cntclkCheck","acrdAniEle","acrdAniEle_1","sameContentCheck","getAttribute","sameHeader","acrdnCtn_1","expandState","collapse","expand","eleMoveFocus","clstItem","nextElementSibling","headerEleGenerate","ariaAttr","aria-expanded","aria-selected","ctnEle","hdrEle","fetchElement","hdr","expanded","hdrIcnEle","icon","hdrIcon","isHeader","temString","eleVal","itemcnt","ctn","trgtItemEle","animation","timingFunction","isExpanded","eff","expandedItemsPush","expandProgress","expandAnimation","ef","icn","animate","begin","progress","minHeight","Animation","expandedItemsPop","collapseProgress","collapseAnimation","trgtItEl","trgtHeight","itemHeight","remain","itemAttribUpdate","itemLen","addItem","innerItemEle","expandedItemRefresh","removeItem","isHidden","enableItem","eleHeader","isExpand","itemExpand","updateItem","acrdn","changedProp","oldVal","newVal","DOWNARROW","FOCUSED","HEADER","RIGHTARROW","SELECTED","SEPARATOR","WRAPPER","DISABLED","HIDE","MenuItem","ContextMenu","navIdx","isTapHold","ejInst","getValue","ul","createElement","ngElement","setValue","initWrapper","wrapper","getWrapper","zIndex","getZindexPartial","ListBase","createJsonFromElement","createItems","append","targetElems","isIos","cmenuHandler","targetElement","getScrollableParent","parent_1","moverHandler","mouseDownHandler","delegateClickHandler","keyBoardHandler","downarrow","uparrow","leftarrow","rightarrow","escape","closeMenu","upDownKeyHandler","rightEnterKeyHandler","leftEscKeyHandler","cul","defaultIdx","fliIdx","fli","getLIByClass","getIdx","cli","isValidLI","getItem","openMenu","sli","canOpen","changedTouches","pageY","pageX","ulIndex","isMenuVisible","closeArgs","beforeCloseArgs","cnt","parentItem","event","toggleAnimation","valueOf","filter","split","li","lastChild","data","ICONS","hdata","hli","getIndex","textContent","pop","setPosition","toggleVisiblity","collide","isCollide","offset","fit","Number","replace","x","xCollision","visibility","showIcon","hasField","listBaseOptions","moduleName","itemCreating","curData","itemCreated","separator","span","createList","toRawObject","menuItems","properties","getLI","showItemOnClick","field","cliWrapper","isInstLI","setLISelected","showSubMenu","cliIdx","culIdx","idx","classname","getItems","skipHdr","toggle","unWireEvents","getChangedItemIndex","insertAfter","uls","getInstance","parent_2","keyboardModule","isMenuOpen","animationSettings","getBoundingClientRect","isCallBack","unshift","disabled","showItems","showHideItems","hideItems","ishide","iitems","insertItems","isAfter","menuitem","CLS_HIDDEN","CLS_ICON_CLOSE","CLS_WRAP","CLS_TB_ITEMS","CLS_TB_ITEM","CLS_TB_POPUP","CLS_PROGRESS","TabActionSettings","TabAnimationSettings","Header","TabItem","Tab","prevIndex","animateOptions","animObj","title","delete","tbObj","expTemplateContent","isTemplate","cntEle","isPopup","initRender","isSwipeed","css","setCssClass","aria-activedescendant","renderContainer","setOrientation","headerPlacement","renderHeader","tbItems","renderContent","bdrLine","CLS_INDICATOR","scrCnt","setContentHeight","selectedItem","setRTL","tabItems","btnCls","CLS_ICONS","attrs","hdrItems","aria-controls","txt","cont","wrap","tabIndex","parseObject","clicked","setCloseButton","showCloseButton","setProperties","hdrItem","contents","inHTML","tbCount","tItems","isReplace","tHtml","txtEmpty","wrapAttrs","tCont","tItem","removeActiveClass","hdrActEle","no","extIndex","findEle","checkPopupOverflow","tbPop","tbrItems","popupHandler","ripEle","tbItem","actEleId","prevEle","trg","refreshActElePosition","prevCtnAnimation","prev","current","previous","next","triggerPrevAnimation","oldCnt","animateObj","triggerAnimation","prevActiveEle","newCnt","getTrgContent","idNo","openEff","clsEff","setActiveBorder","keyPressed","trgParent","trgIndex","getEleIndex","templateCompile","tempEle","compile","getContent","place","list","heightAdjustMode","max","getHeight","cs","getPropertyValue","hsCnt","bar","tbWidth","setActive","isNaN","trg_1","enableAnimation","eleTrg","curActItem","refreshItemVisibility","eventArg","previousItem","prevItem","previousIndex","selectedIndex","isSwiped","setItems","refreshActiveBorder","hoverHandler","spaceKeyDown","swipe","swipeHandler","keyHandler","tabKeyModule","openPopup","shiftTab","removeEventListener","removeTab","velocity","swipeDirection","which","clstHead","actEle","ej2_instances","activeElement","nxtSib","nextSibling","scrBar","scrStart","scrEnd","eleStart","eleEnd","eleViewRange","L10n","closeButtonTitle","locale","getConstant","enableTab","addTab","addedItems","removingArgs","removedItem","removedIndex","cntTrg","removedArgs","hideTab","disable","cntItem","arr","tempHdrEle","ROOT","COLLAPSIBLE","EXPANDABLE","LISTITEM","LISTTEXT","PARENTITEM","HOVER","ACTIVE","LOAD","PROCESS","ICON","TEXTWRAP","TREEINPUT","DRAGGING","SIBLING","DROPNEXT","FULLROW","EXPANDED","NODECOLLAPSED","CHECK","CHECKBOXWRAP","CHECKBOXFRAME","FOCUS","treeAriaAttr","treeRole","itemRole","listRole","itemText","wrapperRole","FieldsSettings","ActionSettings","NodeAnimationSettings","TreeView","mouseDownStatus","checkActionNodes","dragStartAction","isAnimate","f2","ctrlDown","ctrlUp","ctrlEnter","ctrlHome","ctrlEnd","ctrlA","shiftDown","shiftUp","shiftEnter","shiftHome","shiftEnd","csDown","csUp","csEnter","csHome","csEnd","listBaseOption","expandCollapse","fields","expandIconClass","ariaAttributes","expandIconPosition","beforeNodeCreate","url","navigateUrl","aniObj","treeList","isLoaded","setTouchClass","selectedNodes","checkedNodes","setDataBinding","setExpandOnType","setRipple","wireEditingEvents","allowEditing","setDragAndDrop","allowDragAndDrop","setEnableRtl","setFullRow","fullRowSelect","nodeTemplateFn","templateComplier","nodeTemplate","rippleModel","ignore","rippleFn","iconModel","isCenterRipple","rippleIconFn","isEnabled","setMultiSelect","firstUl","dataSource","DataManager","executeQuery","getQuery","then","treeData","result","isNumberTypeId","getType","setRootData","finalize","rootData","mapper","query","columns","clone","Query","prop","getActualProperties","col","from","tableName","addSorting","sortOrder","parentID","where","dataType","getDataType","groupedData","getGroupedData","rootItems","getChildNodes","isSorted","level","ulElement","getSortedData","finalizeNode","showCheckBox","checkboxEle","createCheckBox","touchClass","checkValue","isChecked","addCheck","frame","frameMouseHandler","createFullRow","allowMultiSelection","addActionClass","selected","textEle","node","nodeData","rippleSpan","rippleMouseHandler","actionValue","ds","child","hasChildren","groupBy","cusQuery","group","getDataSource","grpItem","j","iNodes","k","sNodes","selectNode","cNodes","eNodes","renderChildNodes","updateList","updateCheckedProp","nodes_1","checkBox","ensureParentCheckState","checkBoxEle","changeState","parentUL","currentParent","ensureChildCheckState","childElement","checkBoxes","checkedState","currentLoadData","isNodeChecked","doCheckBoxAction","doCheck","liEle","getElement","validateCheckNode","state","isPrevent","isAdd","ariaState","currLi","getCheckEvent","frameSpan","removeCheck","isUndefined","checked","getNodeData","isInteracted","firstNode","updateIdAttr","doSelectionAction","sUids","sNode","selectGivenNodes","preventContextMenu","removeHover","setFocusElement","checkWrapper","checkElement","triggerClickEvent","expandAction","collapseNode","toggleSelect","nodeCheckingEvent","isCheck","nodeCheckedEvent","expandNode","hideSpinner","start","proxy","setHeight","expandedNode","animateHeight","expandArgs","getExpandEvent","colArgs","currentHeight","timeStamp","parentLi","expandChild","eicon","showSpinner","childItems","parents","mapper_1","getChildFields","getNodeObject","ensureCheckNode","renderSubChild","getFields","nodeLevel","dataLevel","getChildMapper","obj","parentId","isRoot","getChildGroup","objlen","dataId","cIcons","curLi","multiSelect","ctrlKey","isActive","unselectNode","getSelectEvent","removeSelectAll","shiftKey","startNode","startIndex","liList","endIndex","temp","currNode","addSelect","removeSelect","focusedNode","getFocusedNode","selectedLI","selectedLI_1","expandOnType","expandOn","expandHandler","expandCollapseAction","nodeName","inpEle","blur","oldText","checkNode","openNode","shiftKeySelect","navigateNode","navigateRootNode","createTextbox","navigateToFocus","isUp","focusNode","parent","getScrollParent","parentPos","bottom","scrollTop","isVisibleInViewport","scrollIntoView","txtWrap","documentElement","clientHeight","innerWidth","clientWidth","scrollHeight","isTowards","nextNode","getNextNode","getPrevNode","checkWrap","toBeOpened","focusNextNode","setFocus","isBackwards","rootNode","getRootNode","getEndNode","fNode","prevNode","endNode","preNode","onMouseOver","currentLi","setHover","onMouseLeave","hoveredNode","fromDS","getText","pNode","pid","nodeFields","reRenderNodes","oldClass","newClass","editingHandler","oldInpEle","updateOldText","getEditEvent","innerHtml","inputObj","Input","createInput","container","inputEle","setSelectionRange","wireInputEvents","editData","editFields","inputFocusOut","newText","txtEle","appendNewText","isInput","newData","getChildNodeObject","newList","childData","toBind","initializeDrag","destroyDrag","virtualEle","dragObj","Draggable","enableTailMode","dragTarget","helper","sender","dragRoot","dragWrap","dragLi","isSameNode","cloneEle","DRAGITEM","nLen","cNode","cursor","dragData","dragStart","getDragEvent","drag","cursorAt","targetTouches","dragAction","dragStop","removeVirtualEle","dropTarget","dropRoot","dropObj","Droppable","out","over","drop","dropAction","dropWrap","dropLi","isDescendant","virEle","renderVirtualEle","draggable","droppedElement","appendNode","dropAsSiblingNode","dropAsChildNode","dropUl","dragParentUl","dragParentLi","updateElement","updateAriaLevel","updateInstance","dropParentUl","expandParent","dropIcon","generateIcon","generateUL","dragIcon","updateChildAriaLevel","sibEle","dropData","draggedNode","draggedNodeData","droppedNode","droppedNodeData","addFullRow","toAdd","rowDiv","addMultiSelect","liEles_1","liEles_2","collapseByLevel","excludeHiddenNodes","getVisibleNodes","collapseAllNodes","expandByLevel","expandAllNodes","eIcons","vNodes","removeNode","updateSelectedNodes","doGivenAction","toExpand","addGivenNodes","isRemote","updateMapper","createListItemFromJson","refNode","doDisableAction","doEnableAction","proxy_1","touchEditObj","tap","tapCount","wireClickEvent","proxy_2","touchClickObj","wireExpandOnEvent","proxy_3","touchExpandObj","matched","matches","createSpinner","setCheckedNodes","JSON","parse","stringify","uncheckAll","checkAll","addNodes","beginEdit","collapseAll","disableNodes","enableNodes","ensureVisible","expandAll","getNode","moveNodes","sourceNodes","removeNodes","updateNode","CLOSE","OPEN","TRASITION","RIGHT","OVER","PUSH","VISIBILITY","DISABLEANIMATION","CONTEXT","SIDEBARABSOLUTE","Sidebar","setWidth","setContext","setZindex","enableDock","setDock","setMediaQuery","setType","setCloseOnDocumentClick","insertAdjacentElement","closeOnDocumentClick","documentclickHandler","dockSize","z-index","classELement","isNullOrUndefined","destroyBackDrop","sibling","showBackdrop","modal","eventArguments","transform","setAnimation","createBackDrop","isOpen","mediaQuery","enableGestureHandler","startX","setEnableGestures","enableGestures","mainContentEle","sidebarEle","margin-left","margin-right","elementWidth"],"mappings":"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"}